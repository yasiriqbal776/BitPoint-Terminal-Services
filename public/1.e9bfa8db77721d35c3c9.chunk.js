webpackJsonp([1],{1043:function(t,e){t.exports="/*\n * Bootstrap calendar\n */\nbody {\n  background: #34495e !important; }\n\n.login-button {\n  position: absolute;\n  right: 50px;\n  top: 50px; }\n\n.dashboard {\n  padding: 10%; }\n\n.calendar {\n  font-size: 13px;\n  padding: 0.5rem 0; }\n\n.calendar a {\n  text-decoration: none;\n  cursor: pointer;\n  color: #343434 !important;\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n  position: relative; }\n\n.calendar td {\n  text-align: center; }\n\n.calendar .header {\n  padding: 10px 0 10px 0;\n  color: #666; }\n  .calendar .header i {\n    cursor: pointer; }\n\n.calendar .prev_month {\n  float: left; }\n\n.calendar .next_month {\n  float: right; }\n\n.calendar .year {\n  text-align: center;\n  font-weight: 500; }\n\n.calendar .week_days {\n  color: #999999; }\n\n.calendar .event {\n  color: white;\n  font-weight: bold;\n  background-color: transparent; }\n  .calendar .event:hover > a {\n    background-color: #eeeeee; }\n  .calendar .event > a {\n    background-color: #fff;\n    border-radius: 50%; }\n    .calendar .event > a > span {\n      display: inline-block;\n      width: 6px;\n      height: 6px;\n      position: absolute;\n      bottom: 1px;\n      right: 1px;\n      border-radius: 50%; }\n  .calendar .event .popover {\n    color: #555555; }\n\n.calendar .table td {\n  padding: 1px 0;\n  border-top: 0; }\n\n.calendar .table {\n  margin-bottom: 3px; }\n  .calendar .table.header {\n    margin-bottom: 0.5rem; }\n\n.calendar .visualmonthyear {\n  color: #999999; }\n\n.dropdown-menu .calendar td a {\n  padding: 0px; }\n\n/**\n * Mapael\n */\n.mapTooltip {\n  position: fixed;\n  padding: 2px;\n  z-index: 1000;\n  max-width: 200px;\n  display: none;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 0.25rem;\n  font-size: 0.875rem;\n  color: #555555; }\n\n.zoomIn, .zoomOut {\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  width: 20px;\n  height: 20px;\n  box-sizing: content-box;\n  border: 1px solid #ccc;\n  background-color: #fff;\n  color: #555555;\n  line-height: 20px;\n  text-align: center;\n  border-radius: 0.25rem;\n  cursor: pointer;\n  font-weight: 700;\n  user-select: none; }\n\n.zoomOut {\n  left: 36px; }\n\n.mapael {\n  position: relative;\n  margin: -15px -20px 0; }\n  .mapael .map {\n    position: relative; }\n  .mapael .stats {\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    left: 0;\n    margin: 5% 10%; }\n\n.subscriptionBox {\n  width: 58%;\n  margin: 0 auto;\n  position: relative;\n  height: 48px;\n  margin-top: 10px;\n  margin-bottom: 50px; }\n\n.input-wrapper {\n  position: absolute;\n  left: 0;\n  height: 100%;\n  top: 0;\n  width: 70%; }\n\n.btn-wrapper {\n  position: absolute;\n  left: 70%;\n  height: 100%;\n  top: 0;\n  width: 30%; }\n\n.btn-wrapper button, .input-wrapper input {\n  width: 100%;\n  height: 100%;\n  height: 100%; }\n\n.left-heading, .right-value {\n  position: relative;\n  float: left; }\n\n.right-value {\n  margin-left: 15px; }\n\n.left-heading p {\n  font-weight: bold; }\n\n.errosDiv {\n  width: 320px;\n  margin: 0 auto; }\n\n.input-wrapper input {\n  background: white;\n  padding-left: 15px;\n  border: none;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n  font-size: 17.5 !important;\n  font-family: 'Open Sans';\n  font-weight: 500; }\n\n.btn-wrapper button {\n  border: none;\n  background: #64bbe1;\n  color: white;\n  font-family: 'Open Sans';\n  border-radius: 4px;\n  border-bottom-left-radius: 0;\n  border-top-left-radius: 0;\n  font-size: 24px; }\n\n.input-wrapper input::placeholder {\n  color: #aaaaaa;\n  font-style: italic;\n  font-size: 17.5 !important;\n  font-family: 'Open Sans';\n  font-weight: 500; }\n\n.table td > .abc-checkbox > label:before,\n.table td > .abc-checkbox > label:after,\n.table th > .abc-checkbox > label:before,\n.table th > .abc-checkbox > label:after {\n  margin-left: -16px; }\n\n/***********************/\n/* Part:Progress Stats */\n/***********************/\n.progress-stats .name {\n  margin-bottom: 2px; }\n\n.progress-stats .description {\n  margin-bottom: 2px; }\n\n.progress-stats .status {\n  margin-top: 15px; }\n\n@media (max-width: 1199px) {\n  .progress-stats .description + .progress {\n    margin-bottom: 0; } }\n\n@media only screen and (max-width: 560px) {\n  .dashboard {\n    margin-top: 150px; }\n  .subscriptionBox {\n    width: 100%; } }\n"},1082:function(t,e){t.exports='<div class="login-button">\n <a  (click)="rerouteToLogin()" title="login" style="color:white"><img src="assets/img/login.png"></a>\n</div>\n<div class="dashboard">\n\n<h1 class="page-title" style="text-align:center;margin-bottom:50px;color:white;font-size:40px;">Transaction Details</h1>\n\n\n\n\n\t<div class="errosDiv" *ngIf="errorDiv">Enter a transaction Id</div>\n\t\t  <div class="subscriptionBox clearfix">\n\t\t\t\n\t\t\t\t<div class="input-wrapper">\n\t\t\t\t\t<input type="text" name="transactionId" [(ngModel)]="transactionId" class="custom-input" placeholder="Enter your transaction ID">\n\t\t\t\t</div>\n\t\t\t\t<div class="btn-wrapper">\n\t\t\t\t\t<button class="btn-subscribe" (click)="getTransactionId()" >Send</button>\n\t\t\t\t</div>\n\t\t\t  </div>\n\n\n      \n<div class="data" *ngIf="showTransactionDetails">\n\n  <div class="row">\n\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Block Hash</p>\n            </div>\n            <div class="right-value">\n              <p>{{block_hash}}</p>\n            </div>\n    </div>\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Block Height</p>\n            </div>\n            <div class="right-value">\n              <p>{{block_height}}</p>\n            </div>\n    </div>\n\n\n\n\n  </div>\n\n\n\n  <div class="row">\n\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Block Time</p>\n            </div>\n            <div class="right-value">\n              <p>{{block_time}}</p>\n            </div>\n    </div>\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Confirmations</p>\n            </div>\n            <div class="right-value">\n              <p>{{confirmations}}</p>\n            </div>\n    </div>\n\n\n\n\n  </div>\n\n\n\n    <div class="row">\n\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Contains Dust</p>\n            </div>\n            <div class="right-value">\n              <p>{{contains_dust}}</p>\n            </div>\n    </div>\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Estimated Change</p>\n            </div>\n            <div class="right-value">\n              <p>{{estimated_change}}</p>\n            </div>\n    </div>\n\n\n\n\n  </div>\n\n\n\n    <div class="row">\n\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Estimated Change Address</p>\n            </div>\n            <div class="right-value">\n              <p>{{estimated_change_address}}</p>\n            </div>\n    </div>\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>First Seen at</p>\n            </div>\n            <div class="right-value">\n              <p>{{first_seen_at}}</p>\n            </div>\n    </div>\n\n\n\n\n  </div>\n\n\n\n    <div class="row">\n\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Hash</p>\n            </div>\n            <div class="right-value">\n              <p>{{hash}}</p>\n            </div>\n    </div>\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>High Priority</p>\n            </div>\n            <div class="right-value">\n              <p>{{high_priority}}</p>\n            </div>\n    </div>\n\n\n\n\n  </div>\n\n\n\n    <div class="row">\n\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Is CoinBase?</p>\n            </div>\n            <div class="right-value">\n              <p>{{is_coinbase}}</p>\n            </div>\n    </div>\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Is DoubleSpend?</p>\n            </div>\n            <div class="right-value">\n              <p>{{is_double_spend}}</p>\n            </div>\n    </div>\n\n\n\n\n  </div>\n\n\n\n    <div class="row">\n\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Block Hash</p>\n            </div>\n            <div class="right-value">\n              <p>{{transaction.block_hash}}</p>\n            </div>\n    </div>\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Last Seen at</p>\n            </div>\n            <div class="right-value">\n              <p>{{last_seen_at}}</p>\n            </div>\n    </div>\n\n\n\n\n  </div>\n\n\n\n    <div class="row">\n\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Lock time block height</p>\n            </div>\n            <div class="right-value">\n              <p>{{lock_time_block_height}}</p>\n            </div>\n    </div>\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Lock Time</p>\n            </div>\n            <div class="right-value">\n              <p>{{lock_time_timestamp}}</p>\n            </div>\n    </div>\n\n\n\n\n  </div>\n\n\n\n    <div class="row">\n\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Size</p>\n            </div>\n            <div class="right-value">\n              <p>{{size}}</p>\n            </div>\n    </div>\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Total Fee</p>\n            </div>\n            <div class="right-value">\n              <p>{{total_fee}}</p>\n            </div>\n    </div>\n\n\n\n\n  </div>\n\n\n\n    <div class="row">\n\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Total Input Value</p>\n            </div>\n            <div class="right-value">\n              <p>{{total_input_value}}</p>\n            </div>\n    </div>\n\n    <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Total Output Value</p>\n            </div>\n            <div class="right-value">\n              <p>{{total_output_value}}</p>\n            </div>\n    </div>\n\n\n   <div class="col-md-6 col-sm-6 col-xs-12">\n            <div class="left-heading">\n              <p>Unconfirmed Inputs</p>\n            </div>\n            <div class="right-value">\n              <p>{{unconfirmed_inputs}}</p>\n            </div>\n    </div>\n\n\n\n\n  </div>\n  \n</div>\n\n<!--\n<div class="row">\n  <div class="col-lg-8 col-xs-12">\n    <!-- minimal widget consist of .widget class. note bg-transparent - it can be any background like bg-gray,\n    bg-primary, bg-white \n    <section class="widget bg-transparent">\n      <!-- .widget-body is a mostly semantic class. may be a sibling to .widget>header or .widget>footer \n      <div class="widget-body">\n        <!-- for this particular example we also need to preload us map, as this is mapael\'s extension \n        <div class="mapael" geo-locations-widget>\n          <div class="stats">\n            <h6 class="text-white m-t-1">GEO-LOCATIONS</h6>\n            <p class="h3 text-warning no-margin">\n              <strong number-animate>1 656 843</strong>\n              <i class="fa fa-map-marker"></i>\n            </p>\n          </div>\n          <div class="map">\n            <span>Alternative content for the map</span>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n  <div class="col-lg-4 col-xs-12">\n    <section widget class="widget bg-transparent">\n      <header>\n        <h5>\n          Map\n          <span class="fw-semi-bold">Statistics</span>\n        </h5>\n        <div class="widget-controls widget-controls-hover">\n          <a href="#"><i class="glyphicon glyphicon-cog"></i></a>\n          <a href="#"><i class="fa fa-refresh"></i></a>\n          <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n        </div>\n      </header>\n      <div class="widget-body">\n        <p>Status: <strong>Live</strong></p>\n        <p>\n          <span class="circle bg-warning"><i class="fa fa-map-marker"></i></span>\n          146 Countries, 2759 Cities\n        </p>\n        <div class="row progress-stats">\n          <div class="col-md-9 col-xs-12">\n            <h6 class="name m-t-1">Foreign Visits</h6>\n            <p class="description deemphasize">Some Cool Text</p>\n            <div class="bg-white progress-bar">\n              <progress progress-animate class="progress progress-primary progress-sm" value="100" max="100" style="width: 60%;" data-width="60%"></progress>\n            </div>\n          </div>\n          <div class="col-md-3 col-xs-12 text-xs-center">\n                                <span class="status rounded rounded-lg bg-body-light">\n                                    <small><span number-animate>75</span>%</small>\n                                </span>\n          </div>\n        </div>\n        <div class="row progress-stats">\n          <div class="col-md-9 col-xs-12">\n            <h6 class="name m-t-1">Local Visits</h6>\n            <p class="description deemphasize">P. to C. Conversion</p>\n            <div class="bg-white progress-bar">\n              <progress progress-animate class="progress progress-danger progress-sm" value="100" max="100" style="width: 39%;" data-width="39%"></progress>\n            </div>\n          </div>\n          <div class="col-md-3 col-xs-12 text-xs-center">\n                                <span class="status rounded rounded-lg bg-body-light">\n                                    <small><span number-animate>84</span>%</small>\n                                </span>\n          </div>\n        </div>\n        <div class="row progress-stats">\n          <div class="col-md-9 col-xs-12">\n            <h6 class="name m-t-1">Sound Frequencies</h6>\n            <p class="description deemphasize">Average Bitrate</p>\n            <div class="bg-white progress-bar">\n              <progress progress-animate class="progress progress-success progress-sm" value="100" max="100" style="width: 80%;" data-width="80%"></progress>\n            </div>\n          </div>\n          <div class="col-md-3 col-xs-12 text-xs-center">\n                                <span class="status rounded rounded-lg bg-body-light">\n                                    <small><span number-animate>92</span>%</small>\n                                </span>\n          </div>\n        </div>\n        <h6 class="fw-semi-bold mt">Map Distributions</h6>\n        <p>Tracking: <strong>Active</strong></p>\n        <p>\n          <span class="circle bg-warning"><i class="fa fa-cog"></i></span>\n          391 elements installed, 84 sets\n        </p>\n        <div class="input-group mt">\n          <input type="text" class="form-control" placeholder="Search Map">\n                            <span class="input-group-btn">\n                                <button type="submit" class="btn btn-default">\n                                  <i class="fa fa-search text-gray"></i>\n                                </button>\n                            </span>\n        </div>\n      </div>\n    </section>\n  </div>\n</div>\n<div class="row">\n  <div class="col-lg-4 col-xs-12">\n    <section widget class="widget">\n      <!-- .widget>header is generally a place for widget title and widget controls. see .widget in _base.scss \n      <header>\n        <h6>\n          USERBASE GROWTH\n        </h6>\n        <div class="widget-controls">\n          <a href="#"><i class="glyphicon glyphicon-cog"></i></a>\n          <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n        </div>\n      </header>\n      <div class="widget-body">\n        <div class="stats-row">\n          <div class="stat-item">\n            <h6 class="name fs-sm">Overall Growth</h6>\n            <p class="value">76.38%</p>\n          </div>\n          <div class="stat-item">\n            <h6 class="name fs-sm">Montly</h6>\n            <p class="value">10.38%</p>\n          </div>\n          <div class="stat-item">\n            <h6 class="name fs-sm">24h</h6>\n            <p class="value">3.38%</p>\n          </div>\n        </div>\n        <div class="bg-gray-lighter progress-bar">\n          <progress class="progress progress-xs progress-success" value="100" max="100" style="width: 60%"></progress>\n        </div>\n        <p>\n          <small><span class="circle bg-warning"><i class="glyphicon glyphicon-chevron-up"></i></span></small>\n          <span class="fw-semi-bold">17% higher</span>\n          than last month</p>\n      </div>\n    </section>\n  </div>\n  <div class="col-lg-4 col-xs-12">\n    <section widget class="widget">\n      <header>\n        <h6>\n          TRAFFIC VALUES\n        </h6>\n        <div class="widget-controls">\n          <a href="#"><i class="glyphicon glyphicon-cog"></i></a>\n          <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n        </div>\n      </header>\n      <div class="widget-body">\n        <div class="stats-row">\n          <div class="stat-item">\n            <h6 class="name fs-sm">Overall Values</h6>\n            <p class="value">17 567 318</p>\n          </div>\n          <div class="stat-item">\n            <h6 class="name fs-sm">Montly</h6>\n            <p class="value">55 120</p>\n          </div>\n          <div class="stat-item">\n            <h6 class="name fs-sm">24h</h6>\n            <p class="value">9 695</p>\n          </div>\n        </div>\n        <div class="bg-gray-lighter progress-bar">\n          <progress class="progress progress-xs progress-danger" value="100" max="100" style="width: 60%"></progress>\n        </div>\n        <p>\n          <small><span class="circle bg-warning"><i class="fa fa-chevron-down"></i></span></small>\n          <span class="fw-semi-bold">8% lower</span>\n          than last month\n        </p>\n      </div>\n    </section>\n  </div>\n  <div class="col-lg-4 col-xs-12">\n    <section widget class="widget">\n      <header>\n        <h6>\n          RANDOM VALUES\n        </h6>\n        <div class="widget-controls">\n          <a href="#"><i class="glyphicon glyphicon-cog"></i></a>\n          <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n        </div>\n      </header>\n      <div class="widget-body">\n        <div class="stats-row">\n          <div class="stat-item">\n            <h6 class="name fs-sm">Overcome T.</h6>\n            <p class="value">104.85%</p>\n          </div>\n          <div class="stat-item">\n            <h6 class="name fs-sm">Takeoff Angle</h6>\n            <p class="value">14.29&deg;</p>\n          </div>\n          <div class="stat-item">\n            <h6 class="name fs-sm">World Pop.</h6>\n            <p class="value">7,211M</p>\n          </div>\n        </div>\n        <div class="bg-gray-lighter progress-bar">\n          <progress class="progress progress-xs progress-primary" value="100" max="100" style="width: 60%"></progress>\n        </div>\n        <p>\n          <small><span class="circle bg-warning"><i class="fa fa-plus"></i></span></small>\n          <span class="fw-semi-bold">8 734 higher</span>\n          than last month\n        </p>\n      </div>\n    </section>\n  </div>\n</div>\n<div class="row">\n  <div class="col-lg-4 col-xs-12">\n    <section widget class="widget">\n      <header>\n        <h6><span class="tag tag-danger">New</span> Messages</h6>\n        <div class="widget-controls">\n          <a href="#"><i class="fa fa-refresh"></i></a>\n          <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n        </div>\n      </header>\n      <div class="widget-body no-padding">\n        <div class="list-group list-group-lg">\n          <a class="list-group-item" href="#">\n                                <span class="thumb-sm pull-xs-left mr">\n                                    <img class="img-circle" src="assets/img/people/a2.jpg" alt="...">\n                                    <i class="status status-bottom bg-success"></i>\n                                </span>\n            <h6 class="no-margin">Chris Gray</h6>\n            <p class="help-block text-ellipsis no-margin">Hey! What\'s up? So many times since we</p>\n          </a>\n          <a class="list-group-item" href="#">\n                                <span class="thumb-sm pull-xs-left mr">\n                                    <img class="img-circle" src="assets/img/people/a4.jpg" alt="...">\n                                    <i class="status status-bottom bg-success"></i>\n                                </span>\n            <h6 class="no-margin">Jamey Brownlow</h6>\n            <p class="help-block text-ellipsis no-margin">Good news coming tonight. Seems they agreed to proceed</p>\n          </a>\n          <a class="list-group-item" href="#">\n                                <span class="thumb-sm pull-xs-left mr">\n                                    <img class="img-circle" src="assets/img/people/a1.jpg" alt="...">\n                                    <i class="status status-bottom bg-warning"></i>\n                                </span>\n            <h6 class="no-margin">Livia Walsh</h6>\n            <p class="help-block text-ellipsis no-margin">Check my latest email plz!</p>\n          </a>\n          <a class="list-group-item" href="#">\n                                <span class="thumb-sm pull-xs-left mr">\n                                    <img class="img-circle" src="assets/img/people/a5.jpg" alt="...">\n                                    <i class="status status-bottom bg-danger"></i>\n                                </span>\n            <h6 class="no-margin">Jaron Fitzroy</h6>\n            <p class="help-block text-ellipsis no-margin">What about summer break?</p>\n          </a>\n        </div>\n      </div>\n      <footer class="bg-body-light mt">\n        <input type="search" class="form-control form-control-sm" placeholder="Search">\n      </footer>\n    </section>\n  </div>\n  <div class="col-lg-4 col-xs-12">\n    <section widget class="widget">\n      <header>\n        <h6>\n          Market <span class="fw-semi-bold">Stats</span>\n        </h6>\n        <div class="widget-controls">\n          <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n        </div>\n      </header>\n      <div class="widget-body">\n        <h3>$720 Earned</h3>\n        <p class="fs-mini text-muted mb mt-sm">\n          Target <span class="fw-semi-bold">$820</span> day earnings\n          is <span class="fw-semi-bold">96%</span> reached.\n        </p>\n      </div>\n      <div class="widget-table-overflow">\n        <table class="table table-striped table-sm">\n          <thead class="no-bd">\n          <tr>\n            <th>\n              <div class="checkbox abc-checkbox">\n                <input id="checkbox210" type="checkbox" check-all>\n                <label for="checkbox210"></label>\n              </div>\n            </th>\n            <th></th>\n            <th></th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr>\n            <td>\n              <div class="checkbox abc-checkbox">\n                <input id="checkbox212" type="checkbox">\n                <label for="checkbox212"></label>\n              </div>\n            </td>\n            <td>HP Core i7</td>\n            <td class="text-align-right fw-semi-bold">$346.1</td>\n          </tr>\n          <tr>\n            <td>\n              <div class="checkbox abc-checkbox">\n                <input id="checkbox214" type="checkbox">\n                <label for="checkbox214"></label>\n              </div>\n            </td>\n            <td>Air Pro</td>\n            <td class="text-align-right fw-semi-bold">$533.1</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="widget-body mt-xlg" market-stats-widget>\n      </div>\n    </section>\n  </div>\n  <div class="col-lg-4 col-xs-12">\n    <section widget class="widget">\n      <header>\n        <h6>Calendar</h6>\n        <div class="widget-controls">\n          <a href="#"><i class="glyphicon glyphicon-cog"></i></a>\n          <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n        </div>\n      </header>\n      <div class="widget-body no-padding">\n        <div class="bg-primary-light" bootstrap-calendar [events]="[\n                [\n                        \'2/\'+month+\'/\'+year,\n                    \'The flower bed\',\n                    \'#\',\n                    config.settings.colors[\'brand-primary\'],\n                    \'Contents here\'\n                ],\n                [\n                        \'5/\'+month+\'/\'+year,\n                    \'Stop world water pollution\',\n                    \'#\',\n                    config.settings.colors[\'brand-warning\'],\n                    \'Have a kick off meeting with .inc company\'\n                ],\n                [\n                        \'18/\'+month+\'/\'+year,\n                    \'Light Blue 2.2 release\',\n                    \'#\',\n                    config.settings.colors[\'brand-success\'],\n                    \'Some contents here\'\n                ],\n                [\n                        \'29/\'+month+\'/\'+year,\n                    \'A link\',\n                    \'http://www.flatlogic.com\',\n                    config.settings.colors[\'brand-danger\']\n                ]\n            ]"></div>\n        <div class="list-group fs-mini">\n          <a href="#" class="list-group-item text-ellipsis">\n            <span class="tag-pill tag-warning pull-xs-right">6:45</span>\n            Weed out the flower bed\n          </a>\n          <a href="#" class="list-group-item text-ellipsis">\n            <span class="tag-pill tag-success pull-xs-right">9:41</span>\n            Stop world water pollution\n          </a>\n        </div>\n      </div>\n    </section>\n  </div>\n</div>\n-->\n\n</div>'},684:function(t,e,n){"use strict";var r=n(0),i=n(74),a=n(155),o=n(107);n(729),n(722);var s=n(995),l=n(689),c=n(705),u=n(694),d=n(993),h=n(994),f=n(992);e.routes=[{path:"",component:s.Opening,pathMatch:"full"}];var p=function(){function DashboardModule(){}return DashboardModule.routes=e.routes,DashboardModule=__decorate([r.NgModule({imports:[i.CommonModule,a.FormsModule,o.RouterModule.forChild(e.routes),l.WidgetModule,c.UtilsModule,u.RickshawChartModule],declarations:[s.Opening,d.GeoLocationsWidget,f.BootstrapCalendar,h.MarketStatsWidget]}),__metadata("design:paramtypes",[])],DashboardModule)}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=p},686:function(t,e,n){(function(r,i){var a,o;!function(r,i){a=[n(687)],o=function(t){return r.Rickshaw=i(t)}.apply(e,a),!(void 0!==o&&(t.exports=o))}(this,function(t){var e={namespace:function(t,n){for(var r=t.split("."),i=e,a=1,o=r.length;a<o;a++){var s=r[a];i[s]=i[s]||{},i=i[s]}return i},keys:function(t){var e=[];for(var n in t)e.push(n);return e},extend:function(t,e){for(var n in e)t[n]=e[n];return t},clone:function(t){return JSON.parse(JSON.stringify(t))}};return function(t){function isFunction(t){return e.call(t)===l}function extend(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function keys(t){if(Type(t)!==s)throw new TypeError;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function Type(t){switch(t){case null:return n;case void 0:return r}var e=typeof t;switch(e){case"boolean":return i;case"number":return a;case"string":return o}return s}function isUndefined(t){return"undefined"==typeof t}function argumentNames(t){var e=t.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function wrap(t,e){var n=t;return function(){var t=update([bind(n,this)],arguments);return e.apply(this,t)}}function update(t,e){for(var n=t.length,r=e.length;r--;)t[n+r]=e[r];return t}function merge(t,e){return t=c.call(t,0),update(t,e)}function bind(t,e){if(arguments.length<2&&isUndefined(arguments[0]))return this;var n=t,r=c.call(arguments,2);return function(){var t=merge(r,arguments);return n.apply(e,t)}}var e=Object.prototype.toString,n="Null",r="Undefined",i="Boolean",a="Number",o="String",s="Object",l="[object Function]",c=Array.prototype.slice,u=function(){},d=function(){function subclass(){}function create(){function klass(){this.initialize.apply(this,arguments)}var t=null,e=[].slice.apply(arguments);if(isFunction(e[0])&&(t=e.shift()),extend(klass,d.Methods),klass.superclass=t,klass.subclasses=[],t){subclass.prototype=t.prototype,klass.prototype=new subclass;try{t.subclasses.push(klass)}catch(n){}}for(var r=0,i=e.length;r<i;r++)klass.addMethods(e[r]);return klass.prototype.initialize||(klass.prototype.initialize=u),klass.prototype.constructor=klass,klass}function addMethods(e){var n=this.superclass&&this.superclass.prototype,r=keys(e);t&&(e.toString!=Object.prototype.toString&&r.push("toString"),e.valueOf!=Object.prototype.valueOf&&r.push("valueOf"));for(var i=0,a=r.length;i<a;i++){var o=r[i],s=e[o];if(n&&isFunction(s)&&"$super"==argumentNames(s)[0]){var l=s;s=wrap(function(t){return function(){return n[t].apply(this,arguments)}}(o),l),s.valueOf=bind(l.valueOf,l),s.toString=bind(l.toString,l)}this.prototype[o]=s}return this}var t=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();return{create:create,Methods:{addMethods:addMethods}}}();t.exports?t.exports.Class=d:t.Class=d}(e),e.namespace("Rickshaw.Compat.ClassList"),e.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||!function(t){"use strict";var e="classList",n="prototype",r=(t.HTMLElement||t.Element)[n],i=Object,a=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},c=function(t){for(var e=a.call(t.className),n=e?e.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){t.className=this.toString()}},u=c[n]=[],d=function(){return new c(this)};if(s[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",l(this,t)!==-1},u.add=function(t){t+="",l(this,t)===-1&&(this.push(t),this._updateClassName())},u.remove=function(t){t+="";var e=l(this,t);e!==-1&&(this.splice(e,1),this._updateClassName())},u.toggle=function(t){t+="",l(this,t)===-1?this.add(t):this.remove(t)},u.toString=function(){return this.join(" ")},i.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{i.defineProperty(r,e,h)}catch(f){f.number===-2146823252&&(h.enumerable=!1,i.defineProperty(r,e,h))}}else i[n].__defineGetter__&&r.__defineGetter__(e,d)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new e.Compat.ClassList,
e.namespace("Rickshaw.Graph"),e.Graph=function(n){var r=this;this.initialize=function(e){if(!e.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==e.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=e.element,this.series=e.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(e),this.validateSeries(e.series),this.series.active=function(){return r.series.filter(function(t){return!t.disabled})},this.setSize({width:e.width,height:e.height}),this.element.classList.add("rickshaw_graph"),this.vis=t.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var t in e.Graph.Renderer)if(t&&e.Graph.Renderer.hasOwnProperty(t)){var n=e.Graph.Renderer[t];n&&n.prototype&&n.prototype.render&&r.registerRenderer(new n({graph:r}))}},this.validateSeries=function(t){if(!(Array.isArray(t)||t instanceof e.Series)){var n=Object.prototype.toString.apply(t);throw"series is not an array: "+n}t.forEach(function(t){if(!(t instanceof Object))throw"series element is not an object: "+t;if(!t.data)throw"series has no data: "+JSON.stringify(t);if(!Array.isArray(t.data))throw"series data is not an array: "+JSON.stringify(t.data);if(t.data.length>0){var e=t.data[0].x,n=t.data[0].y;if("number"!=typeof e||"number"!=typeof n&&null!==n)throw"x and y properties of points should be numbers instead of "+typeof e+" and "+typeof n}if(t.data.length>=3&&(t.data[2].x<t.data[1].x||t.data[1].x<t.data[0].x||t.data[t.data.length-1].x<t.data[0].x))throw"series data needs to be sorted on x values for series name: "+t.name},this)},this.dataDomain=function(){var e=this.series.map(function(t){return t.data}),n=t.min(e.map(function(t){return t[0].x})),r=t.max(e.map(function(t){return t[t.length-1].x}));return[n,r]},this.discoverRange=function(){var e=this.renderer.domain();this.x=(this.xScale||t.scale.linear()).copy().domain(e.x).range([0,this.width]),this.y=(this.yScale||t.scale.linear()).copy().domain(e.y).range([this.height,0]),this.x.magnitude=t.scale.linear().domain([e.x[0]-e.x[0],e.x[1]-e.x[0]]).range([0,this.width]),this.y.magnitude=t.scale.linear().domain([e.y[0]-e.y[0],e.y[1]-e.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(t){t()})},this.update=this.render,this.stackData=function(){var n=this.series.active().map(function(t){return t.data}).map(function(t){return t.filter(function(t){return this._slice(t)},this)},this),i=this.preserve;i||this.series.forEach(function(t){t.scale&&(i=!0)}),n=i?e.clone(n):n,this.series.active().forEach(function(t,e){if(t.scale){var r=n[e];r&&r.forEach(function(e){e.y=t.scale(e.y)})}}),this.stackData.hooks.data.forEach(function(t){n=t.f.apply(r,[n])});var a;if(!this.renderer.unstack){this._validateStackable();var o=t.layout.stack();o.offset(r.offset),a=o(n)}a=a||n,this.renderer.unstack&&a.forEach(function(t){t.forEach(function(t){t.y0=void 0===t.y0?0:t.y0})}),this.stackData.hooks.after.forEach(function(t){a=t.f.apply(r,[n])});var s=0;return this.series.forEach(function(t){t.disabled||(t.stack=a[s++])}),this.stackedData=a,a},this._validateStackable=function(){var t,e=this.series;e.forEach(function(e){if(t=t||e.data.length,t&&e.data.length!=t)throw"stacked series cannot have differing numbers of points: "+t+" vs "+e.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(t){if(this.window.xMin||this.window.xMax){var e=!0;return this.window.xMin&&t.x<this.window.xMin&&(e=!1),this.window.xMax&&t.x>this.window.xMax&&(e=!1),e}return!0},this.onUpdate=function(t){this.updateCallbacks.push(t)},this.onConfigure=function(t){this.configureCallbacks.push(t)},this.registerRenderer=function(t){this._renderers=this._renderers||{},this._renderers[t.name]=t},this.configure=function(t){this.config=this.config||{},(t.width||t.height)&&this.setSize(t),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this?this[e]:this.defaults[e]},this),e.keys(this.config).forEach(function(t){this[t]=this.config[t]},this),"stack"in t&&(t.unstack=!t.stack);var n=t.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(n,t),this.configureCallbacks.forEach(function(e){e(t)})},this.setRenderer=function(t,e){if("function"==typeof t)this.renderer=new t({graph:r}),this.registerRenderer(this.renderer);else{if(!this._renderers[t])throw"couldn't find renderer "+t;this.renderer=this._renderers[t]}"object"==typeof e&&this.renderer.configure(e)},this.setSize=function(t){if(t=t||{},void 0!==typeof window)var e=window.getComputedStyle(this.element,null),n=parseInt(e.getPropertyValue("width"),10),r=parseInt(e.getPropertyValue("height"),10);this.width=t.width||n||400,this.height=t.height||r||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(n)},e.namespace("Rickshaw.Fixtures.Color"),e.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},e.namespace("Rickshaw.Fixtures.RandomData"),e.Fixtures.RandomData=function(t){t=t||1;var e=200,n=Math.floor((new Date).getTime()/1e3);this.addData=function(r){var i=100*Math.random()+15+e,a=r[0].length,o=1;r.forEach(function(e){var r=20*Math.random(),s=i/25+o++ +15*(Math.cos(a*o*11/960)+2)+7*(Math.cos(a/7)+2)+1*(Math.cos(a/17)+2);e.push({x:a*t+n,y:s+r})}),e=.85*i},this.removeData=function(e){e.forEach(function(t){t.shift()}),n+=t}},e.namespace("Rickshaw.Fixtures.Time"),e.Fixtures.Time=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getUTCMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,r,i;if("month"==e.name){if(n=new Date(1e3*t),r=Date.UTC(n.getUTCFullYear(),n.getUTCMonth())/1e3,r==t)return t;i=n.getUTCFullYear();var a=n.getUTCMonth();return 11==a?(a=0,i+=1):a+=1,Date.UTC(i,a)/1e3}return"year"==e.name?(n=new Date(1e3*t),r=Date.UTC(n.getUTCFullYear(),0)/1e3,r==t?t:(i=n.getUTCFullYear()+1,Date.UTC(i,0)/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Time.Local"),e.Fixtures.Time.Local=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,r,i;if("day"==e.name){var a=new Date(1e3*(t+e.seconds-1)),o=new Date(0);return o.setFullYear(a.getFullYear()),o.setMonth(a.getMonth()),o.setDate(a.getDate()),o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0),o.getTime()/1e3}if("month"==e.name){if(n=new Date(1e3*t),r=new Date(n.getFullYear(),n.getMonth()).getTime()/1e3,r==t)return t;i=n.getFullYear();var s=n.getMonth();return 11==s?(s=0,i+=1):s+=1,new Date(i,s).getTime()/1e3}return"year"==e.name?(n=new Date(1e3*t),r=new Date(n.getUTCFullYear(),0).getTime()/1e3,r==t?t:(i=n.getFullYear()+1,new Date(i,0).getTime()/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Number"),e.Fixtures.Number.formatKMBT=function(t){var e=Math.abs(t);return e>=1e12?t/1e12+"T":e>=1e9?t/1e9+"B":e>=1e6?t/1e6+"M":e>=1e3?t/1e3+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},e.Fixtures.Number.formatBase1024KMGTP=function(t){var e=Math.abs(t);return e>=0x4000000000000?t/0x4000000000000+"P":e>=1099511627776?t/1099511627776+"T":e>=1073741824?t/1073741824+"G":e>=1048576?t/1048576+"M":e>=1024?t/1024+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},e.namespace("Rickshaw.Color.Palette"),e.Color.Palette=function(n){var r=new e.Fixtures.Color;if(n=n||{},this.schemes={},this.scheme=r.schemes[n.scheme]||n.scheme||r.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,n.interpolatedStopCount){var i,a,o=this.scheme.length-1,s=[];for(i=0;i<o;i++){s.push(this.scheme[i]);var l=t.interpolateHsl(this.scheme[i],this.scheme[i+1]);for(a=1;a<n.interpolatedStopCount;a++)s.push(l(1/n.interpolatedStopCount*a))}s.push(this.scheme[this.scheme.length-1]),this.scheme=s}this.rotateCount=this.scheme.length,this.color=function(t){return this.scheme[t]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var e;return this.generatorIndex==2*this.rotateCount-1?(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(e),e}}},e.namespace("Rickshaw.Graph.Ajax"),e.Graph.Ajax=e.Class.create({initialize:function(t){this.dataURL=t.dataURL,this.onData=t.onData||function(t){return t},this.onComplete=t.onComplete||function(){},this.onError=t.onError||function(){},this.args=t,this.request()},request:function(){r.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(t,n){t=this.onData(t),this.args.series=this._splice({data:t,series:this.args.series}),this.graph=this.graph||new e.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(t){var e=t.data,n=t.series;return t.series?(n.forEach(function(t){var n=t.key||t.name;if(!n)throw"series needs a key or a name";e.forEach(function(e){var r=e.key||e.name;if(!r)throw"data needs a key or a name";if(n==r){var i=["color","name","data"];i.forEach(function(n){e[n]&&(t[n]=e[n])})}})}),n):e}}),e.namespace("Rickshaw.Graph.Annotate"),e.Graph.Annotate=function(t){this.graph=t.graph;this.elements={timeline:t.element};var n=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(t,e,r){n.data[t]=n.data[t]||{boxes:[]},n.data[t].boxes.push({content:e,end:r})},this.update=function(){e.keys(n.data).forEach(function(t){var e=n.data[t],r=n.graph.x(t);if(r<0||r>n.graph.x.range()[1])return e.element&&(e.line.classList.add("offscreen"),e.element.style.display="none"),void e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.add("offscreen")});if(!e.element){var i=e.element=document.createElement("div");i.classList.add("annotation"),this.elements.timeline.appendChild(i),i.addEventListener("click",function(t){i.classList.toggle("active"),e.line.classList.toggle("active"),e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.toggle("active")})},!1)}e.element.style.left=r+"px",e.element.style.display="block",e.boxes.forEach(function(t){var i=t.element;if(i||(i=t.element=document.createElement("div"),i.classList.add("content"),i.innerHTML=t.content,e.element.appendChild(i),e.line=document.createElement("div"),e.line.classList.add("annotation_line"),n.graph.element.appendChild(e.line),t.end&&(t.rangeElement=document.createElement("div"),t.rangeElement.classList.add("annotation_range"),n.graph.element.appendChild(t.rangeElement))),t.end){var a=r,o=Math.min(n.graph.x(t.end),n.graph.x.range()[1]);a>o&&(o=r,a=Math.max(n.graph.x(t.end),n.graph.x.range()[0]));var s=o-a;t.rangeElement.style.left=a+"px",t.rangeElement.style.width=s+"px",t.rangeElement.classList.remove("offscreen")}e.line.classList.remove("offscreen"),e.line.style.left=r+"px"})},this)},this.graph.onUpdate(function(){n.update()})},e.namespace("Rickshaw.Graph.Axis.Time"),e.Graph.Axis.Time=function(t){var n=this;this.graph=t.graph,this.elements=[],this.ticksTreatment=t.ticksTreatment||"plain",this.fixedTimeUnit=t.timeUnit;var r=t.timeFixture||new e.Fixtures.Time;this.appropriateTimeUnit=function(){var t,e=r.units,n=this.graph.x.domain(),i=n[1]-n[0];return e.forEach(function(e){Math.floor(i/e.seconds)>=2&&(t=t||e)}),t||r.units[r.units.length-1]},this.tickOffsets=function(){for(var t=this.graph.x.domain(),e=this.fixedTimeUnit||this.appropriateTimeUnit(),n=Math.ceil((t[1]-t[0])/e.seconds),i=t[0],a=[],o=0;o<n;o++){var s=r.ceil(i,e);i=s+e.seconds/2,a.push({value:s,unit:e})}return a},this.render=function(){this.elements.forEach(function(t){t.parentNode.removeChild(t)}),this.elements=[];var t=this.tickOffsets();t.forEach(function(t){if(!(n.graph.x(t.value)>n.graph.x.range()[1])){var e=document.createElement("div");e.style.left=n.graph.x(t.value)+"px",e.classList.add("x_tick"),e.classList.add(n.ticksTreatment);var r=document.createElement("div");r.classList.add("title"),r.innerHTML=t.unit.formatter(new Date(1e3*t.value)),e.appendChild(r),n.graph.element.appendChild(e),n.elements.push(e)}})},this.graph.onUpdate(function(){n.render()})},e.namespace("Rickshaw.Graph.Axis.X"),e.Graph.Axis.X=function(e){var n=this,r=.1;this.initialize=function(e){this.graph=e.graph,this.orientation=e.orientation||"top",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",e.element?(this.element=e.element,this._discoverSize(e.element,e),this.vis=t.select(e.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){n.render()})},this.setSize=function(t){if(t=t||{},this.element){this._discoverSize(this.element.parentNode,t),this.vis.attr("height",this.height).attr("width",this.width*(1+r));var e=Math.floor(this.width*r/2);this.element.style.left=-1*e+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var n=t.svg.axis().scale(this.graph.x).orient(this.orientation);n.tickFormat(e.tickFormat||function(t){return t}),this.tickValues&&n.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var i,a=Math.floor(this.width*r/2)||0;if("top"==this.orientation){var o=this.height||this.graph.height;i="translate("+a+","+o+")"}else i="translate("+a+", 0)";this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",i).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var s=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(n.ticks(this.ticks).tickSubdivide(0).tickSize(s)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(t,e){if("undefined"!=typeof window){var n=window.getComputedStyle(t,null),i=parseInt(n.getPropertyValue("height"),10);if(!e.auto)var a=parseInt(n.getPropertyValue("width"),10)}this.width=(e.width||a||this.graph.width)*(1+r),this.height=e.height||i||40},this.initialize(e)},e.namespace("Rickshaw.Graph.Axis.Y"),e.Graph.Axis.Y=e.Class.create({initialize:function(e){this.graph=e.graph,this.orientation=e.orientation||"right",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",this.tickFormat=e.tickFormat||function(t){return t},this.berthRate=.1,e.element?(this.element=e.element,this.vis=t.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis;var n=this;this.graph.onUpdate(function(){n.render()})},setSize:function(t){if(t=t||{},this.element){if("undefined"!=typeof window){var e=window.getComputedStyle(this.element.parentNode,null),n=parseInt(e.getPropertyValue("width"),10);if(!t.auto)var r=parseInt(e.getPropertyValue("height"),10)}this.width=t.width||n||this.graph.width*this.berthRate,this.height=t.height||r||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var i=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*i+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var t=this._drawAxis(this.graph.y);this._drawGrid(t),this._renderHeight=this.graph.height},_drawAxis:function(e){var n=t.svg.axis().scale(e).orient(this.orientation);if(n.tickFormat(this.tickFormat),this.tickValues&&n.tickValues(this.tickValues),"left"==this.orientation)var r=this.height*this.berthRate,i="translate("+this.width+", "+r+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",i).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),n},_drawGrid:function(t){var e=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(e)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),e.namespace("Rickshaw.Graph.Axis.Y.Scaled"),e.Graph.Axis.Y.Scaled=e.Class.create(e.Graph.Axis.Y,{initialize:function($super,t){if("undefined"==typeof t.scale)throw new Error("Scaled requires scale");this.scale=t.scale,"undefined"==typeof t.grid?this.grid=!0:this.grid=t.grid,$super(t)},_drawAxis:function($super,e){var n=this.scale.domain(),r=this.graph.renderer.domain().y,i=[Math.min.apply(Math,n),Math.max.apply(Math,n)],a=t.scale.linear().domain([0,1]).range(i),o=[a(r[0]),a(r[1])],s=t.scale.linear().domain(i).range(o),l=this.scale.copy().domain(n.map(s)).range(e.range());return $super(l)},_drawGrid:function($super,t){this.grid&&$super(t)}}),e.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),e.Graph.Behavior.Series.Highlight=function(e){this.graph=e.graph,this.legend=e.legend;var n=this,r={},i=null,a=e.disabledColor||function(e){return t.interpolateRgb(e,t.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(t){t.element.addEventListener("mouseover",function(e){i||(i=t,n.legend.lines.forEach(function(e){if(t!==e)r[e.series.name]=r[e.series.name]||e.series.color,e.series.color=a(e.series.color);else if(n.graph.renderer.unstack&&(!e.series.renderer||e.series.renderer.unstack)){var i=n.graph.series.indexOf(e.series);e.originalIndex=i;var o=n.graph.series.splice(i,1)[0];n.graph.series.push(o)}}),n.graph.update())},!1),t.element.addEventListener("mouseout",function(e){i&&(i=null,n.legend.lines.forEach(function(e){if(t===e&&e.hasOwnProperty("originalIndex")){var i=n.graph.series.pop();n.graph.series.splice(e.originalIndex,0,i),delete e.originalIndex}r[e.series.name]&&(e.series.color=r[e.series.name])}),n.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(t){n.addHighlightEvents(t)})},e.namespace("Rickshaw.Graph.Behavior.Series.Order"),e.Graph.Behavior.Series.Order=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if("undefined"==typeof i)throw"couldn't find jQuery at window.jQuery";if("undefined"==typeof i.ui)throw"couldn't find jQuery UI at window.jQuery.ui";r(function(){r(e.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(t,n){var i=[];r(e.legend.list).find("li").each(function(t,e){e.series&&i.push(e.series)});for(var a=e.graph.series.length-1;a>=0;a--)e.graph.series[a]=i.shift();e.graph.update()}}),r(e.legend.list).disableSelection()}),this.graph.onUpdate(function(){var t=window.getComputedStyle(e.legend.element).height;e.legend.element.style.height=t})},e.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),e.Graph.Behavior.Series.Toggle=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if(this.addAnchor=function(t){var n=document.createElement("a");n.innerHTML="&#10004;",n.classList.add("action"),t.element.insertBefore(n,t.element.firstChild),n.onclick=function(n){if(t.series.disabled)t.series.enable(),t.element.classList.remove("disabled");else{if(this.graph.series.filter(function(t){return!t.disabled}).length<=1)return;t.series.disable(),t.element.classList.add("disabled")}e.graph.update()}.bind(this);var r=t.element.getElementsByTagName("span")[0];r.onclick=function(n){var r=t.series.disabled;if(!r)for(var i=0;i<e.legend.lines.length;i++){var a=e.legend.lines[i];if(t.series===a.series);else if(!a.series.disabled){r=!0;break}}r?(t.series.enable(),t.element.classList.remove("disabled"),e.legend.lines.forEach(function(e){t.series===e.series||(e.series.disable(),e.element.classList.add("disabled"))})):e.legend.lines.forEach(function(t){t.series.enable(),t.element.classList.remove("disabled")}),e.graph.update()}},this.legend){var n=r;"undefined"!=typeof n&&n(this.legend.list).sortable&&n(this.legend.list).sortable({start:function(t,e){e.item.bind("no.onclick",function(t){t.preventDefault()})},stop:function(t,e){setTimeout(function(){e.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(t){e.addAnchor(t)})}this._addBehavior=function(){this.graph.series.forEach(function(t){t.disable=function(){if(e.graph.series.length<=1)throw"only one series left";t.disabled=!0},t.enable=function(){t.disabled=!1}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},e.namespace("Rickshaw.Graph.HoverDetail"),e.Graph.HoverDetail=e.Class.create({initialize:function(t){var e=this.graph=t.graph;this.xFormatter=t.xFormatter||function(t){return new Date(1e3*t).toUTCString()},this.yFormatter=t.yFormatter||function(t){return null===t?t:t.toFixed(2)};var n=this.element=document.createElement("div");n.className="detail",this.visible=!0,e.element.appendChild(n),this.lastEvent=null,this._addListeners(),this.onShow=t.onShow,this.onHide=t.onHide,this.onRender=t.onRender,this.formatter=t.formatter||this.formatter},formatter:function(t,e,n,r,i,a){return t.name+":&nbsp;"+i},update:function(e){if(e=e||this.lastEvent,e&&(this.lastEvent=e,e.target.nodeName.match(/^(path|svg|rect|circle)$/))){var n,r=this.graph,i=e.offsetX||e.layerX,a=e.offsetY||e.layerY,o=0,s=[];if(this.graph.series.active().forEach(function(e){var l=this.graph.stackedData[o++];if(l.length){var c=r.x.invert(i),u=t.scale.linear().domain([l[0].x,l.slice(-1)[0].x]).range([0,l.length-1]),d=Math.round(u(c));d==l.length-1&&d--;for(var h=Math.min(d||0,l.length-1),f=d;f<l.length-1&&(l[f]&&l[f+1]);){if(l[f].x<=c&&l[f+1].x>c){h=Math.abs(c-l[f].x)<Math.abs(c-l[f+1].x)?f:f+1;break}l[f+1].x<=c?f++:f--}h<0&&(h=0);var p=l[h],g=Math.sqrt(Math.pow(Math.abs(r.x(p.x)-i),2)+Math.pow(Math.abs(r.y(p.y+p.y0)-a),2)),_=e.xFormatter||this.xFormatter,m=e.yFormatter||this.yFormatter,v={formattedXValue:_(p.x),formattedYValue:m(e.scale?e.scale.invert(p.y):p.y),series:e,value:p,distance:g,order:o,name:e.name};(!n||g<n.distance)&&(n=v),s.push(v)}},this),n){n.active=!0;var l=n.value.x,c=n.formattedXValue;this.element.innerHTML="",this.element.style.left=r.x(l)+"px",this.visible&&this.render({points:s,detail:s,mouseX:i,mouseY:a,formattedXValue:c,domainX:l})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(t){var e=this.graph,n=t.points,r=n.filter(function(t){return t.active}).shift();if(null!==r.value.y){var i=r.formattedXValue,a=r.formattedYValue;this.element.innerHTML="",this.element.style.left=e.x(r.value.x)+"px";var o=document.createElement("div");o.className="x_label",o.innerHTML=i,this.element.appendChild(o);var s=document.createElement("div");s.className="item";var l=r.series,c=l.scale?l.scale.invert(r.value.y):r.value.y;s.innerHTML=this.formatter(l,r.value.x,c,i,a,r),s.style.top=this.graph.y(r.value.y0+r.value.y)+"px",this.element.appendChild(s);var u=document.createElement("div");u.className="dot",u.style.top=s.style.top,u.style.borderColor=l.color,this.element.appendChild(u),r.active&&(s.classList.add("active"),u.classList.add("active"));var d=[o,s];d.forEach(function(t){t.classList.add("left")}),this.show();var h=this._calcLayoutError(d);if(h>0){d.forEach(function(t){t.classList.remove("left"),t.classList.add("right")});var f=this._calcLayoutError(d);f>h&&d.forEach(function(t){t.classList.remove("right"),t.classList.add("left")})}"function"==typeof this.onRender&&this.onRender(t)}},_calcLayoutError:function(t){var e=this.element.parentNode.getBoundingClientRect(),n=0;t.forEach(function(t){var r=t.getBoundingClientRect();r.width&&(r.right>e.right&&(n+=r.right-e.right),r.left<e.left&&(n+=e.left-r.left))});return n},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(t){this.visible=!0,this.update(t)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(t){!t.relatedTarget||t.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),e.namespace("Rickshaw.Graph.JSONP"),e.Graph.JSONP=e.Class.create(e.Graph.Ajax,{request:function(){r.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),e.namespace("Rickshaw.Graph.Legend"),e.Graph.Legend=e.Class.create({className:"rickshaw_legend",initialize:function(t){this.element=t.element,this.graph=t.graph,this.naturalOrder=t.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var t=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var e=this.graph.series.map(function(t){return t});this.naturalOrder||(e=e.reverse()),e.forEach(function(e){t.addLine(e)})},addLine:function(e){var n=document.createElement("li");n.className="line",e.disabled&&(n.className+=" disabled"),e.className&&t.select(n).classed(e.className,!0);var r=document.createElement("div");r.className="swatch",r.style.backgroundColor=e.color,n.appendChild(r);var i=document.createElement("span");i.className="label",i.innerHTML=e.name,n.appendChild(i),this.list.appendChild(n),n.series=e,e.noLegend&&(n.style.display="none");var a={element:n,series:e};return this.shelving&&(this.shelving.addAnchor(a),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(a),this.lines.push(a),n}}),e.namespace("Rickshaw.Graph.RangeSlider"),e.Graph.RangeSlider=e.Class.create({initialize:function(t){var e=(this.element=t.element,this.graph=t.graph);this.slideCallbacks=[],this.build(),e.onUpdate(function(){this.update()}.bind(this))},build:function(){var t=this.element,e=this.graph,n=r,i=e.dataDomain(),a=this;n(function(){n(t).slider({range:!0,min:i[0],max:i[1],values:[i[0],i[1]],slide:function(t,n){if(!(n.values[1]<=n.values[0])){e.window.xMin=n.values[0],e.window.xMax=n.values[1],e.update();var r=e.dataDomain();r[0]==n.values[0]&&(e.window.xMin=void 0),r[1]==n.values[1]&&(e.window.xMax=void 0),a.slideCallbacks.forEach(function(t){t(e,e.window.xMin,e.window.xMax)})}}})}),n(t)[0].style.width=e.width+"px"},update:function(){var t=this.element,e=this.graph,n=r,i=n(t).slider("option","values"),a=e.dataDomain();n(t).slider("option","min",a[0]),n(t).slider("option","max",a[1]),null==e.window.xMin&&(i[0]=a[0]),null==e.window.xMax&&(i[1]=a[1]),n(t).slider("option","values",i)},onSlide:function(t){this.slideCallbacks.push(t)}}),e.namespace("Rickshaw.Graph.RangeSlider.Preview"),e.Graph.RangeSlider.Preview=e.Class.create({initialize:function(e){if(!e.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!e.graph&&!e.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=e.element,this.element.style.position="relative",
this.graphs=e.graph?[e.graph]:e.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=e.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=t.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],e.width||(this.widthFromGraph=!0),e.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(e),this.render()}.bind(this)),e.width=e.width||this.graphs[0].width||this.defaults.width,e.height=e.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(e),this.render()},onSlide:function(t){this.slideCallbacks.push(t)},onConfigure:function(t){this.configureCallbacks.push(t)},configure:function(t){this.config=this.config||{},this.configureCallbacks.forEach(function(e){e(t)}),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this.config?this.config[e]:this.defaults[e]},this),("width"in t||"height"in t)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(t){var e=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,n=this.config.width-2*this.config.frameHandleThickness;if(t.setSize({width:n,height:e}),this.svg){var r=e+2*this.config.frameHandleThickness,i=n+2*this.config.frameHandleThickness;this.svg.style("width",i+"px"),this.svg.style("height",r+"px")}},this))},render:function(){var n=this;this.svg=t.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var r=function(t,r){var i=e.extend({},t.config),a=n.previewHeight/n.graphs.length,o=t.renderer.name;e.extend(i,{element:this.appendChild(document.createElement("div")),height:a,width:n.previewWidth,series:t.series,renderer:o});var s=new e.Graph(i);n.previews.push(s),t.onUpdate(function(){s.render(),n.render()}),t.onConfigure(function(t){delete t.height,t.width=t.width-2*n.config.frameHandleThickness,s.configure(t),s.render()}),s.render()},i=t.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),a="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";i.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",a).style("-moz-transform",a).style("-ms-transform",a).style("transform",a).each(r),i.exit().remove();var o=this.graphs[0],s=t.scale.linear().domain([0,this.previewWidth]).range(o.dataDomain()),l=[o.window.xMin,o.window.xMax];this.currentFrame[0]=void 0===l[0]?0:Math.round(s.invert(l[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===l[1]?this.previewWidth:s.invert(l[1]),this.currentFrame[1]-this.currentFrame[0]<n.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+n.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var t=this.svg.selectAll("path.dimming").data([null]);t.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var e="";e+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,e+=" h "+this.previewWidth,e+=" v "+this.previewHeight,e+=" h "+-this.previewWidth,e+=" z ",e+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderFrame:function(){var t=this.svg.selectAll("path.frame").data([null]);t.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var e="";e+=" M "+this.currentFrame[0]+" 0",e+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),e+=" V "+this.config.height,e+=" H "+this.currentFrame[0],e+=" z",e+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderGrippers:function(){var t=this.svg.selectAll("path.gripper").data([null]);t.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var e="";[.4,.6].forEach(function(t){e+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*t)+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height),e+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+t))+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height)}.bind(this)),t.attr("d",e)},_renderHandles:function(){var t=this.svg.selectAll("rect.left_handle").data([null]);t.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),t.attr("x",this.currentFrame[0]).attr("height",this.config.height);var e=this.svg.selectAll("rect.right_handle").data([null]);e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),e.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var t=this.svg.selectAll("rect.middle_handle").data([null]);t.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),t.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function onMousemove(e,i){n.stop=r._getClientXFromEvent(t.event,n);var a=n.stop-n.start,o=r.frameBeforeDrag.slice(0),s=r.config.minimumFrameWidth;n.rigid&&(s=r.frameBeforeDrag[1]-r.frameBeforeDrag[0]),n.left&&(o[0]=Math.max(o[0]+a,0)),n.right&&(o[1]=Math.min(o[1]+a,r.previewWidth));var l=o[1]-o[0];l<=s&&(n.left&&(o[0]=o[1]-s),n.right&&(o[1]=o[0]+s),o[0]<=0&&(o[1]-=o[0],o[0]=0),o[1]>=r.previewWidth&&(o[0]-=o[1]-r.previewWidth,o[1]=r.previewWidth)),r.graphs.forEach(function(e){var n=t.scale.linear().interpolate(t.interpolateNumber).domain([0,r.previewWidth]).range(e.dataDomain()),i=[n(o[0]),n(o[1])];r.slideCallbacks.forEach(function(t){t(e,i[0],i[1])}),0===o[0]&&(i[0]=void 0),o[1]===r.previewWidth&&(i[1]=void 0),e.window.xMin=i[0],e.window.xMax=i[1],e.update()})}function onMousedown(){n.target=t.event.target,n.start=r._getClientXFromEvent(t.event,n),r.frameBeforeDrag=r.currentFrame.slice(),t.event.preventDefault?t.event.preventDefault():t.event.returnValue=!1,t.select(document).on("mousemove.rickshaw_range_slider_preview",onMousemove),t.select(document).on("mouseup.rickshaw_range_slider_preview",onMouseup),t.select(document).on("touchmove.rickshaw_range_slider_preview",onMousemove),t.select(document).on("touchend.rickshaw_range_slider_preview",onMouseup),t.select(document).on("touchcancel.rickshaw_range_slider_preview",onMouseup)}function onMousedownLeftHandle(t,e){n.left=!0,onMousedown()}function onMousedownRightHandle(t,e){n.right=!0,onMousedown()}function onMousedownMiddleHandle(t,e){n.left=!0,n.right=!0,n.rigid=!0,onMousedown()}function onMouseup(e,i){t.select(document).on("mousemove.rickshaw_range_slider_preview",null),t.select(document).on("mouseup.rickshaw_range_slider_preview",null),t.select(document).on("touchmove.rickshaw_range_slider_preview",null),t.select(document).on("touchend.rickshaw_range_slider_preview",null),t.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete r.frameBeforeDrag,n.left=!1,n.right=!1,n.rigid=!1}var e=t.select(this.element),n={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},r=this;e.select("rect.left_handle").on("mousedown",onMousedownLeftHandle),e.select("rect.right_handle").on("mousedown",onMousedownRightHandle),e.select("rect.middle_handle").on("mousedown",onMousedownMiddleHandle),e.select("rect.left_handle").on("touchstart",onMousedownLeftHandle),e.select("rect.right_handle").on("touchstart",onMousedownRightHandle),e.select("rect.middle_handle").on("touchstart",onMousedownMiddleHandle)},_getClientXFromEvent:function(t,e){switch(t.type){case"touchstart":case"touchmove":for(var n=t.changedTouches,r=null,i=0;i<n.length;i++)if(n[i].target===e.target){r=n[i];break}return null!==r?r.clientX:void 0;default:return t.clientX}}}),e.namespace("Rickshaw.Graph.Renderer"),e.Graph.Renderer=e.Class.create({initialize:function(t){this.graph=t.graph,this.tension=t.tension||this.tension,this.configure(t)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1,opacity:1}},domain:function(t){var e=t||this.graph.stackedData||this.graph.stackData(),n=+(1/0),r=-(1/0),i=+(1/0),a=-(1/0);return e.forEach(function(t){t.forEach(function(t){if(null!=t.y){var e=t.y+t.y0;e<i&&(i=e),e>a&&(a=e)}}),t.length&&(t[0].x<n&&(n=t[0].x),t[t.length-1].x>r&&(r=t[t.length-1].x))}),n-=(r-n)*this.padding.left,r+=(r-n)*this.padding.right,i="auto"===this.graph.min?i:this.graph.min||0,a=void 0===this.graph.max?a:this.graph.max,("auto"===this.graph.min||i<0)&&(i-=(a-i)*this.padding.bottom),void 0===this.graph.max&&(a+=(a-i)*this.padding.top),{x:[n,r],y:[i,a]}},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,r=t.vis||e.vis;r.selectAll("*").remove();var i=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),a=r.selectAll("path.path").data(i).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var o=r.selectAll("path.stroke").data(i).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var s=0;n.forEach(function(t){t.disabled||(t.path=a[0][s],this.stroke&&(t.stroke=o[0][s]),this._styleSeries(t),s++)},this)},_styleSeries:function(e){var n=this.fill?e.color:"none",r=this.stroke?e.color:"none",i=e.strokeWidth?e.strokeWidth:this.strokeWidth,a=e.opacity?e.opacity:this.opacity;e.path.setAttribute("fill",n),e.path.setAttribute("stroke",r),e.path.setAttribute("stroke-width",i),e.path.setAttribute("opacity",a),e.className&&t.select(e.path).classed(e.className,!0),e.className&&this.stroke&&t.select(e.stroke).classed(e.className,!0)},configure:function(t){t=t||{},e.keys(this.defaults()).forEach(function(n){return t.hasOwnProperty(n)?void("object"==typeof this.defaults()[n]?e.keys(this.defaults()[n]).forEach(function(e){this[n][e]=void 0!==t[n][e]?t[n][e]:void 0!==this[n][e]?this[n][e]:this.defaults()[n][e]},this):this[n]=void 0!==t[n]?t[n]:void 0!==this[n]?this[n]:void 0!==this.graph[n]?this.graph[n]:this.defaults()[n]):void(this[n]=this[n]||this.graph[n]||this.defaults()[n])},this)},setStrokeWidth:function(t){void 0!==t&&(this.strokeWidth=t)},setTension:function(t){void 0!==t&&(this.tension=t)}}),e.namespace("Rickshaw.Graph.Renderer.Line"),e.Graph.Renderer.Line=e.Class.create(e.Graph.Renderer,{name:"line",defaults:function($super){return e.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Stack"),e.Graph.Renderer.Stack=e.Class.create(e.Graph.Renderer,{name:"stack",defaults:function($super){return e.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Bar"),e.Graph.Renderer.Bar=e.Class.create(e.Graph.Renderer,{name:"bar",defaults:function($super){var t=e.extend($super(),{gapSize:.05,unstack:!1,opacity:1});return delete t.tension,t},initialize:function($super,t){t=t||{},this.gapSize=t.gapSize||this.gapSize,$super(t)},domain:function($super){var t=$super(),e=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return t.x[1]+=Number(e.magnitude),t},barWidth:function(t){var e=this._frequentInterval(t.stack),n=this.graph.x.magnitude(e.magnitude)*(1-this.gapSize);return n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,r=t.vis||e.vis;r.selectAll("*").remove();var i=this.barWidth(n.active()[0]),a=0,o=n.filter(function(t){return!t.disabled}).length,s=this.unstack?i/o:i,l=function(t){var n=[1,0,0,t.y<0?-1:1,0,t.y<0?2*e.y.magnitude(Math.abs(t.y)):0];return"matrix("+n.join(",")+")"};n.forEach(function(t){if(!t.disabled){var n=(this.barWidth(t),r.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:rect").attr("x",function(t){return e.x(t.x)+a}).attr("y",function(t){return e.y(t.y0+Math.abs(t.y))*(t.y<0?-1:1)}).attr("width",s).attr("height",function(t){return e.y.magnitude(Math.abs(t.y))}).attr("opacity",t.opacity).attr("transform",l));Array.prototype.forEach.call(n[0],function(e){e.setAttribute("fill",t.color)}),this.unstack&&(a+=s)}},this)},_frequentInterval:function(t){for(var n={},r=0;r<t.length-1;r++){var i=t[r+1].x-t[r].x;n[i]=n[i]||0,n[i]++}var a={count:0,magnitude:1};return e.keys(n).forEach(function(t){a.count<n[t]&&(a={count:n[t],magnitude:t})}),a}}),e.namespace("Rickshaw.Graph.Renderer.Area"),e.Graph.Renderer.Area=e.Class.create(e.Graph.Renderer,{name:"area",defaults:function($super){return e.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},seriesStrokeFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,r=t.vis||e.vis;r.selectAll("*").remove();var i=this.unstack?"append":"insert",a=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=r.selectAll("path").data(a).enter()[i]("svg:g","g");o.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&o.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var s=0;n.forEach(function(t){t.disabled||(t.path=o[0][s++],this._styleSeries(t))},this)},_styleSeries:function(e){e.path&&(t.select(e.path).select(".area").attr("fill",e.color),this.stroke&&t.select(e.path).select(".line").attr("fill","none").attr("stroke",e.stroke||t.interpolateRgb(e.color,"black")(.125)).attr("stroke-width",this.strokeWidth),e.className&&e.path.setAttribute("class",e.className))}}),e.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),e.Graph.Renderer.ScatterPlot=e.Class.create(e.Graph.Renderer,{name:"scatterplot",defaults:function($super){return e.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function($super,t){$super(t)},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,r=t.vis||e.vis,i=this.dotSize;r.selectAll("*").remove(),n.forEach(function(t){if(!t.disabled){var n=t.opacity?t.opacity:1,a=r.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:i}).attr("opacity",function(t){return"opacity"in t?t.opacity:n});t.className&&a.classed(t.className,!0),Array.prototype.forEach.call(a[0],function(e){e.setAttribute("fill",t.color)})}},this)}}),e.namespace("Rickshaw.Graph.Renderer.Multi"),e.Graph.Renderer.Multi=e.Class.create(e.Graph.Renderer,{name:"multi",initialize:function($super,t){$super(t)},defaults:function($super){return e.extend($super(),{unstack:!0,fill:!1,stroke:!0})},configure:function($super,t){t=t||{},this.config=t,$super(t)},domain:function($super){this.graph.stackData();var e=[],n=this._groups();this._stack(n),n.forEach(function(t){var n=t.series.filter(function(t){return!t.disabled}).map(function(t){return t.stack});if(n.length){var r=null;r=t.renderer&&t.renderer.domain?t.renderer.domain(n):$super(n),e.push(r)}});var r=t.min(e.map(function(t){return t.x[0]})),i=t.max(e.map(function(t){return t.x[1]})),a=t.min(e.map(function(t){return t.y[0]})),o=t.max(e.map(function(t){return t.y[1]}));return{x:[r,i],y:[a,o]}},_groups:function(){var n=this.graph,r={};n.series.forEach(function(i){if(!i.disabled){if(!r[i.renderer]){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"g");n.vis[0][0].appendChild(o);var s=n._renderers[i.renderer],l={},c=[this.defaults(),s.defaults(),this.config,this.graph];c.forEach(function(t){e.extend(l,t)}),s.configure(l),r[i.renderer]={renderer:s,series:[],vis:t.select(o)}}r[i.renderer].series.push(i)}},this);var i=[];return Object.keys(r).forEach(function(t){var e=r[t];i.push(e)}),i},_stack:function(n){return n.forEach(function(n){var r=n.series.filter(function(t){return!t.disabled}),i=r.map(function(t){return t.stack});if(!n.renderer.unstack){var a=t.layout.stack(),o=e.clone(a(i));r.forEach(function(t,n){t._stack=e.clone(o[n])})}},this),n},render:function(){this.graph.series.forEach(function(t){if(!t.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var t=this._groups();t=this._stack(t),t.forEach(function(t){var e=t.series.filter(function(t){return!t.disabled});e.active=function(){return e},t.renderer.render({series:e,vis:t.vis}),e.forEach(function(t){t.stack=t._stack||t.stack||t.data})})}}),e.namespace("Rickshaw.Graph.Renderer.LinePlot"),e.Graph.Renderer.LinePlot=e.Class.create(e.Graph.Renderer,{name:"lineplot",defaults:function($super){return e.extend($super(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,r=t.vis||e.vis,i=this.dotSize;r.selectAll("*").remove();var a=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=r.selectAll("path").data(a).enter().append("svg:path").attr("d",this.seriesPathFactory()),s=0;n.forEach(function(t){t.disabled||(t.path=o[0][s++],this._styleSeries(t))},this),n.forEach(function(t){if(!t.disabled){var n=r.selectAll("x").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:i});Array.prototype.forEach.call(n[0],function(e){e&&(e.setAttribute("data-color",t.color),e.setAttribute("fill","white"),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),e.namespace("Rickshaw.Graph.Smoother"),e.Graph.Smoother=e.Class.create({initialize:function(t){this.graph=t.graph,this.element=t.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var t=this,e=r;this.element&&e(function(){e(t.element).slider({min:1,max:100,slide:function(e,n){t.setScale(n.value)}})})},setScale:function(t){if(t<1)throw"scale out of range: "+t;this.aggregationScale=t,this.graph.update()},transformer:function(t){if(1==this.aggregationScale)return t;var e=[];return t.forEach(function(t){for(var n=[];t.length;){var r=0,i=0,a=t.splice(0,this.aggregationScale);a.forEach(function(t){r+=t.x/a.length,i+=t.y/a.length}),n.push({x:r,y:i})}e.push(n)}.bind(this)),e}}),e.namespace("Rickshaw.Graph.Socketio"),e.Graph.Socketio=e.Class.create(e.Graph.Ajax,{request:function(){var t=io.connect(this.dataURL),e=this;t.on("rickshaw",function(t){e.success(t)})}}),e.namespace("Rickshaw.Series"),e.Series=e.Class.create(Array,{initialize:function(t,n,r){r=r||{},this.palette=new e.Color.Palette(n),this.timeBase="undefined"==typeof r.timeBase?Math.floor((new Date).getTime()/1e3):r.timeBase;var i="undefined"==typeof r.timeInterval?1e3:r.timeInterval;this.setTimeInterval(i),t&&"object"==typeof t&&Array.isArray(t)&&t.forEach(function(t){this.addItem(t)},this)},addItem:function(t){if("undefined"==typeof t.name)throw"addItem() needs a name";t.color=t.color||this.palette.color(t.name),t.data=t.data||[],0===t.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(e){t.data.push({x:e.x,y:0})}):0===t.data.length&&t.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},addData:function(t,n){var r=this.getIndex();e.keys(t).forEach(function(t){this.itemByName(t)||this.addItem({name:t})},this),this.forEach(function(e){e.data.push({x:n||(r*this.timeInterval||1)+this.timeBase,y:t[e.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return this[e]},setTimeInterval:function(t){this.timeInterval=t/1e3},setTimeBase:function(t){this.timeBase=t},dump:function(){var t={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(e){var n={color:e.color,name:e.name,data:[]};e.data.forEach(function(t){n.data.push({x:t.x,y:t.y})}),t.items.push(n)}),t},load:function(t){t.timeInterval&&(this.timeInterval=t.timeInterval),t.timeBase&&(this.timeBase=t.timeBase),t.items&&t.items.forEach(function(t){this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},this)}}),e.Series.zeroFill=function(t){e.Series.fill(t,0)},e.Series.fill=function(t,e){for(var n,r=0,i=t.map(function(t){return t.data});r<Math.max.apply(null,i.map(function(t){return t.length}));)n=Math.min.apply(null,i.filter(function(t){return t[r]}).map(function(t){return t[r].x})),i.forEach(function(t){t[r]&&t[r].x==n||t.splice(r,0,{x:n,y:e})}),r++},e.namespace("Rickshaw.Series.FixedDuration"),e.Series.FixedDuration=e.Class.create(e.Series,{initialize:function(t,n,r){if(r=r||{},"undefined"==typeof r.timeInterval)throw new Error("FixedDuration series requires timeInterval");if("undefined"==typeof r.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new e.Color.Palette(n),this.timeBase="undefined"==typeof r.timeBase?Math.floor((new Date).getTime()/1e3):r.timeBase,this.setTimeInterval(r.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=r.maxDataPoints,t&&"object"==typeof t&&Array.isArray(t)&&(t.forEach(function(t){this.addItem(t)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,"undefined"!=typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var i=this.maxDataPoints-this.currentSize-1;i>1;i--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(t){t.data.unshift({x:((i-1)*this.timeInterval||1)+this.timeBase,y:0,i:i})},this)},addData:function($super,t,e){if($super(t,e),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(t){t.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),e})}).call(e,n(43),n(43))},687:function(t,e,n){var r,i;!function(){function d3_documentElement(t){return t&&(t.ownerDocument||t.document||t).documentElement}function d3_window(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function d3_ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d3_number(t){return null===t?NaN:+t}function d3_numeric(t){return!isNaN(t)}function d3_bisector(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}function d3_transposeLength(t){return t.length}function d3_range_integerScale(t){for(var e=1;t*e%1;)e*=10;return e}function d3_class(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(t){return(t+="")===v||t[0]===y?y+t:t}function d3_map_unescape(t){return(t+="")[0]===y?t.slice(1):t}function d3_map_has(t){return d3_map_escape(t)in this._}function d3_map_remove(t){return(t=d3_map_escape(t))in this._&&delete this._[t]}function d3_map_keys(){var t=[];for(var e in this._)t.push(d3_map_unescape(e));return t}function d3_map_size(){var t=0;for(var e in this._)++t;return t}function d3_map_empty(){for(var t in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(t){return t}function d3_rebind(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function d3_vendorSymbol(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=b.length;n<r;++n){var i=b[n]+e;if(i in t)return i}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(t){function event(){for(var n,r=e,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return t}var e=[],n=new d3_Map;return event.on=function(r,i){var a,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,a=e.indexOf(o)).concat(e.slice(a+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},event}function d3_eventPreventDefault(){a.event.preventDefault()}function d3_eventSource(){for(var t,e=a.event;t=e.sourceEvent;)e=t;return e}function d3_eventDispatch(t){for(var e=new d3_dispatch,n=0,r=arguments.length;++n<r;)e[arguments[n]]=d3_dispatch_event(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=a.event;i.target=t,a.event=i,e[i.type].apply(n,r)}finally{a.event=o}}},e}function d3_selection(t){return w(t,C),t}function d3_selection_selector(t){return"function"==typeof t?t:function(){return k(t,this)}}function d3_selection_selectorAll(t){return"function"==typeof t?t:function(){return M(t,this)}}function d3_selection_attr(t,e){function attrNull(){this.removeAttribute(t)}function attrNullNS(){this.removeAttributeNS(t.space,t.local)}function attrConstant(){this.setAttribute(t,e)}function attrConstantNS(){this.setAttributeNS(t.space,t.local,e)}function attrFunction(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function attrFunctionNS(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=a.ns.qualify(t),null==e?t.local?attrNullNS:attrNull:"function"==typeof e?t.local?attrFunctionNS:attrFunction:t.local?attrConstantNS:attrConstant}function d3_collapse(t){return t.trim().replace(/\s+/g," ")}function d3_selection_classedRe(t){return new RegExp("(?:^|\\s+)"+a.requote(t)+"(?:\\s+|$)","g")}function d3_selection_classes(t){return(t+"").trim().split(/^|\s+/)}function d3_selection_classed(t,e){function classedConstant(){for(var r=-1;++r<n;)t[r](this,e)}function classedFunction(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}t=d3_selection_classes(t).map(d3_selection_classedName);var n=t.length;return"function"==typeof e?classedFunction:classedConstant}function d3_selection_classedName(t){var e=d3_selection_classedRe(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",d3_collapse(i+" "+t))):n.setAttribute("class",d3_collapse(i.replace(e," ")))}}function d3_selection_style(t,e,n){function styleNull(){this.style.removeProperty(t)}function styleConstant(){this.style.setProperty(t,e,n)}function styleFunction(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?styleNull:"function"==typeof e?styleFunction:styleConstant}function d3_selection_property(t,e){function propertyNull(){delete this[t]}function propertyConstant(){this[t]=e}function propertyFunction(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?propertyNull:"function"==typeof e?propertyFunction:propertyConstant}function d3_selection_creator(t){function create(){var e=this.ownerDocument,n=this.namespaceURI;return n===E&&e.documentElement.namespaceURI===E?e.createElement(t):e.createElementNS(n,t)}function createNS(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=a.ns.qualify(t)).local?createNS:create}function d3_selectionRemove(){var t=this.parentNode;t&&t.removeChild(this)}function d3_selection_dataNode(t){return{__data__:t}}function d3_selection_filter(t){return function(){return S(this,t)}}function d3_selection_sortComparator(t){return arguments.length||(t=d3_ascending),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function d3_selection_each(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,a=t[n],o=0,s=a.length;o<s;o++)(i=a[o])&&e(i,o,n);return t}function d3_selection_enter(t){return w(t,R),t}function d3_selection_enterInsertBefore(t){var e,n;return function(r,i,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(o=s[e])&&++e<l;);return o}}function d3_selection_on(t,e,n){function onRemove(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}function onAdd(){var i=o(e,s(arguments));onRemove.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}function removeAll(){var e,n=new RegExp("^__on([^.]+)"+a.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var r="__on"+t,i=t.indexOf("."),o=d3_selection_onListener;i>0&&(t=t.slice(0,i));var l=N.get(t);return l&&(t=l,o=d3_selection_onFilter),i?e?onAdd:onRemove:e?d3_noop:removeAll}function d3_selection_onListener(t,e){return function(n){var r=a.event;a.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{a.event=r}}}function d3_selection_onFilter(t,e){var n=d3_selection_onListener(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function d3_event_dragSuppress(t){var e=".dragsuppress-"+ ++z,n="click"+e,r=a.select(d3_window(t)).on("touchmove"+e,d3_eventPreventDefault).on("dragstart"+e,d3_eventPreventDefault).on("selectstart"+e,d3_eventPreventDefault);if(null==A&&(A=!("onselectstart"in t)&&d3_vendorSymbol(t.style,"userSelect")),
A){var i=d3_documentElement(t).style,o=i[A];i[A]="none"}return function(t){if(r.on(e,null),A&&(i[A]=o),t){var a=function(){r.on(n,null)};r.on(n,function(){d3_eventPreventDefault(),a()},!0),setTimeout(a,0)}}}function d3_mousePoint(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(L<0){var i=d3_window(t);if(i.scrollX||i.scrollY){n=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();L=!(o.f||o.e),n.remove()}}return L?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function d3_behavior_dragTouchId(){return a.event.changedTouches[0].identifier}function d3_sgn(t){return t>0?1:t<0?-1:0}function d3_cross2d(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function d3_acos(t){return t>1?0:t<-1?F:Math.acos(t)}function d3_asin(t){return t>1?B:t<-1?-B:Math.asin(t)}function d3_sinh(t){return((t=Math.exp(t))-1/t)/2}function d3_cosh(t){return((t=Math.exp(t))+1/t)/2}function d3_tanh(t){return((t=Math.exp(2*t))-1)/(t+1)}function d3_haversin(t){return(t=Math.sin(t/2))*t}function d3_color(){}function d3_hsl(t,e,n){return this instanceof d3_hsl?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof d3_hsl?new d3_hsl(t.h,t.s,t.l):d3_rgb_parse(""+t,d3_rgb_hsl,d3_hsl):new d3_hsl(t,e,n)}function d3_hsl_rgb(t,e,n){function v(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}function vv(t){return Math.round(255*v(t))}var r,i;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i,new d3_rgb(vv(t+120),vv(t),vv(t-120))}function d3_hcl(t,e,n){return this instanceof d3_hcl?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof d3_hcl?new d3_hcl(t.h,t.c,t.l):t instanceof d3_lab?d3_lab_hcl(t.l,t.a,t.b):d3_lab_hcl((t=d3_rgb_lab((t=a.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new d3_hcl(t,e,n)}function d3_hcl_lab(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new d3_lab(n,Math.cos(t*=q)*e,Math.sin(t)*e)}function d3_lab(t,e,n){return this instanceof d3_lab?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof d3_lab?new d3_lab(t.l,t.a,t.b):t instanceof d3_hcl?d3_hcl_lab(t.h,t.c,t.l):d3_rgb_lab((t=d3_rgb(t)).r,t.g,t.b):new d3_lab(t,e,n)}function d3_lab_rgb(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return i=d3_lab_xyz(i)*J,r=d3_lab_xyz(r)*K,a=d3_lab_xyz(a)*Q,new d3_rgb(d3_xyz_rgb(3.2404542*i-1.5371385*r-.4985314*a),d3_xyz_rgb(-.969266*i+1.8760108*r+.041556*a),d3_xyz_rgb(.0556434*i-.2040259*r+1.0572252*a))}function d3_lab_hcl(t,e,n){return t>0?new d3_hcl(Math.atan2(n,e)*j,Math.sqrt(e*e+n*n),t):new d3_hcl(NaN,NaN,t)}function d3_lab_xyz(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function d3_xyz_lab(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function d3_xyz_rgb(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function d3_rgb(t,e,n){return this instanceof d3_rgb?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof d3_rgb?new d3_rgb(t.r,t.g,t.b):d3_rgb_parse(""+t,d3_rgb,d3_hsl_rgb):new d3_rgb(t,e,n)}function d3_rgbNumber(t){return new d3_rgb(t>>16,t>>8&255,255&t)}function d3_rgbString(t){return d3_rgbNumber(t)+""}function d3_rgb_hex(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function d3_rgb_parse(t,e,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(d3_rgb_parseNumber(i[0]),d3_rgb_parseNumber(i[1]),d3_rgb_parseNumber(i[2]))}return(a=nt.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,l=15&a,l=l<<4|l):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function d3_rgb_hsl(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new d3_hsl(r,i,l)}function d3_rgb_lab(t,e,n){t=d3_rgb_xyz(t),e=d3_rgb_xyz(e),n=d3_rgb_xyz(n);var r=d3_xyz_lab((.4124564*t+.3575761*e+.1804375*n)/J),i=d3_xyz_lab((.2126729*t+.7151522*e+.072175*n)/K),a=d3_xyz_lab((.0193339*t+.119192*e+.9503041*n)/Q);return d3_lab(116*i-16,500*(r-i),200*(i-a))}function d3_rgb_xyz(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function d3_rgb_parseNumber(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function d3_functor(t){return"function"==typeof t?t:function(){return t}}function d3_xhrType(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),d3_xhr(e,n,t,r)}}function d3_xhr(t,e,n,r){function respond(){var t,e=c.status;if(!e&&d3_xhrHasResponse(c)||e>=200&&e<300||304===e){try{t=n.call(i,c)}catch(r){return void o.error.call(i,r)}o.load.call(i,t)}else o.error.call(i,c)}var i={},o=a.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=respond:c.onreadystatechange=function(){c.readyState>3&&respond()},c.onprogress=function(t){var e=a.event;a.event=t;try{o.progress.call(i,c)}finally{a.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(u=t,i):u},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}}),i.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),c.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=e&&c.overrideMimeType&&c.overrideMimeType(e),null!=u&&(c.responseType=u),null!=a&&i.on("error",a).on("load",function(t){a(null,t)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},a.rebind(i,o,"on"),null==r?i:i.get(d3_xhr_fixCallback(r))}function d3_xhr_fixCallback(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function d3_xhrHasResponse(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function d3_timer(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,a={c:t,t:i,n:null};return it?it.n=a:rt=a,it=a,at||(ot=clearTimeout(ot),at=1,st(d3_timer_step)),a}function d3_timer_step(){var t=d3_timer_mark(),e=d3_timer_sweep()-t;e>24?(isFinite(e)&&(clearTimeout(ot),ot=setTimeout(d3_timer_step,e)),at=0):(at=1,st(d3_timer_step))}function d3_timer_mark(){for(var t=Date.now(),e=rt;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function d3_timer_sweep(){for(var t,e=rt,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:rt=e.n;return it=t,n}function d3_format_precision(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function d3_formatPrefix(t,e){var n=Math.pow(10,3*m(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function d3_locale_numberFormat(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,a=[],o=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:d3_identity;return function(t){var n=ct.exec(t),r=n[1]||" ",s=n[2]||">",l=n[3]||"-",c=n[4]||"",u=n[5],d=+n[6],h=n[7],f=n[8],p=n[9],g=1,_="",m="",v=!1,y=!0;switch(f&&(f=+f.substring(1)),(u||"0"===r&&"="===s)&&(u=r="0",s="="),p){case"n":h=!0,p="g";break;case"%":g=100,m="%",p="f";break;case"p":g=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===c&&(_="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0,f=0;break;case"s":g=-1,p="r"}"$"===c&&(_=i[0],m=i[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=ut.get(p)||d3_format_typeDefault;var b=u&&h;return function(t){var n=m;if(v&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(g<0){var c=a.formatPrefix(t,f);t=c.scale(t),n=c.symbol+m}else t*=g;t=p(t,f);var x,w,k=t.lastIndexOf(".");if(k<0){var M=y?t.lastIndexOf("e"):-1;M<0?(x=t,w=""):(x=t.substring(0,M),w=t.substring(M))}else x=t.substring(0,k),w=e+t.substring(k+1);!u&&h&&(x=o(x,1/0));var S=_.length+x.length+w.length+(b?0:i.length),C=S<d?new Array(S=d-S+1).join(r):"";return b&&(x=o(C+x,C.length?d-w.length:1/0)),i+=_,t=x+w,("<"===s?i+t+C:">"===s?C+i+t:"^"===s?C.substring(0,S>>=1)+i+t+C.substring(S):i+(b?t:C+t))+n}}}function d3_format_typeDefault(t){return t+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(t,e,n){function round(e){var n=t(e),r=offset(n,1);return e-n<r-e?n:r}function ceil(n){return e(n=t(new ht(n-1)),1),n}function offset(t,n){return e(t=new ht((+t)),n),t}function range(t,r,i){var a=ceil(t),o=[];if(i>1)for(;a<r;)n(a)%i||o.push(new Date((+a))),e(a,1);else for(;a<r;)o.push(new Date((+a))),e(a,1);return o}function range_utc(t,e,n){try{ht=d3_date_utc;var r=new d3_date_utc;return r._=t,range(r,e,n)}finally{ht=Date}}t.floor=t,t.round=round,t.ceil=ceil,t.offset=offset,t.range=range;var r=t.utc=d3_time_interval_utc(t);return r.floor=r,r.round=d3_time_interval_utc(round),r.ceil=d3_time_interval_utc(ceil),r.offset=d3_time_interval_utc(offset),r.range=range_utc,t}function d3_time_interval_utc(t){return function(e,n){try{ht=d3_date_utc;var r=new d3_date_utc;return r._=e,t(r,n)._}finally{ht=Date}}}function d3_locale_timeFormat(t){function d3_time_format(t){function format(n){for(var r,i,a,o=[],s=-1,l=0;++s<e;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=pt[r=t.charAt(++s)])&&(r=t.charAt(++s)),(a=y[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}var e=t.length;return format.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=d3_time_parse(n,t,e,0);if(r!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&ht!==d3_date_utc,a=new(i?d3_date_utc:ht);return"j"in n?a.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),a.setFullYear(n.y,0,1),a.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(a.getDay()+5)%7:n.w+7*n.U-(a.getDay()+6)%7)):a.setFullYear(n.y,n.m,n.d),a.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?a._:a},format.toString=function(){return t},format}function d3_time_parse(t,e,n,r){for(var i,a,o,s=0,l=e.length,c=n.length;s<l;){if(r>=c)return-1;if(i=e.charCodeAt(s++),37===i){if(o=e.charAt(s++),a=b[o in pt?e.charAt(s++):o],!a||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function d3_time_parseWeekdayAbbrev(t,e,n){f.lastIndex=0;var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseWeekday(t,e,n){d.lastIndex=0;var r=d.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseMonthAbbrev(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseMonth(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseLocaleFull(t,e,n){return d3_time_parse(t,y.c.toString(),e,n)}function d3_time_parseLocaleDate(t,e,n){return d3_time_parse(t,y.x.toString(),e,n)}function d3_time_parseLocaleTime(t,e,n){return d3_time_parse(t,y.X.toString(),e,n)}function d3_time_parseAmPm(t,e,n){var r=u.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths;d3_time_format.utc=function(t){function format(t){try{ht=d3_date_utc;var n=new ht;return n._=t,e(n)}finally{ht=Date}}var e=d3_time_format(t);return format.parse=function(t){try{ht=d3_date_utc;var n=e.parse(t);return n&&n._}finally{ht=Date}},format.toString=e.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var u=a.map(),d=d3_time_formatRe(o),h=d3_time_formatLookup(o),f=d3_time_formatRe(s),p=d3_time_formatLookup(s),g=d3_time_formatRe(l),_=d3_time_formatLookup(l),m=d3_time_formatRe(c),v=d3_time_formatLookup(c);i.forEach(function(t,e){u.set(t.toLowerCase(),e)});var y={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:d3_time_format(e),d:function(t,e){return d3_time_formatPad(t.getDate(),e,2)},e:function(t,e){return d3_time_formatPad(t.getDate(),e,2)},H:function(t,e){return d3_time_formatPad(t.getHours(),e,2)},I:function(t,e){return d3_time_formatPad(t.getHours()%12||12,e,2)},j:function(t,e){return d3_time_formatPad(1+dt.dayOfYear(t),e,3)},L:function(t,e){return d3_time_formatPad(t.getMilliseconds(),e,3)},m:function(t,e){return d3_time_formatPad(t.getMonth()+1,e,2)},M:function(t,e){return d3_time_formatPad(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return d3_time_formatPad(t.getSeconds(),e,2)},U:function(t,e){return d3_time_formatPad(dt.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return d3_time_formatPad(dt.mondayOfYear(t),e,2)},x:d3_time_format(n),X:d3_time_format(r),y:function(t,e){return d3_time_formatPad(t.getFullYear()%100,e,2)},Y:function(t,e){return d3_time_formatPad(t.getFullYear()%1e4,e,4)},Z:d3_time_zone,"%":function(){return"%"}},b={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function d3_time_formatRe(t){return new RegExp("^(?:"+t.map(a.requote).join("|")+")","i")}function d3_time_formatLookup(t){for(var e=new d3_Map,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function d3_time_parseWeekdayNumber(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function d3_time_parseWeekNumberSunday(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function d3_time_parseWeekNumberMonday(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function d3_time_parseFullYear(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function d3_time_parseYear(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.y=d3_time_expandYear(+r[0]),n+r[0].length):-1}function d3_time_parseZone(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function d3_time_expandYear(t){return t+(t>68?1900:2e3)}function d3_time_parseMonthNumber(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function d3_time_parseDay(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function d3_time_parseDayOfYear(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function d3_time_parseHour24(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function d3_time_parseMinutes(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function d3_time_parseSeconds(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function d3_time_parseMilliseconds(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function d3_time_zone(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=m(e)/60|0,i=m(e)%60;return n+d3_time_formatPad(r,"0",2)+d3_time_formatPad(i,"0",2)}function d3_time_parseLiteralPercent(t,e,n){_t.lastIndex=0;var r=_t.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function d3_time_formatMulti(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function d3_adder(){}function d3_adderSum(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}function d3_geo_streamGeometry(t,e){t&&bt.hasOwnProperty(t.type)&&bt[t.type](t,e)}function d3_geo_streamLine(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function d3_geo_streamPolygon(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)d3_geo_streamLine(t[n],e,1);e.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(t,e){t*=q,e=e*q/2+F/4;var a=t-n,o=a>=0?1:-1,s=o*a,l=Math.cos(e),c=Math.sin(e),u=i*c,d=r*l+u*Math.cos(s),h=u*o*Math.sin(s);wt.add(Math.atan2(h,d)),n=t,r=l,i=c}var t,e,n,r,i;kt.point=function(a,o){kt.point=nextPoint,n=(t=a)*q,r=Math.cos(o=(e=o)*q/2+F/4),i=Math.sin(o)},kt.lineEnd=function(){nextPoint(t,e)}}function d3_geo_cartesian(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function d3_geo_cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function d3_geo_cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function d3_geo_cartesianAdd(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function d3_geo_cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function d3_geo_cartesianNormalize(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function d3_geo_spherical(t){return[Math.atan2(t[1],t[0]),d3_asin(t[2])]}function d3_geo_sphericalEqual(t,e){return m(t[0]-e[0])<P&&m(t[1]-e[1])<P}function d3_geo_centroidPoint(t,e){t*=q;var n=Math.cos(e*=q);d3_geo_centroidPointXYZ(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function d3_geo_centroidPointXYZ(t,e,n){++Mt,Ct+=(t-Ct)/Mt,Et+=(e-Et)/Mt,Tt+=(n-Tt)/Mt}function d3_geo_centroidLineStart(){function nextPoint(r,i){r*=q;var a=Math.cos(i*=q),o=a*Math.cos(r),s=a*Math.sin(r),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*l-n*s)*c+(c=n*o-t*l)*c+(c=t*s-e*o)*c),t*o+e*s+n*l);St+=c,Rt+=c*(t+(t=o)),Nt+=c*(e+(e=s)),At+=c*(n+(n=l)),d3_geo_centroidPointXYZ(t,e,n)}var t,e,n;Dt.point=function(r,i){r*=q;var a=Math.cos(i*=q);t=a*Math.cos(r),e=a*Math.sin(r),n=Math.sin(i),Dt.point=nextPoint,d3_geo_centroidPointXYZ(t,e,n)}}function d3_geo_centroidLineEnd(){Dt.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(t,e){t*=q;var a=Math.cos(e*=q),o=a*Math.cos(t),s=a*Math.sin(t),l=Math.sin(e),c=r*l-i*s,u=i*o-n*l,d=n*s-r*o,h=Math.sqrt(c*c+u*u+d*d),f=n*o+r*s+i*l,p=h&&-d3_acos(f)/h,g=Math.atan2(h,f);zt+=p*c,Lt+=p*u,Pt+=p*d,St+=g,Rt+=g*(n+(n=o)),Nt+=g*(r+(r=s)),At+=g*(i+(i=l)),d3_geo_centroidPointXYZ(n,r,i)}var t,e,n,r,i;Dt.point=function(a,o){t=a,e=o,Dt.point=nextPoint,a*=q;var s=Math.cos(o*=q);n=s*Math.cos(a),r=s*Math.sin(a),i=Math.sin(o),d3_geo_centroidPointXYZ(n,r,i)},Dt.lineEnd=function(){nextPoint(t,e),Dt.lineEnd=d3_geo_centroidLineEnd,Dt.point=d3_geo_centroidPoint}}function d3_geo_compose(t,e){function compose(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(compose.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(t,e,n,r,i){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(d3_geo_sphericalEqual(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var l=new d3_geo_clipPolygonIntersection(n,t,null,(!0)),c=new d3_geo_clipPolygonIntersection(n,null,l,(!1));l.o=c,a.push(l),o.push(c),l=new d3_geo_clipPolygonIntersection(r,t,null,(!1)),c=new d3_geo_clipPolygonIntersection(r,null,l,(!0)),l.o=c,a.push(l),o.push(c)}}),o.sort(e),d3_geo_clipPolygonLinkCircular(a),d3_geo_clipPolygonLinkCircular(o),a.length){for(var s=0,l=n,c=o.length;s<c;++s)o[s].e=l=!l;for(var u,d,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,c=u.length;s<c;++s)i.point((d=u[s])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p){u=f.p.z;for(var s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,p=!p}while(!f.v);i.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function d3_geo_clipPolygonIntersection(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function d3_geo_clip(t,e,n,r){return function(i,o){function point(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function pointLine(t,e){var n=i(t,e);u.point(n[0],n[1])}function lineStart(){h.point=pointLine,u.lineStart()}function lineEnd(){h.point=point,u.lineEnd()}function pointRing(t,e){c.push([t,e]);var n=i(t,e);p.point(n[0],n[1])}function ringStart(){p.lineStart(),c=[]}function ringEnd(){pointRing(c[0][0],c[0][1]),p.lineEnd();var t,e=p.clean(),n=f.buffer(),r=n.length;if(c.pop(),l.push(c),c=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(g||(o.polygonStart(),g=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(d3_geo_clipSegmentLength1))}var s,l,c,u=e(o),d=i.invert(r[0],r[1]),h={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){h.point=pointRing,h.lineStart=ringStart,h.lineEnd=ringEnd,s=[],l=[]},polygonEnd:function(){h.point=point,h.lineStart=lineStart,h.lineEnd=lineEnd,s=a.merge(s);var t=d3_geo_pointInPolygon(d,l);s.length?(g||(o.polygonStart(),g=!0),d3_geo_clipPolygon(s,d3_geo_clipSort,t,n,o)):t&&(g||(o.polygonStart(),g=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),g&&(o.polygonEnd(),g=!1),s=l=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},f=d3_geo_clipBufferListener(),p=e(f),g=!1;return h}}function d3_geo_clipSegmentLength1(t){return t.length>1}function d3_geo_clipBufferListener(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:d3_noop,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function d3_geo_clipSort(t,e){return((t=t.x)[0]<0?t[1]-B-P:B-t[1])-((e=e.x)[0]<0?e[1]-B-P:B-e[1])}function d3_geo_clipAntimeridianLine(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?F:-F,l=m(a-n);m(l-F)<P?(t.point(n,r=(r+o)/2>0?B:-B),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=F&&(m(n-i)<P&&(n-=i*P),m(a-s)<P&&(a-=s*P),r=d3_geo_clipAntimeridianIntersect(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function d3_geo_clipAntimeridianIntersect(t,e,n,r){var i,a,o=Math.sin(t-n);return m(o)>P?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*o)):(e+r)/2}function d3_geo_clipAntimeridianInterpolate(t,e,n,r){var i;if(null==t)i=n*B,r.point(-F,i),r.point(0,i),r.point(F,i),r.point(F,0),r.point(F,-i),r.point(0,-i),r.point(-F,-i),r.point(-F,0),r.point(-F,i);else if(m(t[0]-e[0])>P){var a=t[0]<e[0]?F:-F;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function d3_geo_pointInPolygon(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;wt.reset();for(var s=0,l=e.length;s<l;++s){var c=e[s],u=c.length;if(u)for(var d=c[0],h=d[0],f=d[1]/2+F/4,p=Math.sin(f),g=Math.cos(f),_=1;;){_===u&&(_=0),t=c[_];var m=t[0],v=t[1]/2+F/4,y=Math.sin(v),b=Math.cos(v),x=m-h,w=x>=0?1:-1,k=w*x,M=k>F,S=p*y;if(wt.add(Math.atan2(S*w*Math.sin(k),g*b+S*Math.cos(k))),a+=M?x+w*I:x,M^h>=n^m>=n){var C=d3_geo_cartesianCross(d3_geo_cartesian(d),d3_geo_cartesian(t));d3_geo_cartesianNormalize(C);var E=d3_geo_cartesianCross(i,C);d3_geo_cartesianNormalize(E);var T=(M^x>=0?-1:1)*d3_asin(E[2]);(r>T||r===T&&(C[0]||C[1]))&&(o+=M^x>=0?1:-1)}if(!_++)break;h=m,p=y,g=b,d=t}}return(a<-P||a<P&&wt<-P)^1&o}function d3_geo_clipCircle(t){function visible(t,n){return Math.cos(t)*Math.cos(n)>e}function clipLine(t){var e,i,a,o,s;return{lineStart:function(){o=a=!1,s=1},point:function(l,c){var u,d=[l,c],h=visible(l,c),f=n?h?0:code(l,c):h?code(l+(l<0?F:-F),c):0;if(!e&&(o=a=h)&&t.lineStart(),h!==a&&(u=intersect(e,d),(d3_geo_sphericalEqual(e,u)||d3_geo_sphericalEqual(d,u))&&(d[0]+=P,d[1]+=P,h=visible(d[0],d[1]))),h!==a)s=0,h?(t.lineStart(),u=intersect(d,e),t.point(u[0],u[1])):(u=intersect(e,d),t.point(u[0],u[1]),t.lineEnd()),e=u;else if(r&&e&&n^h){var p;f&i||!(p=intersect(d,e,!0))||(s=0,n?(t.lineStart(),t.point(p[0][0],p[0][1]),t.point(p[1][0],p[1][1]),t.lineEnd()):(t.point(p[1][0],p[1][1]),t.lineEnd(),t.lineStart(),t.point(p[0][0],p[0][1])))}!h||e&&d3_geo_sphericalEqual(e,d)||t.point(d[0],d[1]),e=d,a=h,i=f},lineEnd:function(){a&&t.lineEnd(),e=null},clean:function(){return s|(o&&a)<<1}}}function intersect(t,n,r){var i=d3_geo_cartesian(t),a=d3_geo_cartesian(n),o=[1,0,0],s=d3_geo_cartesianCross(i,a),l=d3_geo_cartesianDot(s,s),c=s[0],u=l-c*c;if(!u)return!r&&t;var d=e*l/u,h=-e*c/u,f=d3_geo_cartesianCross(o,s),p=d3_geo_cartesianScale(o,d),g=d3_geo_cartesianScale(s,h);d3_geo_cartesianAdd(p,g);var _=f,v=d3_geo_cartesianDot(p,_),y=d3_geo_cartesianDot(_,_),b=v*v-y*(d3_geo_cartesianDot(p,p)-1);if(!(b<0)){var x=Math.sqrt(b),w=d3_geo_cartesianScale(_,(-v-x)/y);if(d3_geo_cartesianAdd(w,p),w=d3_geo_spherical(w),!r)return w;var k,M=t[0],S=n[0],C=t[1],E=n[1];S<M&&(k=M,M=S,S=k);var T=S-M,R=m(T-F)<P,N=R||T<P;if(!R&&E<C&&(k=C,C=E,E=k),N?R?C+E>0^w[1]<(m(w[0]-M)<P?C:E):C<=w[1]&&w[1]<=E:T>F^(M<=w[0]&&w[0]<=S)){var A=d3_geo_cartesianScale(_,(-v+x)/y);return d3_geo_cartesianAdd(A,p),[w,d3_geo_spherical(A)]}}}function code(e,r){var i=n?t:F-t,a=0;return e<-i?a|=1:e>i&&(a|=2),r<-i?a|=4:r>i&&(a|=8),a}var e=Math.cos(t),n=e>0,r=m(e)>P,i=d3_geo_circleInterpolate(t,6*q);return d3_geo_clip(visible,clipLine,i,n?[0,-t]:[-F,t-F])}function d3_geom_clipLine(t,e,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,c=o.y,u=s.x,d=s.y,h=0,f=1,p=u-l,g=d-c;if(a=t-l,p||!(a>0)){if(a/=p,p<0){if(a<h)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>h&&(h=a)}if(a=n-l,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>h&&(h=a)}else if(p>0){if(a<h)return;a<f&&(f=a)}if(a=e-c,g||!(a>0)){if(a/=g,g<0){if(a<h)return;a<f&&(f=a)}else if(g>0){if(a>f)return;a>h&&(h=a)}if(a=r-c,g||!(a<0)){if(a/=g,g<0){if(a>f)return;a>h&&(h=a)}else if(g>0){if(a<h)return;a<f&&(f=a)}return h>0&&(i.a={x:l+h*p,y:c+h*g}),f<1&&(i.b={x:l+f*p,y:c+f*g}),i}}}}}}function d3_geo_clipExtent(t,e,n,r){function corner(r,i){return m(r[0]-t)<P?i>0?0:3:m(r[0]-n)<P?i>0?2:1:m(r[1]-e)<P?i>0?1:0:i>0?3:2}function compare(t,e){return comparePoints(t.x,e.x)}function comparePoints(t,e){var n=corner(t,1),r=corner(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function insidePolygon(t){for(var e=0,n=s.length,r=t[1],i=0;i<n;++i)for(var a,o=1,l=s[i],c=l.length,u=l[0];o<c;++o)a=l[o],u[1]<=r?a[1]>r&&d3_cross2d(u,a,t)>0&&++e:a[1]<=r&&d3_cross2d(u,a,t)<0&&--e,u=a;return 0!==e}function interpolate(i,a,o,s){var l=0,c=0;if(null==i||(l=corner(i,o))!==(c=corner(a,o))||comparePoints(i,a)<0^o>0){do s.point(0===l||3===l?t:n,l>1?r:e);while((l=(l+o+4)%4)!==c)}else s.point(a[0],a[1])}function pointVisible(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function point(t,e){pointVisible(t,e)&&i.point(t,e)}function lineStart(){b.point=linePoint,s&&s.push(l=[]),g=!0,p=!1,h=f=NaN}function lineEnd(){o&&(linePoint(c,u),d&&p&&v.rejoin(),o.push(v.buffer())),b.point=point,p&&i.lineEnd()}function linePoint(t,e){t=Math.max(-It,Math.min(It,t)),e=Math.max(-It,Math.min(It,e));var n=pointVisible(t,e);if(s&&l.push([t,e]),g)c=t,u=e,d=n,g=!1,n&&(i.lineStart(),i.point(t,e));else if(n&&p)i.point(t,e);else{var r={a:{x:h,y:f},b:{x:t,y:e}};y(r)?(p||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),_=!1):n&&(i.lineStart(),i.point(t,e),_=!1)}h=t,f=e,p=n}var o,s,l,c,u,d,h,f,p,g,_,m=i,v=d3_geo_clipBufferListener(),y=d3_geom_clipLine(t,e,n,r),b={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){i=v,o=[],s=[],_=!0},polygonEnd:function(){i=m,o=a.merge(o);var e=insidePolygon([t,r]),n=_&&e,c=o.length;(n||c)&&(i.polygonStart(),n&&(i.lineStart(),interpolate(null,null,1,i),i.lineEnd()),c&&d3_geo_clipPolygon(o,compare,e,interpolate,i),i.polygonEnd()),o=s=l=null}};return b}}function d3_geo_conic(t){var e=0,n=F/3,r=d3_geo_projectionMutator(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*F/180,n=t[1]*F/180):[e/F*180,n/F*180]},i}function d3_geo_conicEqualArea(t,e){function forward(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;return forward.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,d3_asin((i-(t*t+n*n)*r*r)/(2*r))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(t,e){Bt+=r*t-n*e,n=t,r=e}var t,e,n,r;Gt.point=function(i,a){Gt.point=nextPoint,t=n=i,e=r=a},Gt.lineEnd=function(){nextPoint(t,e)}}function d3_geo_pathBoundsPoint(t,e){t<qt&&(qt=t),t>Ht&&(Ht=t),e<jt&&(jt=e),e>Ut&&(Ut=e)}function d3_geo_pathBuffer(){function point(n,r){e.push("M",n,",",r,t)}function pointLineStart(t,r){e.push("M",t,",",r),n.point=pointLine}function pointLine(t,n){e.push("L",t,",",n)}function lineEnd(){n.point=point}function lineEndPolygon(){e.push("Z")}var t=d3_geo_pathBufferCircle(4.5),e=[],n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(e){return t=d3_geo_pathBufferCircle(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};return n}function d3_geo_pathBufferCircle(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function d3_geo_pathCentroidPoint(t,e){Ct+=t,Et+=e,++Tt}function d3_geo_pathCentroidLineStart(){function nextPoint(n,r){var i=n-t,a=r-e,o=Math.sqrt(i*i+a*a);Rt+=o*(t+n)/2,Nt+=o*(e+r)/2,At+=o,d3_geo_pathCentroidPoint(t=n,e=r)}var t,e;Vt.point=function(n,r){Vt.point=nextPoint,d3_geo_pathCentroidPoint(t=n,e=r)}}function d3_geo_pathCentroidLineEnd(){Vt.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(t,e){var i=t-n,a=e-r,o=Math.sqrt(i*i+a*a);Rt+=o*(n+t)/2,Nt+=o*(r+e)/2,At+=o,o=r*t-n*e,zt+=o*(n+t),Lt+=o*(r+e),Pt+=3*o,d3_geo_pathCentroidPoint(n=t,r=e)}var t,e,n,r;Vt.point=function(i,a){Vt.point=nextPoint,d3_geo_pathCentroidPoint(t=n=i,e=r=a)},Vt.lineEnd=function(){nextPoint(t,e)}}function d3_geo_pathContext(t){function point(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,I)}function pointLineStart(e,r){t.moveTo(e,r),n.point=pointLine}function pointLine(e,n){t.lineTo(e,n)}function lineEnd(){n.point=point}function lineEndPolygon(){t.closePath()}var e=4.5,n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(t){return e=t,n},result:d3_noop};return n}function d3_geo_resample(t){function resample(t){return(r?resampleRecursive:resampleNone)(t)}function resampleNone(e){return d3_geo_transformPoint(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function resampleRecursive(e){function point(n,r){n=t(n,r),e.point(n[0],n[1])}function lineStart(){d=NaN,_.point=linePoint,e.lineStart()}function linePoint(n,i){
var a=d3_geo_cartesian([n,i]),o=t(n,i);resampleLineTo(d,h,u,f,p,g,d=o[0],h=o[1],u=n,f=a[0],p=a[1],g=a[2],r,e),e.point(d,h)}function lineEnd(){_.point=point,e.lineEnd()}function ringStart(){lineStart(),_.point=ringPoint,_.lineEnd=ringEnd}function ringPoint(t,e){linePoint(n=t,i=e),a=d,o=h,s=f,l=p,c=g,_.point=linePoint}function ringEnd(){resampleLineTo(d,h,u,f,p,g,a,o,n,s,l,c,r,e),_.lineEnd=lineEnd,lineEnd()}var n,i,a,o,s,l,c,u,d,h,f,p,g,_={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){e.polygonStart(),_.lineStart=ringStart},polygonEnd:function(){e.polygonEnd(),_.lineStart=lineStart}};return _}function resampleLineTo(r,i,a,o,s,l,c,u,d,h,f,p,g,_){var v=c-r,y=u-i,b=v*v+y*y;if(b>4*e&&g--){var x=o+h,w=s+f,k=l+p,M=Math.sqrt(x*x+w*w+k*k),S=Math.asin(k/=M),C=m(m(k)-1)<P||m(a-d)<P?(a+d)/2:Math.atan2(w,x),E=t(C,S),T=E[0],R=E[1],N=T-r,A=R-i,z=y*N-v*A;(z*z/b>e||m((v*N+y*A)/b-.5)>.3||o*h+s*f+l*p<n)&&(resampleLineTo(r,i,a,o,s,l,T,R,C,x/=M,w/=M,k,g,_),_.point(T,R),resampleLineTo(T,R,C,x,w,k,c,u,d,h,f,p,g,_))}}var e=.5,n=Math.cos(30*q),r=16;return resample.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,resample):Math.sqrt(e)},resample}function d3_geo_pathProjectStream(t){var e=d3_geo_resample(function(e,n){return t([e*j,n*j])});return function(t){return d3_geo_projectionRadians(e(t))}}function d3_geo_transform(t){this.stream=t}function d3_geo_transformPoint(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function d3_geo_projection(t){return d3_geo_projectionMutator(function(){return t})()}function d3_geo_projectionMutator(t){function projection(t){return t=r(t[0]*q,t[1]*q),[t[0]*c+i,o-t[1]*c]}function invert(t){return t=r.invert((t[0]-i)/c,(o-t[1])/c),t&&[t[0]*j,t[1]*j]}function reset(){r=d3_geo_compose(n=d3_geo_rotation(p,g,_),e);var t=e(h,f);return i=u-t[0]*c,o=d+t[1]*c,invalidate()}function invalidate(){return s&&(s.valid=!1,s=null),projection}var e,n,r,i,o,s,l=d3_geo_resample(function(t,n){return t=e(t,n),[t[0]*c+i,o-t[1]*c]}),c=150,u=480,d=250,h=0,f=0,p=0,g=0,_=0,m=Ft,v=d3_identity,y=null,b=null;return projection.stream=function(t){return s&&(s.valid=!1),s=d3_geo_projectionRadians(m(n,l(v(t)))),s.valid=!0,s},projection.clipAngle=function(t){return arguments.length?(m=null==t?(y=t,Ft):d3_geo_clipCircle((y=+t)*q),invalidate()):y},projection.clipExtent=function(t){return arguments.length?(b=t,v=t?d3_geo_clipExtent(t[0][0],t[0][1],t[1][0],t[1][1]):d3_identity,invalidate()):b},projection.scale=function(t){return arguments.length?(c=+t,reset()):c},projection.translate=function(t){return arguments.length?(u=+t[0],d=+t[1],reset()):[u,d]},projection.center=function(t){return arguments.length?(h=t[0]%360*q,f=t[1]%360*q,reset()):[h*j,f*j]},projection.rotate=function(t){return arguments.length?(p=t[0]%360*q,g=t[1]%360*q,_=t.length>2?t[2]%360*q:0,reset()):[p*j,g*j,_*j]},a.rebind(projection,l,"precision"),function(){return e=t.apply(this,arguments),projection.invert=e.invert&&invert,reset()}}function d3_geo_projectionRadians(t){return d3_geo_transformPoint(t,function(e,n){t.point(e*q,n*q)})}function d3_geo_equirectangular(t,e){return[t,e]}function d3_geo_identityRotation(t,e){return[t>F?t-I:t<-F?t+I:t,e]}function d3_geo_rotation(t,e,n){return t?e||n?d3_geo_compose(d3_geo_rotationλ(t),d3_geo_rotationφγ(e,n)):d3_geo_rotationλ(t):e||n?d3_geo_rotationφγ(e,n):d3_geo_identityRotation}function d3_geo_forwardRotationλ(t){return function(e,n){return e+=t,[e>F?e-I:e<-F?e+I:e,n]}}function d3_geo_rotationλ(t){var e=d3_geo_forwardRotationλ(t);return e.invert=d3_geo_forwardRotationλ(-t),e}function d3_geo_rotationφγ(t,e){function rotation(t,e){var o=Math.cos(e),s=Math.cos(t)*o,l=Math.sin(t)*o,c=Math.sin(e),u=c*n+s*r;return[Math.atan2(l*i-u*a,s*n-c*r),d3_asin(u*i+l*a)]}var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),a=Math.sin(e);return rotation.invert=function(t,e){var o=Math.cos(e),s=Math.cos(t)*o,l=Math.sin(t)*o,c=Math.sin(e),u=c*i-l*a;return[Math.atan2(l*i+c*a,s*n+u*r),d3_asin(u*n-s*r)]},rotation}function d3_geo_circleInterpolate(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,o,s){var l=o*e;null!=i?(i=d3_geo_circleAngle(n,i),a=d3_geo_circleAngle(n,a),(o>0?i<a:i>a)&&(i+=o*I)):(i=t+o*I,a=t-.5*l);for(var c,u=i;o>0?u>a:u<a;u-=l)s.point((c=d3_geo_spherical([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function d3_geo_circleAngle(t,e){var n=d3_geo_cartesian(e);n[0]-=t,d3_geo_cartesianNormalize(n);var r=d3_acos(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-P)%(2*Math.PI)}function d3_geo_graticuleX(t,e,n){var r=a.range(t,e-P,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function d3_geo_graticuleY(t,e,n){var r=a.range(t,e-P,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function d3_source(t){return t.source}function d3_target(t){return t.target}function d3_geo_interpolate(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),c=i*Math.sin(t),u=o*Math.cos(n),d=o*Math.sin(n),h=2*Math.asin(Math.sqrt(d3_haversin(r-e)+i*o*d3_haversin(n-t))),f=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*f,n=Math.sin(h-t)*f,r=n*l+e*u,i=n*c+e*d,o=n*a+e*s;return[Math.atan2(i,r)*j,Math.atan2(o,Math.sqrt(r*r+i*i))*j]}:function(){return[t*j,e*j]};return p.distance=h,p}function d3_geo_lengthLineStart(){function nextPoint(r,i){var a=Math.sin(i*=q),o=Math.cos(i),s=m((r*=q)-t),l=Math.cos(s);Wt+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-e*o*l)*s),e*a+n*o*l),t=r,e=a,n=o}var t,e,n;Xt.point=function(r,i){t=r*q,e=Math.sin(i*=q),n=Math.cos(i),Xt.point=nextPoint},Xt.lineEnd=function(){Xt.point=Xt.lineEnd=d3_noop}}function d3_geo_azimuthal(t,e){function azimuthal(e,n){var r=Math.cos(e),i=Math.cos(n),a=t(r*i);return[a*i*Math.sin(e),a*Math.sin(n)]}return azimuthal.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*a,r*o),Math.asin(r&&n*a/r)]},azimuthal}function d3_geo_conicConformal(t,e){function forward(t,e){a>0?e<-B+P&&(e=-B+P):e>B-P&&(e=B-P);var n=a/Math.pow(r(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var n=Math.cos(t),r=function(t){return Math.tan(F/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),i)/i;return i?(forward.invert=function(t,e){var n=a-e,r=d3_sgn(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-B]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(t,e){function forward(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;return m(r)<P?d3_geo_equirectangular:(forward.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-d3_sgn(r)*Math.sqrt(t*t+n*n)]},forward)}function d3_geo_mercator(t,e){return[t,Math.log(Math.tan(F/4+e/2))]}function d3_geo_mercatorProjection(t){var e,n=d3_geo_projection(t),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=F*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function d3_geo_transverseMercator(t,e){return[Math.log(Math.tan(F/4+e/2)),-t]}function d3_geom_pointX(t){return t[0]}function d3_geom_pointY(t){return t[1]}function d3_geom_hullUpper(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&d3_cross2d(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function d3_geom_hullOrder(t,e){return t[0]-e[0]||t[1]-e[1]}function d3_geom_polygonInside(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function d3_geom_polygonIntersect(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,l=t[1],c=n[1],u=e[1]-l,d=r[1]-c,h=(s*(l-c)-d*(i-a))/(d*o-s*u);return[i+h*o,l+h*u]}function d3_geom_polygonClosed(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(t){var e=oe.pop()||new d3_geom_voronoiBeach;return e.site=t,e}function d3_geom_voronoiDetachBeach(t){d3_geom_voronoiDetachCircle(t),re.remove(t),oe.push(t),d3_geom_voronoiRedBlackNode(t)}function d3_geom_voronoiRemoveBeach(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];d3_geom_voronoiDetachBeach(t);for(var l=a;l.circle&&m(n-l.circle.x)<P&&m(r-l.circle.cy)<P;)a=l.P,s.unshift(l),d3_geom_voronoiDetachBeach(l),l=a;s.unshift(l),d3_geom_voronoiDetachCircle(l);for(var c=o;c.circle&&m(n-c.circle.x)<P&&m(r-c.circle.cy)<P;)o=c.N,s.push(c),d3_geom_voronoiDetachBeach(c),c=o;s.push(c),d3_geom_voronoiDetachCircle(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],d3_geom_voronoiSetEdgeEnd(c.edge,l.site,c.site,i);l=s[0],c=s[d-1],c.edge=d3_geom_voronoiCreateEdge(l.site,c.site,null,i),d3_geom_voronoiAttachCircle(l),d3_geom_voronoiAttachCircle(c)}function d3_geom_voronoiAddBeach(t){for(var e,n,r,i,a=t.x,o=t.y,s=re._;s;)if(r=d3_geom_voronoiLeftBreakPoint(s,o)-a,r>P)s=s.L;else{if(i=a-d3_geom_voronoiRightBreakPoint(s,o),!(i>P)){r>-P?(e=s.P,n=s):i>-P?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=d3_geom_voronoiCreateBeach(t);if(re.insert(e,l),e||n){if(e===n)return d3_geom_voronoiDetachCircle(e),n=d3_geom_voronoiCreateBeach(e.site),re.insert(l,n),l.edge=n.edge=d3_geom_voronoiCreateEdge(e.site,l.site),d3_geom_voronoiAttachCircle(e),void d3_geom_voronoiAttachCircle(n);if(!n)return void(l.edge=d3_geom_voronoiCreateEdge(e.site,l.site));d3_geom_voronoiDetachCircle(e),d3_geom_voronoiDetachCircle(n);var c=e.site,u=c.x,d=c.y,h=t.x-u,f=t.y-d,p=n.site,g=p.x-u,_=p.y-d,m=2*(h*_-f*g),v=h*h+f*f,y=g*g+_*_,b={x:(_*v-f*y)/m+u,y:(h*y-g*v)/m+d};d3_geom_voronoiSetEdgeEnd(n.edge,c,p,b),l.edge=d3_geom_voronoiCreateEdge(c,t,null,b),n.edge=d3_geom_voronoiCreateEdge(t,p,null,b),d3_geom_voronoiAttachCircle(e),d3_geom_voronoiAttachCircle(n)}}function d3_geom_voronoiLeftBreakPoint(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-(1/0);n=o.site;var s=n.x,l=n.y,c=l-e;if(!c)return s;var u=s-r,d=1/a-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+i-a/2)))/d+r:(r+s)/2}function d3_geom_voronoiRightBreakPoint(t,e){var n=t.N;if(n)return d3_geom_voronoiLeftBreakPoint(n,e);var r=t.site;return r.y===e?r.x:1/0}function d3_geom_voronoiCell(t){this.site=t,this.edges=[]}function d3_geom_voronoiCloseCells(t){for(var e,n,r,i,a,o,s,l,c,u,d=t[0][0],h=t[1][0],f=t[0][1],p=t[1][1],g=ne,_=g.length;_--;)if(a=g[_],a&&a.prepare())for(s=a.edges,l=s.length,o=0;o<l;)u=s[o].end(),r=u.x,i=u.y,c=s[++o%l].start(),e=c.x,n=c.y,(m(r-e)>P||m(i-n)>P)&&(s.splice(o,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(a.site,u,m(r-d)<P&&p-i>P?{x:d,y:m(e-d)<P?n:p}:m(i-p)<P&&h-r>P?{x:m(n-p)<P?e:h,y:p}:m(r-h)<P&&i-f>P?{x:h,y:m(e-h)<P?n:f}:m(i-f)<P&&r-d>P?{x:m(n-f)<P?e:d,y:f}:null),a.site,null)),++l)}function d3_geom_voronoiHalfEdgeOrder(t,e){return e.angle-t.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,c=r.y-s,u=a.x-o,d=a.y-s,h=2*(l*d-c*u);if(!(h>=-D)){var f=l*l+c*c,p=u*u+d*d,g=(d*f-c*p)/h,_=(l*p-u*f)/h,d=_+s,m=se.pop()||new d3_geom_voronoiCircle;m.arc=t,m.site=i,m.x=g+o,m.y=d+Math.sqrt(g*g+_*_),m.cy=d,t.circle=m;for(var v=null,y=ae._;y;)if(m.y<y.y||m.y===y.y&&m.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}ae.insert(v,m),v||(ie=m)}}}}function d3_geom_voronoiDetachCircle(t){var e=t.circle;e&&(e.P||(ie=e.N),ae.remove(e),se.push(e),d3_geom_voronoiRedBlackNode(e),t.circle=null)}function d3_geom_voronoiClipEdges(t){for(var e,n=ee,r=d3_geom_clipLine(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!d3_geom_voronoiConnectEdge(e,t)||!r(e)||m(e.a.x-e.b.x)<P&&m(e.a.y-e.b.y)<P)&&(e.a=e.b=null,n.splice(i,1))}function d3_geom_voronoiConnectEdge(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,d=t.r,h=u.x,f=u.y,p=d.x,g=d.y,_=(h+p)/2,m=(f+g)/2;if(g===f){if(_<o||_>=s)return;if(h>p){if(a){if(a.y>=c)return}else a={x:_,y:l};n={x:_,y:c}}else{if(a){if(a.y<l)return}else a={x:_,y:c};n={x:_,y:l}}}else if(r=(h-p)/(g-f),i=m-r*_,r<-1||r>1)if(h>p){if(a){if(a.y>=c)return}else a={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(a){if(a.y<l)return}else a={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(f<g){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return t.a=a,t.b=n,!0}function d3_geom_voronoiEdge(t,e){this.l=t,this.r=e,this.a=this.b=null}function d3_geom_voronoiCreateEdge(t,e,n,r){var i=new d3_geom_voronoiEdge(t,e);return ee.push(i),n&&d3_geom_voronoiSetEdgeEnd(i,t,e,n),r&&d3_geom_voronoiSetEdgeEnd(i,e,t,r),ne[t.i].edges.push(new d3_geom_voronoiHalfEdge(i,t,e)),ne[e.i].edges.push(new d3_geom_voronoiHalfEdge(i,e,t)),i}function d3_geom_voronoiCreateBorderEdge(t,e,n){var r=new d3_geom_voronoiEdge(t,null);return r.a=e,r.b=n,ee.push(r),r}function d3_geom_voronoiSetEdgeEnd(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function d3_geom_voronoiHalfEdge(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function d3_geom_voronoiRedBlackRotateLeft(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function d3_geom_voronoiRedBlackRotateRight(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function d3_geom_voronoiRedBlackFirst(t){for(;t.L;)t=t.L;return t}function d3_geom_voronoi(t,e){var n,r,i,a=t.sort(d3_geom_voronoiVertexOrder).pop();for(ee=[],ne=new Array(t.length),re=new d3_geom_voronoiRedBlackTree,ae=new d3_geom_voronoiRedBlackTree;;)if(i=ie,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(ne[a.i]=new d3_geom_voronoiCell(a),d3_geom_voronoiAddBeach(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;d3_geom_voronoiRemoveBeach(i.arc)}e&&(d3_geom_voronoiClipEdges(e),d3_geom_voronoiCloseCells(e));var o={cells:ne,edges:ee};return re=ae=ee=ne=null,o}function d3_geom_voronoiVertexOrder(t,e){return e.y-t.y||e.x-t.x}function d3_geom_voronoiTriangleArea(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function d3_geom_quadtreeCompatX(t){return t.x}function d3_geom_quadtreeCompatY(t){return t.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=e.nodes;l[0]&&d3_geom_quadtreeVisit(t,l[0],n,r,o,s),l[1]&&d3_geom_quadtreeVisit(t,l[1],o,r,i,s),l[2]&&d3_geom_quadtreeVisit(t,l[2],n,s,o,a),l[3]&&d3_geom_quadtreeVisit(t,l[3],o,s,i,a)}}function d3_geom_quadtreeFind(t,e,n,r,i,a,o){var s,l=1/0;return function find(t,c,u,d,h){if(!(c>a||u>o||d<r||h<i)){if(f=t.point){var f,p=e-t.x,g=n-t.y,_=p*p+g*g;if(_<l){var m=Math.sqrt(l=_);r=e-m,i=n-m,a=e+m,o=n+m,s=f}}for(var v=t.nodes,y=.5*(c+d),b=.5*(u+h),x=e>=y,w=n>=b,k=w<<1|x,M=k+4;k<M;++k)if(t=v[3&k])switch(3&k){case 0:find(t,c,u,y,b);break;case 1:find(t,y,u,d,b);break;case 2:find(t,c,b,y,h);break;case 3:find(t,y,b,d,h)}}}(t,r,i,a,o),s}function d3_interpolateRgb(t,e){t=a.rgb(t),e=a.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,s=e.g-r,l=e.b-i;return function(t){return"#"+d3_rgb_hex(Math.round(n+o*t))+d3_rgb_hex(Math.round(r+s*t))+d3_rgb_hex(Math.round(i+l*t))}}function d3_interpolateObject(t,e){var n,r={},i={};for(n in t)n in e?r[n]=d3_interpolate(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function d3_interpolateNumber(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function d3_interpolateString(t,e){var n,r,i,a=ce.lastIndex=ue.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=ce.exec(t))&&(r=ue.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:d3_interpolateNumber(n,r)})),a=ue.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function d3_interpolate(t,e){for(var n,r=a.interpolators.length;--r>=0&&!(n=a.interpolators[r](t,e)););return n}function d3_interpolateArray(t,e){var n,r=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(d3_interpolate(t[n],e[n]));for(;n<a;++n)i[n]=t[n];for(;n<o;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function d3_ease_clamp(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function d3_ease_reverse(t){return function(e){return 1-t(1-e)}}function d3_ease_reflect(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function d3_ease_quad(t){return t*t}function d3_ease_cubic(t){return t*t*t}function d3_ease_cubicInOut(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function d3_ease_poly(t){return function(e){return Math.pow(e,t)}}function d3_ease_sin(t){return 1-Math.cos(t*B)}function d3_ease_exp(t){return Math.pow(2,10*(t-1))}function d3_ease_circle(t){return 1-Math.sqrt(1-t*t)}function d3_ease_elastic(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/I*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*I/e)}}function d3_ease_back(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function d3_ease_bounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function d3_interpolateHcl(t,e){t=a.hcl(t),e=a.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,s=e.c-r,l=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return d3_hcl_lab(n+o*t,r+s*t,i+l*t)+""}}function d3_interpolateHsl(t,e){t=a.hsl(t),e=a.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,s=e.s-r,l=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return d3_hsl_rgb(n+o*t,r+s*t,i+l*t)+""}}function d3_interpolateLab(t,e){t=a.lab(t),e=a.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,s=e.a-r,l=e.b-i;return function(t){return d3_lab_rgb(n+o*t,r+s*t,i+l*t)+""}}function d3_interpolateRound(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function d3_transform(t){var e=[t.a,t.b],n=[t.c,t.d],r=d3_transformNormalize(e),i=d3_transformDot(e,n),a=d3_transformNormalize(d3_transformCombine(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*j,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*j:0}function d3_transformDot(t,e){return t[0]*e[0]+t[1]*e[1]}function d3_transformNormalize(t){var e=Math.sqrt(d3_transformDot(t,t));return e&&(t[0]/=e,t[1]/=e),e}function d3_transformCombine(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function d3_interpolateTransformPop(t){return t.length?t.pop()+",":""}function d3_interpolateTranslate(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:d3_interpolateNumber(t[0],e[0])},{i:i-2,x:d3_interpolateNumber(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function d3_interpolateRotate(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(d3_interpolateTransformPop(n)+"rotate(",null,")")-2,x:d3_interpolateNumber(t,e)})):e&&n.push(d3_interpolateTransformPop(n)+"rotate("+e+")")}function d3_interpolateSkew(t,e,n,r){t!==e?r.push({i:n.push(d3_interpolateTransformPop(n)+"skewX(",null,")")-2,x:d3_interpolateNumber(t,e)}):e&&n.push(d3_interpolateTransformPop(n)+"skewX("+e+")")}function d3_interpolateScale(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(d3_interpolateTransformPop(n)+"scale(",null,",",null,")");r.push({i:i-4,x:d3_interpolateNumber(t[0],e[0])},{i:i-2,x:d3_interpolateNumber(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(d3_interpolateTransformPop(n)+"scale("+e+")")}function d3_interpolateTransform(t,e){var n=[],r=[];return t=a.transform(t),e=a.transform(e),d3_interpolateTranslate(t.translate,e.translate,n,r),d3_interpolateRotate(t.rotate,e.rotate,n,r),d3_interpolateSkew(t.skew,e.skew,n,r),d3_interpolateScale(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,a=r.length;++i<a;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function d3_uninterpolateNumber(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function d3_uninterpolateClamp(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function d3_layout_bundlePath(t){for(var e=t.source,n=t.target,r=d3_layout_bundleLeastCommonAncestor(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function d3_layout_bundleAncestors(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function d3_layout_bundleLeastCommonAncestor(t,e){if(t===e)return t;for(var n=d3_layout_bundleAncestors(t),r=d3_layout_bundleAncestors(e),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function d3_layout_forceDragstart(t){t.fixed|=2}function d3_layout_forceDragend(t){t.fixed&=-7}function d3_layout_forceMouseover(t){t.fixed|=4,t.px=t.x,t.py=t.y}function d3_layout_forceMouseout(t){t.fixed&=-5}function d3_layout_forceAccumulate(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)a=o[l],null!=a&&(d3_layout_forceAccumulate(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function d3_layout_hierarchyRebind(t,e){return a.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=d3_layout_hierarchyLinks,t}function d3_layout_hierarchyVisitBefore(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function d3_layout_hierarchyVisitAfter(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(t=r.pop());)e(t)}function d3_layout_hierarchyChildren(t){return t.children}function d3_layout_hierarchyValue(t){return t.value}function d3_layout_hierarchySort(t,e){return e.value-t.value}function d3_layout_hierarchyLinks(t){return a.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function d3_layout_stackX(t){return t.x}function d3_layout_stackY(t){return t.y}function d3_layout_stackOut(t,e,n){t.y0=e,t.y=n}function d3_layout_stackOrderDefault(t){return a.range(t.length)}function d3_layout_stackOffsetZero(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function d3_layout_stackMaxIndex(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function d3_layout_stackReduceSum(t){return t.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(t,e){return t+e[1]}function d3_layout_histogramBinSturges(t,e){return d3_layout_histogramBinFixed(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function d3_layout_histogramRange(t){return[a.min(t),a.max(t)]}function d3_layout_packSort(t,e){return t.value-e.value}function d3_layout_packInsert(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function d3_layout_packSplice(t,e){t._pack_next=e,e._pack_prev=t}function d3_layout_packIntersects(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function d3_layout_packSiblings(t){function bound(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}if((e=t.children)&&(l=e.length)){var e,n,r,i,a,o,s,l,c=1/0,u=-(1/0),d=1/0,h=-(1/0);if(e.forEach(d3_layout_packLink),n=e[0],n.x=-n.r,n.y=0,bound(n),l>1&&(r=e[1],r.x=r.r,r.y=0,bound(r),l>2))for(i=e[2],d3_layout_packPlace(n,r,i),bound(i),d3_layout_packInsert(n,i),n._pack_prev=i,d3_layout_packInsert(i,r),r=n._pack_next,a=3;a<l;a++){d3_layout_packPlace(n,r,i=e[a]);var f=0,p=1,g=1;for(o=r._pack_next;o!==r;o=o._pack_next,p++)if(d3_layout_packIntersects(o,i)){f=1;break}if(1==f)for(s=n._pack_prev;s!==o._pack_prev&&!d3_layout_packIntersects(s,i);s=s._pack_prev,g++);f?(p<g||p==g&&r.r<n.r?d3_layout_packSplice(n,r=o):d3_layout_packSplice(n=s,r),a--):(d3_layout_packInsert(n,i),r=i,bound(i))}var _=(c+u)/2,m=(d+h)/2,v=0;for(a=0;a<l;a++)i=e[a],i.x-=_,i.y-=m,v=Math.max(v,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=v,e.forEach(d3_layout_packUnlink)}}function d3_layout_packLink(t){t._pack_next=t._pack_prev=t}function d3_layout_packUnlink(t){delete t._pack_next,delete t._pack_prev}function d3_layout_packTransform(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,o=i.length;++a<o;)d3_layout_packTransform(i[a],e,n,r)}function d3_layout_packPlace(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a;o*=o,r*=r;var l=.5+(r-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+l*i+c*a,n.y=t.y+l*a-c*i}else n.x=t.x+r,n.y=t.y}function d3_layout_treeSeparation(t,e){return t.parent==e.parent?1:2}function d3_layout_treeLeft(t){var e=t.children;return e.length?e[0]:t.t}function d3_layout_treeRight(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function d3_layout_treeMove(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function d3_layout_treeShift(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)e=i[a],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function d3_layout_treeAncestor(t,e,n){return t.a.parent===e.parent?t.a:n}function d3_layout_clusterY(t){return 1+a.max(t,function(t){return t.y})}function d3_layout_clusterX(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function d3_layout_clusterLeft(t){var e=t.children;return e&&e.length?d3_layout_clusterLeft(e[0]):t}function d3_layout_clusterRight(t){var e,n=t.children;return n&&(e=n.length)?d3_layout_clusterRight(n[e-1]):t}function d3_layout_treemapPadNull(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function d3_layout_treemapPad(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function d3_scaleExtent(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function d3_scaleRange(t){return t.rangeExtent?t.rangeExtent():d3_scaleExtent(t.range())}function d3_scale_bilinear(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function d3_scale_nice(t,e){var n,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function d3_scale_niceStep(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:xe}function d3_scale_polylinear(t,e,n,r){var i=[],o=[],s=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=l;)i.push(n(t[s-1],t[s])),o.push(r(e[s-1],e[s]));return function(e){var n=a.bisect(t,e,1,l)-1;return o[n](i[n](e))}}function d3_scale_linear(t,e,n,r){function rescale(){var o=Math.min(t.length,e.length)>2?d3_scale_polylinear:d3_scale_bilinear,s=r?d3_uninterpolateClamp:d3_uninterpolateNumber;return i=o(t,e,s,n),a=o(e,t,s,d3_interpolate),scale}function scale(t){return i(t)}var i,a;return scale.invert=function(t){return a(t)},scale.domain=function(e){return arguments.length?(t=e.map(Number),rescale()):t},scale.range=function(t){return arguments.length?(e=t,rescale()):e},scale.rangeRound=function(t){return scale.range(t).interpolate(d3_interpolateRound)},scale.clamp=function(t){return arguments.length?(r=t,rescale()):r},scale.interpolate=function(t){return arguments.length?(n=t,rescale()):n},scale.ticks=function(e){return d3_scale_linearTicks(t,e)},scale.tickFormat=function(e,n){return d3_scale_linearTickFormat(t,e,n)},scale.nice=function(e){return d3_scale_linearNice(t,e),rescale()},scale.copy=function(){return d3_scale_linear(t,e,n,r)},rescale()}function d3_scale_linearRebind(t,e){return a.rebind(t,e,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(t,e){return d3_scale_nice(t,d3_scale_niceStep(d3_scale_linearTickRange(t,e)[2])),d3_scale_nice(t,d3_scale_niceStep(d3_scale_linearTickRange(t,e)[2])),t}function d3_scale_linearTickRange(t,e){null==e&&(e=10);var n=d3_scaleExtent(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function d3_scale_linearTicks(t,e){return a.range.apply(a,d3_scale_linearTickRange(t,e))}function d3_scale_linearTickFormat(t,e,n){var r=d3_scale_linearTickRange(t,e);if(n){var i=ct.exec(n);if(i.shift(),"s"===i[8]){var o=a.formatPrefix(Math.max(m(r[0]),m(r[1])));return i[7]||(i[7]="."+d3_scale_linearPrecision(o.scale(r[2]))),i[8]="f",n=a.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+d3_scale_linearFormatPrecision(i[8],r)),n=i.join("")}else n=",."+d3_scale_linearPrecision(r[2])+"f";return a.format(n)}function d3_scale_linearPrecision(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(t,e){var n=d3_scale_linearPrecision(e[2]);return t in we?Math.abs(n-d3_scale_linearPrecision(Math.max(m(e[0]),m(e[1]))))+ +("e"!==t):n-2*("%"===t)}function d3_scale_log(t,e,n,r){function log(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function pow(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function scale(e){return t(log(e))}return scale.invert=function(e){return pow(t.invert(e))},scale.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(log)),scale):r},scale.base=function(n){return arguments.length?(e=+n,t.domain(r.map(log)),scale):e},scale.nice=function(){var e=d3_scale_nice(r.map(log),n?Math:Me);return t.domain(e),r=e.map(pow),scale},scale.ticks=function(){var t=d3_scaleExtent(r),i=[],a=t[0],o=t[1],s=Math.floor(log(a)),l=Math.ceil(log(o)),c=e%1?2:e;if(isFinite(l-s)){if(n){for(;s<l;s++)for(var u=1;u<c;u++)i.push(pow(s)*u);i.push(pow(s))}else for(i.push(pow(s));s++<l;)for(var u=c-1;u>0;u--)i.push(pow(s)*u);for(s=0;i[s]<a;s++);for(l=i.length;i[l-1]>o;l--);i=i.slice(s,l)}return i},scale.tickFormat=function(t,n){if(!arguments.length)return ke;arguments.length<2?n=ke:"function"!=typeof n&&(n=a.format(n));var r=Math.max(1,e*t/scale.ticks().length);return function(t){var i=t/pow(Math.round(log(t)));return i*e<e-.5&&(i*=e),i<=r?n(t):""}},scale.copy=function(){return d3_scale_log(t.copy(),e,n,r)},d3_scale_linearRebind(scale,t)}function d3_scale_pow(t,e,n){function scale(e){return t(r(e))}var r=d3_scale_powPow(e),i=d3_scale_powPow(1/e);return scale.invert=function(e){return i(t.invert(e))},scale.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),scale):n},scale.ticks=function(t){return d3_scale_linearTicks(n,t)},scale.tickFormat=function(t,e){return d3_scale_linearTickFormat(n,t,e)},scale.nice=function(t){return scale.domain(d3_scale_linearNice(n,t))},scale.exponent=function(a){return arguments.length?(r=d3_scale_powPow(e=a),i=d3_scale_powPow(1/e),t.domain(n.map(r)),scale):e},scale.copy=function(){return d3_scale_pow(t.copy(),e,n)},d3_scale_linearRebind(scale,t)}function d3_scale_powPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function d3_scale_ordinal(t,e){function scale(i){return r[((n.get(i)||("range"===e.t?n.set(i,t.push(i)):NaN))-1)%r.length]}function steps(e,n){return a.range(t.length).map(function(t){return e+n*t})}var n,r,i;return scale.domain=function(r){if(!arguments.length)return t;t=[],n=new d3_Map;for(var i,a=-1,o=r.length;++a<o;)n.has(i=r[a])||n.set(i,t.push(i));
return scale[e.t].apply(scale,e.a)},scale.range=function(t){return arguments.length?(r=t,i=0,e={t:"range",a:arguments},scale):r},scale.rangePoints=function(n,a){arguments.length<2&&(a=0);var o=n[0],s=n[1],l=t.length<2?(o=(o+s)/2,0):(s-o)/(t.length-1+a);return r=steps(o+l*a/2,l),i=0,e={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(n,a){arguments.length<2&&(a=0);var o=n[0],s=n[1],l=t.length<2?(o=s=Math.round((o+s)/2),0):(s-o)/(t.length-1+a)|0;return r=steps(o+Math.round(l*a/2+(s-o-(t.length-1+a)*l)/2),l),i=0,e={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(n,a,o){arguments.length<2&&(a=0),arguments.length<3&&(o=a);var s=n[1]<n[0],l=n[s-0],c=n[1-s],u=(c-l)/(t.length-a+2*o);return r=steps(l+u*o,u),s&&r.reverse(),i=u*(1-a),e={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(n,a,o){arguments.length<2&&(a=0),arguments.length<3&&(o=a);var s=n[1]<n[0],l=n[s-0],c=n[1-s],u=Math.floor((c-l)/(t.length-a+2*o));return r=steps(l+Math.round((c-l-(t.length-a)*u)/2),u),s&&r.reverse(),i=Math.round(u*(1-a)),e={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return i},scale.rangeExtent=function(){return d3_scaleExtent(e.a[0])},scale.copy=function(){return d3_scale_ordinal(t,e)},scale.domain(t)}function d3_scale_quantile(t,e){function rescale(){var r=0,i=e.length;for(n=[];++r<i;)n[r-1]=a.quantile(t,r/i);return scale}function scale(t){if(!isNaN(t=+t))return e[a.bisect(n,t)]}var n;return scale.domain=function(e){return arguments.length?(t=e.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):t},scale.range=function(t){return arguments.length?(e=t,rescale()):e},scale.quantiles=function(){return n},scale.invertExtent=function(r){return r=e.indexOf(r),r<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]},scale.copy=function(){return d3_scale_quantile(t,e)},rescale()}function d3_scale_quantize(t,e,n){function scale(e){return n[Math.max(0,Math.min(i,Math.floor(r*(e-t))))]}function rescale(){return r=n.length/(e-t),i=n.length-1,scale}var r,i;return scale.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],rescale()):[t,e]},scale.range=function(t){return arguments.length?(n=t,rescale()):n},scale.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/r+t,[e,e+1/r]},scale.copy=function(){return d3_scale_quantize(t,e,n)},rescale()}function d3_scale_threshold(t,e){function scale(n){if(n<=n)return e[a.bisect(t,n)]}return scale.domain=function(e){return arguments.length?(t=e,scale):t},scale.range=function(t){return arguments.length?(e=t,scale):e},scale.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},scale.copy=function(){return d3_scale_threshold(t,e)},scale}function d3_scale_identity(t){function identity(t){return+t}return identity.invert=identity,identity.domain=identity.range=function(e){return arguments.length?(t=e.map(identity),identity):t},identity.ticks=function(e){return d3_scale_linearTicks(t,e)},identity.tickFormat=function(e,n){return d3_scale_linearTickFormat(t,e,n)},identity.copy=function(){return d3_scale_identity(t)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(t){return t.innerRadius}function d3_svg_arcOuterRadius(t){return t.outerRadius}function d3_svg_arcStartAngle(t){return t.startAngle}function d3_svg_arcEndAngle(t){return t.endAngle}function d3_svg_arcPadAngle(t){return t&&t.padAngle}function d3_svg_arcSweep(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function d3_svg_arcCornerTangents(t,e,n,r,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,c=-s*a,u=t[0]+l,d=t[1]+c,h=e[0]+l,f=e[1]+c,p=(u+h)/2,g=(d+f)/2,_=h-u,m=f-d,v=_*_+m*m,y=n-r,b=u*f-h*d,x=(m<0?-1:1)*Math.sqrt(Math.max(0,y*y*v-b*b)),w=(b*m-_*x)/v,k=(-b*_-m*x)/v,M=(b*m+_*x)/v,S=(-b*_+m*x)/v,C=w-p,E=k-g,T=M-p,R=S-g;return C*C+E*E>T*T+R*R&&(w=M,k=S),[[w-l,k-c],[w*n/y,k*n/y]]}function d3_svg_line(t){function line(a){function segment(){l.push("M",i(t(c),o))}for(var s,l=[],c=[],u=-1,d=a.length,h=d3_functor(e),f=d3_functor(n);++u<d;)r.call(this,s=a[u],u)?c.push([+h.call(this,s,u),+f.call(this,s,u)]):c.length&&(segment(),c=[]);return c.length&&segment(),l.length?l.join(""):null}var e=d3_geom_pointX,n=d3_geom_pointY,r=d3_true,i=d3_svg_lineLinear,a=i.key,o=.7;return line.x=function(t){return arguments.length?(e=t,line):e},line.y=function(t){return arguments.length?(n=t,line):n},line.defined=function(t){return arguments.length?(r=t,line):r},line.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=Ne.get(t)||d3_svg_lineLinear).key,line):a},line.tension=function(t){return arguments.length?(o=t,line):o},line}function d3_svg_lineLinear(t){return t.length>1?t.join("L"):t+"Z"}function d3_svg_lineLinearClosed(t){return t.join("L")+"Z"}function d3_svg_lineStep(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function d3_svg_lineStepBefore(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function d3_svg_lineStepAfter(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function d3_svg_lineCardinalOpen(t,e){return t.length<4?d3_svg_lineLinear(t):t[1]+d3_svg_lineHermite(t.slice(1,-1),d3_svg_lineCardinalTangents(t,e))}function d3_svg_lineCardinalClosed(t,e){return t.length<3?d3_svg_lineLinearClosed(t):t[0]+d3_svg_lineHermite((t.push(t[0]),t),d3_svg_lineCardinalTangents([t[t.length-2]].concat(t,[t[1]]),e))}function d3_svg_lineCardinal(t,e){return t.length<3?d3_svg_lineLinear(t):t[0]+d3_svg_lineHermite(t,d3_svg_lineCardinalTangents(t,e))}function d3_svg_lineHermite(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return d3_svg_lineLinear(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,l++)a=t[l],s=e[c],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=t[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function d3_svg_lineCardinalTangents(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function d3_svg_lineBasis(t){if(t.length<3)return d3_svg_lineLinear(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",d3_svg_lineDot4(Le,o),",",d3_svg_lineDot4(Le,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),d3_svg_lineBasisBezier(l,o,s);return t.pop(),l.push("L",r),l.join("")}function d3_svg_lineBasisOpen(t){if(t.length<4)return d3_svg_lineLinear(t);for(var e,n=[],r=-1,i=t.length,a=[0],o=[0];++r<3;)e=t[r],a.push(e[0]),o.push(e[1]);for(n.push(d3_svg_lineDot4(Le,a)+","+d3_svg_lineDot4(Le,o)),--r;++r<i;)e=t[r],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),d3_svg_lineBasisBezier(n,a,o);return n.join("")}function d3_svg_lineBasisClosed(t){for(var e,n,r=-1,i=t.length,a=i+4,o=[],s=[];++r<4;)n=t[r%i],o.push(n[0]),s.push(n[1]);for(e=[d3_svg_lineDot4(Le,o),",",d3_svg_lineDot4(Le,s)],--r;++r<a;)n=t[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),d3_svg_lineBasisBezier(e,o,s);return e.join("")}function d3_svg_lineBundle(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,c=-1;++c<=n;)r=t[c],i=c/n,r[0]=e*r[0]+(1-e)*(a+i*s),r[1]=e*r[1]+(1-e)*(o+i*l);return d3_svg_lineBasis(t)}function d3_svg_lineDot4(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function d3_svg_lineBasisBezier(t,e,n){t.push("C",d3_svg_lineDot4(Ae,e),",",d3_svg_lineDot4(Ae,n),",",d3_svg_lineDot4(ze,e),",",d3_svg_lineDot4(ze,n),",",d3_svg_lineDot4(Le,e),",",d3_svg_lineDot4(Le,n))}function d3_svg_lineSlope(t,e){return(e[1]-t[1])/(e[0]-t[0])}function d3_svg_lineFiniteDifferences(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=d3_svg_lineSlope(i,a);++e<n;)r[e]=(o+(o=d3_svg_lineSlope(i=a,a=t[e+1])))/2;return r[e]=o,r}function d3_svg_lineMonotoneTangents(t){for(var e,n,r,i,a=[],o=d3_svg_lineFiniteDifferences(t),s=-1,l=t.length-1;++s<l;)e=d3_svg_lineSlope(t[s],t[s+1]),m(e)<P?o[s]=o[s+1]=0:(n=o[s]/e,r=o[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r));for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function d3_svg_lineMonotone(t){return t.length<3?d3_svg_lineLinear(t):t[0]+d3_svg_lineHermite(t,d3_svg_lineMonotoneTangents(t))}function d3_svg_lineRadial(t){for(var e,n,r,i=-1,a=t.length;++i<a;)e=t[i],n=e[0],r=e[1]-B,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function d3_svg_area(t){function area(s){function segment(){p.push("M",o(t(_),u),c,l(t(g.reverse()),u),"Z")}for(var d,h,f,p=[],g=[],_=[],m=-1,v=s.length,y=d3_functor(e),b=d3_functor(r),x=e===n?function(){return h}:d3_functor(n),w=r===i?function(){return f}:d3_functor(i);++m<v;)a.call(this,d=s[m],m)?(g.push([h=+y.call(this,d,m),f=+b.call(this,d,m)]),_.push([+x.call(this,d,m),+w.call(this,d,m)])):g.length&&(segment(),g=[],_=[]);return g.length&&segment(),p.length?p.join(""):null}var e=d3_geom_pointX,n=d3_geom_pointX,r=0,i=d3_geom_pointY,a=d3_true,o=d3_svg_lineLinear,s=o.key,l=o,c="L",u=.7;return area.x=function(t){return arguments.length?(e=n=t,area):n},area.x0=function(t){return arguments.length?(e=t,area):e},area.x1=function(t){return arguments.length?(n=t,area):n},area.y=function(t){return arguments.length?(r=i=t,area):i},area.y0=function(t){return arguments.length?(r=t,area):r},area.y1=function(t){return arguments.length?(i=t,area):i},area.defined=function(t){return arguments.length?(a=t,area):a},area.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Ne.get(t)||d3_svg_lineLinear).key,l=o.reverse||o,c=o.closed?"M":"L",area):s},area.tension=function(t){return arguments.length?(u=t,area):u},area}function d3_svg_chordRadius(t){return t.radius}function d3_svg_diagonalProjection(t){return[t.x,t.y]}function d3_svg_diagonalRadialProjection(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-B;return[n*Math.cos(r),n*Math.sin(r)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(t){var e=Math.sqrt(t/F);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function d3_selection_interruptNS(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function d3_transition(t,e,n){return w(t,qe),t.namespace=e,t.id=n,t}function d3_transition_tween(t,e,n,r){var i=t.id,a=t.namespace;return d3_selection_each(t,"function"==typeof n?function(t,o,s){t[a][i].tween.set(e,r(n.call(t,t.__data__,o,s)))}:(n=r(n),function(t){t[a][i].tween.set(e,n)}))}function d3_transition_text(t){return null==t&&(t=""),function(){this.textContent=t}}function d3_transitionNamespace(t){return null==t?"__transition__":"__transition_"+t+"__"}function d3_transitionNode(t,e,n,r,i){function schedule(t){var e=d.delay;return o.t=e+a,e<=t?start(t-e):void(o.c=start)}function start(n){var i=u.active,h=u[i];h&&(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[i],h.event&&h.event.interrupt.call(t,t.__data__,h.index));for(var f in u)if(+f<r){var p=u[f];p.timer.c=null,p.timer.t=NaN,--u.count,delete u[f]}o.c=tick,d3_timer(function(){return o.c&&tick(n||1)&&(o.c=null,o.t=NaN),1},0,a),u.active=r,d.event&&d.event.start.call(t,t.__data__,e),c=[],d.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&c.push(r)}),l=d.ease,s=d.duration}function tick(i){for(var a=i/s,o=l(a),h=c.length;h>0;)c[--h].call(t,o);if(a>=1)return d.event&&d.event.end.call(t,t.__data__,e),--u.count?delete u[r]:delete t[n],1}var a,o,s,l,c,u=t[n]||(t[n]={active:0,count:0}),d=u[r];d||(a=i.time,o=d3_timer(schedule,0,a),d=u[r]={tween:new d3_Map,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++u.count)}function d3_svg_axisX(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function d3_svg_axisY(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function d3_time_formatIsoNative(t){return t.toISOString()}function d3_time_scale(t,e,n){function scale(e){return t(e)}function tickMethod(t,n){var r=t[1]-t[0],i=r/n,o=a.bisect($e,i);return o==$e.length?[e.year,d3_scale_linearTickRange(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/$e[o-1]<$e[o]/i?o-1:o]:[Ke,d3_scale_linearTickRange(t,n)[2]]}return scale.invert=function(e){return d3_time_scaleDate(t.invert(e))},scale.domain=function(e){return arguments.length?(t.domain(e),scale):t.domain().map(d3_time_scaleDate)},scale.nice=function(t,e){function skipped(n){return!isNaN(n)&&!t.range(n,d3_time_scaleDate(+n+1),e).length}var n=scale.domain(),r=d3_scaleExtent(n),i=null==t?tickMethod(r,10):"number"==typeof t&&tickMethod(r,t);return i&&(t=i[0],e=i[1]),scale.domain(d3_scale_nice(n,e>1?{floor:function(e){for(;skipped(e=t.floor(e));)e=d3_time_scaleDate(e-1);return e},ceil:function(e){for(;skipped(e=t.ceil(e));)e=d3_time_scaleDate(+e+1);return e}}:t))},scale.ticks=function(t,e){var n=d3_scaleExtent(scale.domain()),r=null==t?tickMethod(n,10):"number"==typeof t?tickMethod(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],d3_time_scaleDate(+n[1]+1),e<1?1:e)},scale.tickFormat=function(){return n},scale.copy=function(){return d3_time_scale(t.copy(),e,n)},d3_scale_linearRebind(scale,t)}function d3_time_scaleDate(t){return new Date(t)}function d3_json(t){return JSON.parse(t.responseText)}function d3_html(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}var a={version:"3.5.17"},o=[].slice,s=function(t){return o.call(t)},l=this.document;if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(c){s=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(u){var d=this.Element.prototype,h=d.setAttribute,f=d.setAttributeNS,p=this.CSSStyleDeclaration.prototype,g=p.setProperty;d.setAttribute=function(t,e){h.call(this,t,e+"")},d.setAttributeNS=function(t,e,n){f.call(this,t,e,n+"")},p.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}a.ascending=d3_ascending,a.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},a.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},a.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},a.extent=function(t,e){var n,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},a.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)d3_numeric(n=+t[a])&&(r+=n);else for(;++a<i;)d3_numeric(n=+e.call(t,t[a],a))&&(r+=n);return r},a.mean=function(t,e){var n,r=0,i=t.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)d3_numeric(n=d3_number(t[a]))?r+=n:--o;else for(;++a<i;)d3_numeric(n=d3_number(e.call(t,t[a],a)))?r+=n:--o;if(o)return r/o},a.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},a.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)d3_numeric(n=d3_number(t[o]))&&r.push(n);else for(;++o<i;)d3_numeric(n=d3_number(e.call(t,t[o],o)))&&r.push(n);if(r.length)return a.quantile(r.sort(d3_ascending),.5)},a.variance=function(t,e){var n,r,i=t.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)d3_numeric(n=d3_number(t[s]))&&(r=n-a,a+=r/++l,o+=r*(n-a));else for(;++s<i;)d3_numeric(n=d3_number(e.call(t,t[s],s)))&&(r=n-a,a+=r/++l,o+=r*(n-a));if(l>1)return o/(l-1)},a.deviation=function(){var t=a.variance.apply(this,arguments);return t?Math.sqrt(t):t};var _=d3_bisector(d3_ascending);a.bisectLeft=_.left,a.bisect=a.bisectRight=_.right,a.bisector=function(t){return d3_bisector(1===t.length?function(e,n){return d3_ascending(t(e),n)}:t)},a.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var r,i,a=n-e;a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},a.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},a.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=[e=i,i=t[++n]];return a},a.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=a.min(t,d3_transposeLength),r=new Array(n);++e<n;)for(var i,o=-1,s=r[e]=new Array(i);++o<i;)s[o]=t[o][e];return r},a.zip=function(){return a.transpose(arguments)},a.keys=function(t){var e=[];for(var n in t)e.push(n);return e},a.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},a.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},a.merge=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--o]=r[e];return n};var m=Math.abs;a.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],a=d3_range_integerScale(m(n)),o=-1;if(t*=a,e*=a,n*=a,n<0)for(;(r=t+n*++o)>e;)i.push(r/a);else for(;(r=t+n*++o)<e;)i.push(r/a);return i},a.map=function(t,e){var n=new d3_Map;if(t instanceof d3_Map)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(1===arguments.length)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e.call(t,r=t[i],i),r)}else for(var o in t)n.set(o,t[o]);return n};var v="__proto__",y="\0";d3_class(d3_Map,{has:d3_map_has,get:function(t){return this._[d3_map_escape(t)]},set:function(t,e){return this._[d3_map_escape(t)]=e},remove:d3_map_remove,keys:d3_map_keys,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:d3_map_unescape(e),value:this._[e]});return t},size:d3_map_size,empty:d3_map_empty,forEach:function(t){for(var e in this._)t.call(this,d3_map_unescape(e),this._[e])}}),a.nest=function(){function map(i,a,o){if(o>=r.length)return e?e.call(n,a):t?a.sort(t):a;for(var s,l,c,u,d=-1,h=a.length,f=r[o++],p=new d3_Map;++d<h;)(u=p.get(s=f(l=a[d])))?u.push(l):p.set(s,[l]);return i?(l=i(),c=function(t,e){l.set(t,map(i,e,o))}):(l={},c=function(t,e){l[t]=map(i,e,o)}),p.forEach(c),l}function entries(t,e){if(e>=r.length)return t;var n=[],a=i[e++];return t.forEach(function(t,r){n.push({key:t,values:entries(r,e)})}),a?n.sort(function(t,e){return a(t.key,e.key)}):n}var t,e,n={},r=[],i=[];return n.map=function(t,e){return map(e,t,0)},n.entries=function(t){return entries(map(a.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},a.set=function(t){var e=new d3_Set;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},d3_class(d3_Set,{has:d3_map_has,add:function(t){return this._[d3_map_escape(t+="")]=!0,t},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(t){for(var e in this._)t.call(this,d3_map_unescape(e))}}),a.behavior={},a.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=d3_rebind(t,e,e[n]);return t};var b=["webkit","ms","moz","Moz","o","O"];a.dispatch=function(){for(var t=new d3_dispatch,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=d3_dispatch_event(t);return t},d3_dispatch.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},a.event=null,a.requote=function(t){return t.replace(x,"\\$&")};var x=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,w={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},k=function(t,e){return e.querySelector(t)},M=function(t,e){return e.querySelectorAll(t)},S=function(t,e){var n=t.matches||t[d3_vendorSymbol(t,"matchesSelector")];return(S=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(k=function(t,e){return Sizzle(t,e)[0]||null},M=Sizzle,S=Sizzle.matchesSelector),a.selection=function(){return a.select(l.documentElement)};var C=a.selection.prototype=[];C.select=function(t){var e,n,r,i,a=[];t=d3_selection_selector(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return d3_selection(a)},C.selectAll=function(t){var e,n,r=[];t=d3_selection_selectorAll(t);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],l=-1,c=o.length;++l<c;)(n=o[l])&&(r.push(e=s(t.call(n,n.__data__,l,i))),e.parentNode=n);return d3_selection(r)};var E="http://www.w3.org/1999/xhtml",T={svg:"http://www.w3.org/2000/svg",xhtml:E,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:T,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),T.hasOwnProperty(n)?{space:T[n],local:t}:t}},C.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=a.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(d3_selection_attr(e,t[e]));return this}return this.each(d3_selection_attr(t,e))},C.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=d3_selection_classes(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!d3_selection_classedRe(t[i]).test(e))return!1;return!0}for(e in t)this.each(d3_selection_classed(e,t[e]));return this}return this.each(d3_selection_classed(t,e))},C.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.each(d3_selection_style(n,t[n],e));return this}if(r<2){var i=this.node();return d3_window(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(d3_selection_style(t,e,n))},C.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(d3_selection_property(e,t[e]));return this}return this.each(d3_selection_property(t,e))},C.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},C.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},C.append=function(t){return t=d3_selection_creator(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},C.insert=function(t,e){return t=d3_selection_creator(t),e=d3_selection_selector(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},C.remove=function(){return this.each(d3_selectionRemove)},C.data=function(t,e){function bind(t,n){var r,i,a,c=t.length,u=n.length,d=Math.min(c,u),h=new Array(u),f=new Array(u),p=new Array(c);if(e){var g,_=new d3_Map,m=new Array(c);for(r=-1;++r<c;)(i=t[r])&&(_.has(g=e.call(i,i.__data__,r))?p[r]=i:_.set(g,i),m[r]=g);for(r=-1;++r<u;)(i=_.get(g=e.call(n,a=n[r],r)))?i!==!0&&(h[r]=i,i.__data__=a):f[r]=d3_selection_dataNode(a),_.set(g,!0);for(r=-1;++r<c;)r in m&&_.get(m[r])!==!0&&(p[r]=t[r])}else{for(r=-1;++r<d;)i=t[r],a=n[r],i?(i.__data__=a,h[r]=i):f[r]=d3_selection_dataNode(a);for(;r<u;++r)f[r]=d3_selection_dataNode(n[r]);for(;r<c;++r)p[r]=t[r]}f.update=h,f.parentNode=h.parentNode=p.parentNode=t.parentNode,o.push(f),s.push(h),l.push(p)}var n,r,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(t[i]=r.__data__);return t}var o=d3_selection_enter([]),s=d3_selection([]),l=d3_selection([]);if("function"==typeof t)for(;++i<a;)bind(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<a;)bind(n=this[i],t);return s.enter=function(){return o},s.exit=function(){return l},s},C.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},C.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=d3_selection_filter(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return d3_selection(i)},C.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},C.sort=function(t){t=d3_selection_sortComparator.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},C.each=function(t){return d3_selection_each(this,function(e,n,r){t.call(e,e.__data__,n,r)})},C.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},C.empty=function(){return!this.node()},C.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},C.size=function(){var t=0;return d3_selection_each(this,function(){++t}),t};var R=[];a.selection.enter=d3_selection_enter,a.selection.enter.prototype=R,R.append=C.append,R.empty=C.empty,R.node=C.node,R.call=C.call,R.size=C.size,R.select=function(t){for(var e,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(a=i[c])?(e.push(r[c]=n=t.call(i.parentNode,a.__data__,c,s)),n.__data__=a.__data__):e.push(null)}return d3_selection(o)},R.insert=function(t,e){return arguments.length<2&&(e=d3_selection_enterInsertBefore(this)),C.insert.call(this,t,e)},a.select=function(t){var e;return"string"==typeof t?(e=[k(t,l)],e.parentNode=l.documentElement):(e=[t],e.parentNode=d3_documentElement(t)),d3_selection([e])},a.selectAll=function(t){var e;return"string"==typeof t?(e=s(M(t,l)),e.parentNode=l.documentElement):(e=s(t),e.parentNode=null),d3_selection([e])},C.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(d3_selection_on(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(d3_selection_on(t,e,n))};var N=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});l&&N.forEach(function(t){"on"+t in l&&N.remove(t)});var A,z=0;a.mouse=function(t){return d3_mousePoint(t,d3_eventSource())};var L=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;a.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=d3_eventSource().changedTouches),e)for(var r,i=0,a=e.length;i<a;++i)if((r=e[i]).identifier===n)return d3_mousePoint(t,r)},a.behavior.drag=function(){function drag(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function dragstart(n,r,i,o,s){return function(){function moved(){var t,e,n=r(d,p);n&&(t=n[0]-v[0],e=n[1]-v[1],f|=t|e,v=n,h({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e}))}function ended(){r(d,p)&&(_.on(o+g,null).on(s+g,null),m(f),h({type:"dragend"}))}var l,c=this,u=a.event.target.correspondingElement||a.event.target,d=c.parentNode,h=t.of(c,arguments),f=0,p=n(),g=".drag"+(null==p?"":"-"+p),_=a.select(i(u)).on(o+g,moved).on(s+g,ended),m=d3_event_dragSuppress(u),v=r(d,p);e?(l=e.apply(c,arguments),l=[l.x-v[0],l.y-v[1]]):l=[0,0],h({type:"dragstart"})}}var t=d3_eventDispatch(drag,"drag","dragstart","dragend"),e=null,n=dragstart(d3_noop,a.mouse,d3_window,"mousemove","mouseup"),r=dragstart(d3_behavior_dragTouchId,a.touch,d3_identity,"touchmove","touchend");return drag.origin=function(t){return arguments.length?(e=t,drag):e},a.rebind(drag,t,"on")},a.touches=function(t,e){return arguments.length<2&&(e=d3_eventSource().touches),e?s(e).map(function(e){var n=d3_mousePoint(t,e);return n.identifier=e.identifier,n}):[]};var P=1e-6,D=P*P,F=Math.PI,I=2*F,O=I-P,B=F/2,q=F/180,j=180/F,H=Math.SQRT2,U=2,G=4;a.interpolateZoom=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=s-i,d=l-a,h=u*u+d*d;if(h<D)r=Math.log(c/o)/H,n=function(t){return[i+t*u,a+t*d,o*Math.exp(H*t*r)]};else{var f=Math.sqrt(h),p=(c*c-o*o+G*h)/(2*o*U*f),g=(c*c-o*o-G*h)/(2*c*U*f),_=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-_)/H,n=function(t){var e=t*r,n=d3_cosh(_),s=o/(U*f)*(n*d3_tanh(H*e+_)-d3_sinh(_));return[i+s*u,a+s*d,o*n/d3_cosh(H*e+_)]}}return n.duration=1e3*r,n},a.behavior.zoom=function(){function zoom(t){t.on(_,mousedowned).on(V+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(y,touchstarted)}function location(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function point(t){return[t[0]*d.k+d.x,t[1]*d.k+d.y]}function scaleTo(t){d.k=Math.max(f[0],Math.min(f[1],t))}function translateTo(t,e){e=point(e),d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function zoomTo(t,n,r,i){t.__chart__={x:d.x,y:d.y,k:d.k},scaleTo(Math.pow(2,i)),translateTo(e=n,r),t=a.select(t),p>0&&(t=t.transition().duration(p)),t.call(zoom.event)}function rescale(){s&&s.domain(o.range().map(function(t){return(t-d.x)/d.k}).map(o.invert)),u&&u.domain(c.range().map(function(t){return(t-d.y)/d.k}).map(c.invert))}function zoomstarted(t){g++||t({type:"zoomstart"})}function zoomed(t){rescale(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function zoomended(t){--g||(t({type:"zoomend"}),e=null)}function mousedowned(){function moved(){n=1,translateTo(a.mouse(t),i),zoomed(e)}function ended(){r.on(m,null).on(v,null),o(n),zoomended(e)}var t=this,e=b.of(t,arguments),n=0,r=a.select(d3_window(t)).on(m,moved).on(v,ended),i=location(a.mouse(t)),o=d3_event_dragSuppress(t);Be.call(t),zoomstarted(e)}function touchstarted(){function relocate(){var n=a.touches(e);return t=d.k,n.forEach(function(t){t.identifier in r&&(r[t.identifier]=location(t))}),n}function started(){var t=a.event.target;a.select(t).on(l,moved).on(c,ended),u.push(t);for(var n=a.event.changedTouches,s=0,h=n.length;s<h;++s)r[n[s].identifier]=null;var f=relocate(),p=Date.now();if(1===f.length){if(p-i<500){var g=f[0];zoomTo(e,g,r[g.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),d3_eventPreventDefault()}i=p}else if(f.length>1){var g=f[0],_=f[1],m=g[0]-_[0],v=g[1]-_[1];o=m*m+v*v}}function moved(){var s,l,c,u,d=a.touches(e);Be.call(e);for(var h=0,f=d.length;h<f;++h,u=null)if(c=d[h],u=r[c.identifier]){if(l)break;s=c,l=u}if(u){var p=(p=c[0]-s[0])*p+(p=c[1]-s[1])*p,g=o&&Math.sqrt(p/o);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],scaleTo(g*t)}i=null,translateTo(s,l),zoomed(n)}function ended(){if(a.event.touches.length){for(var t=a.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var o in r)return void relocate()}a.selectAll(u).on(s,null),h.on(_,mousedowned).on(y,touchstarted),f(),zoomended(n)}var t,e=this,n=b.of(e,arguments),r={},o=0,s=".zoom-"+a.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,u=[],h=a.select(e),f=d3_event_dragSuppress(e);started(),zoomstarted(n),h.on(_,null).on(y,started)}function mousewheeled(){var i=b.of(this,arguments);r?clearTimeout(r):(Be.call(this),t=location(e=n||a.mouse(this)),zoomstarted(i)),r=setTimeout(function(){r=null,zoomended(i);
},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*Y())*d.k),translateTo(e,t),zoomed(i)}function dblclicked(){var t=a.mouse(this),e=Math.log(d.k)/Math.LN2;zoomTo(this,t,location(t),a.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var t,e,n,r,i,o,s,c,u,d={x:0,y:0,k:1},h=[960,500],f=W,p=250,g=0,_="mousedown.zoom",m="mousemove.zoom",v="mouseup.zoom",y="touchstart.zoom",b=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");return V||(V="onwheel"in l?(Y=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(Y=function(){return a.event.wheelDelta},"mousewheel"):(Y=function(){return-a.event.detail},"MozMousePixelScroll")),zoom.event=function(t){t.each(function(){var t=b.of(this,arguments),n=d;Ie?a.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},zoomstarted(t)}).tween("zoom:zoom",function(){var r=h[0],i=h[1],o=e?e[0]:r/2,s=e?e[1]:i/2,l=a.interpolateZoom([(o-d.x)/d.k,(s-d.y)/d.k,r/d.k],[(o-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(e){var n=l(e),i=r/n[2];this.__chart__=d={x:o-n[0]*i,y:s-n[1]*i,k:i},zoomed(t)}}).each("interrupt.zoom",function(){zoomended(t)}).each("end.zoom",function(){zoomended(t)}):(this.__chart__=d,zoomstarted(t),zoomed(t),zoomended(t))})},zoom.translate=function(t){return arguments.length?(d={x:+t[0],y:+t[1],k:d.k},rescale(),zoom):[d.x,d.y]},zoom.scale=function(t){return arguments.length?(d={x:d.x,y:d.y,k:null},scaleTo(+t),rescale(),zoom):d.k},zoom.scaleExtent=function(t){return arguments.length?(f=null==t?W:[+t[0],+t[1]],zoom):f},zoom.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],zoom):n},zoom.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],zoom):h},zoom.duration=function(t){return arguments.length?(p=+t,zoom):p},zoom.x=function(t){return arguments.length?(s=t,o=t.copy(),d={x:0,y:0,k:1},zoom):s},zoom.y=function(t){return arguments.length?(u=t,c=t.copy(),d={x:0,y:0,k:1},zoom):u},a.rebind(zoom,b,"on")};var Y,V,W=[0,1/0];a.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},a.hsl=d3_hsl;var X=d3_hsl.prototype=new d3_color;X.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new d3_hsl(this.h,this.s,this.l/t)},X.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new d3_hsl(this.h,this.s,t*this.l)},X.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},a.hcl=d3_hcl;var $=d3_hcl.prototype=new d3_color;$.brighter=function(t){return new d3_hcl(this.h,this.c,Math.min(100,this.l+Z*(arguments.length?t:1)))},$.darker=function(t){return new d3_hcl(this.h,this.c,Math.max(0,this.l-Z*(arguments.length?t:1)))},$.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},a.lab=d3_lab;var Z=18,J=.95047,K=1,Q=1.08883,tt=d3_lab.prototype=new d3_color;tt.brighter=function(t){return new d3_lab(Math.min(100,this.l+Z*(arguments.length?t:1)),this.a,this.b)},tt.darker=function(t){return new d3_lab(Math.max(0,this.l-Z*(arguments.length?t:1)),this.a,this.b)},tt.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},a.rgb=d3_rgb;var et=d3_rgb.prototype=new d3_color;et.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new d3_rgb(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new d3_rgb(i,i,i)},et.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new d3_rgb(t*this.r,t*this.g,t*this.b)},et.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},et.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var nt=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});nt.forEach(function(t,e){nt.set(t,d3_rgbNumber(e))}),a.functor=d3_functor,a.xhr=d3_xhrType(d3_identity),a.dsv=function(t,e){function dsv(t,n,r){arguments.length<3&&(r=n,n=null);var i=d3_xhr(t,e,null==n?response:typedResponse(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?response:typedResponse(t)):n},i}function response(t){return dsv.parse(t.responseText)}function typedResponse(t){return function(e){return dsv.parse(e.responseText,t)}}function formatRow(e){return e.map(formatValue).join(t)}function formatValue(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);return dsv.parse=function(t,e){var n;return dsv.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i})},dsv.parseRows=function(t,e){function token(){if(c>=l)return o;if(i)return i=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var s=t.charCodeAt(n+1);return 13===s?(i=!0,10===t.charCodeAt(n+2)&&++c):10===s&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var s=t.charCodeAt(c++),u=1;if(10===s)i=!0;else if(13===s)i=!0,10===t.charCodeAt(c)&&(++c,++u);else if(s!==r)continue;return t.slice(e,c-u)}return t.slice(e)}for(var n,i,a={},o={},s=[],l=t.length,c=0,u=0;(n=token())!==o;){for(var d=[];n!==a&&n!==o;)d.push(n),n=token();e&&null==(d=e(d,u++))||s.push(d)}return s},dsv.format=function(e){if(Array.isArray(e[0]))return dsv.formatRows(e);var n=new d3_Set,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(formatValue).join(t)].concat(e.map(function(e){return r.map(function(t){return formatValue(e[t])}).join(t)})).join("\n")},dsv.formatRows=function(t){return t.map(formatRow).join("\n")},dsv},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var rt,it,at,ot,st=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};a.timer=function(){d3_timer.apply(this,arguments)},a.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},a.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var lt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);a.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=a.round(t,d3_format_precision(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),lt[8+n/3]};var ct=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ut=a.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=a.round(t,d3_format_precision(t,e))).toFixed(Math.max(0,Math.min(20,d3_format_precision(t*(1+1e-15),e))))}}),dt=a.time={},ht=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ft.setUTCDate.apply(this._,arguments)},setDay:function(){ft.setUTCDay.apply(this._,arguments)},setFullYear:function(){ft.setUTCFullYear.apply(this._,arguments)},setHours:function(){ft.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ft.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ft.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ft.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ft.setUTCSeconds.apply(this._,arguments)},setTime:function(){ft.setTime.apply(this._,arguments)}};var ft=Date.prototype;dt.year=d3_time_interval(function(t){return t=dt.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),dt.years=dt.year.range,dt.years.utc=dt.year.utc.range,dt.day=d3_time_interval(function(t){var e=new ht(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),dt.days=dt.day.range,dt.days.utc=dt.day.utc.range,dt.dayOfYear=function(t){var e=dt.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=dt[t]=d3_time_interval(function(t){return(t=dt.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=dt.year(t).getDay();return Math.floor((dt.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});dt[t+"s"]=n.range,dt[t+"s"].utc=n.utc.range,dt[t+"OfYear"]=function(t){var n=dt.year(t).getDay();return Math.floor((dt.dayOfYear(t)+(n+e)%7)/7)}}),dt.week=dt.sunday,dt.weeks=dt.sunday.range,dt.weeks.utc=dt.sunday.utc.range,dt.weekOfYear=dt.sundayOfYear;var pt={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,_t=/^%/;a.locale=function(t){return{numberFormat:d3_locale_numberFormat(t),timeFormat:d3_locale_timeFormat(t)}};var mt=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});a.format=mt.numberFormat,a.geo={},d3_adder.prototype={s:0,t:0,add:function(t){d3_adderSum(t,this.t,vt),d3_adderSum(vt.s,this.s,this),this.s?this.t+=vt.t:this.s=vt.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var vt=new d3_adder;a.geo.stream=function(t,e){t&&yt.hasOwnProperty(t.type)?yt[t.type](t,e):d3_geo_streamGeometry(t,e)};var yt={Feature:function(t,e){d3_geo_streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)d3_geo_streamGeometry(n[r].geometry,e)}},bt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){d3_geo_streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)d3_geo_streamLine(n[r],e,0)},Polygon:function(t,e){d3_geo_streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)d3_geo_streamPolygon(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)d3_geo_streamGeometry(n[r],e)}};a.geo.area=function(t){return xt=0,a.geo.stream(t,kt),xt};var xt,wt=new d3_adder,kt={sphere:function(){xt+=4*F},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){wt.reset(),kt.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var t=2*wt;xt+=t<0?4*F+t:t,kt.lineStart=kt.lineEnd=kt.point=d3_noop}};a.geo.bounds=function(){function point(i,a){u.push(d=[t=i,n=i]),a<e&&(e=a),a>r&&(r=a)}function linePoint(a,o){var s=d3_geo_cartesian([a*q,o*q]);if(l){var c=d3_geo_cartesianCross(l,s),u=[c[1],-c[0],0],d=d3_geo_cartesianCross(u,c);d3_geo_cartesianNormalize(d),d=d3_geo_spherical(d);var h=a-i,f=h>0?1:-1,p=d[0]*j*f,g=m(h)>180;if(g^(f*i<p&&p<f*a)){var _=d[1]*j;_>r&&(r=_)}else if(p=(p+360)%360-180,g^(f*i<p&&p<f*a)){var _=-d[1]*j;_<e&&(e=_)}else o<e&&(e=o),o>r&&(r=o);g?a<i?angle(t,a)>angle(t,n)&&(n=a):angle(a,n)>angle(t,n)&&(t=a):n>=t?(a<t&&(t=a),a>n&&(n=a)):a>i?angle(t,a)>angle(t,n)&&(n=a):angle(a,n)>angle(t,n)&&(t=a)}else point(a,o);l=s,i=a}function lineStart(){h.point=linePoint}function lineEnd(){d[0]=t,d[1]=n,h.point=point,l=null}function ringPoint(t,e){if(l){var n=t-i;c+=m(n)>180?n+(n>0?360:-360):n}else o=t,s=e;kt.point(t,e),linePoint(t,e)}function ringStart(){kt.lineStart()}function ringEnd(){ringPoint(o,s),kt.lineEnd(),m(c)>P&&(t=-(n=180)),d[0]=t,d[1]=n,l=null}function angle(t,e){return(e-=t)<0?e+360:e}function compareRanges(t,e){return t[0]-e[0]}function withinRange(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var t,e,n,r,i,o,s,l,c,u,d,h={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){h.point=ringPoint,h.lineStart=ringStart,h.lineEnd=ringEnd,c=0,kt.polygonStart()},polygonEnd:function(){kt.polygonEnd(),h.point=point,h.lineStart=lineStart,h.lineEnd=lineEnd,wt<0?(t=-(n=180),e=-(r=90)):c>P?r=90:c<-P&&(e=-90),d[0]=t,d[1]=n}};return function(i){r=n=-(t=e=1/0),u=[],a.geo.stream(i,h);var o=u.length;if(o){u.sort(compareRanges);for(var s,l=1,c=u[0],f=[c];l<o;++l)s=u[l],withinRange(s[0],c)||withinRange(s[1],c)?(angle(c[0],s[1])>angle(c[0],c[1])&&(c[1]=s[1]),angle(s[0],c[1])>angle(c[0],c[1])&&(c[0]=s[0])):f.push(c=s);for(var p,s,g=-(1/0),o=f.length-1,l=0,c=f[o];l<=o;c=s,++l)s=f[l],(p=angle(c[1],s[0]))>g&&(g=p,t=s[0],n=c[1])}return u=d=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),a.geo.centroid=function(t){Mt=St=Ct=Et=Tt=Rt=Nt=At=zt=Lt=Pt=0,a.geo.stream(t,Dt);var e=zt,n=Lt,r=Pt,i=e*e+n*n+r*r;return i<D&&(e=Rt,n=Nt,r=At,St<P&&(e=Ct,n=Et,r=Tt),i=e*e+n*n+r*r,i<D)?[NaN,NaN]:[Math.atan2(n,e)*j,d3_asin(r/Math.sqrt(i))*j]};var Mt,St,Ct,Et,Tt,Rt,Nt,At,zt,Lt,Pt,Dt={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){Dt.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){Dt.lineStart=d3_geo_centroidLineStart}},Ft=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-F,-F/2]),It=1e9;a.geo.clipExtent=function(){var t,e,n,r,i,a,o={stream:function(t){return i&&(i.valid=!1),i=a(t),i.valid=!0,i},extent:function(s){return arguments.length?(a=d3_geo_clipExtent(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){function albersUsa(i){var a=i[0],o=i[1];return t=null,e(a,o),t||(n(a,o),t)||r(a,o),t}var t,e,n,r,i=a.geo.albers(),o=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return albersUsa.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,a=(t[1]-n[1])/e;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?o:a>=.166&&a<.234&&r>=-.214&&r<-.115?s:i).invert(t)},albersUsa.stream=function(t){var e=i.stream(t),n=o.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},albersUsa.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),s.precision(t),albersUsa):i.precision()},albersUsa.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),s.scale(t),albersUsa.translate(i.translate())):i.scale()},albersUsa.translate=function(t){if(!arguments.length)return i.translate();var a=i.scale(),c=+t[0],u=+t[1];return e=i.translate(t).clipExtent([[c-.455*a,u-.238*a],[c+.455*a,u+.238*a]]).stream(l).point,n=o.translate([c-.307*a,u+.201*a]).clipExtent([[c-.425*a+P,u+.12*a+P],[c-.214*a-P,u+.234*a-P]]).stream(l).point,r=s.translate([c-.205*a,u+.212*a]).clipExtent([[c-.214*a+P,u+.166*a+P],[c-.115*a-P,u+.234*a-P]]).stream(l).point,albersUsa},albersUsa.scale(1070)};var Ot,Bt,qt,jt,Ht,Ut,Gt={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Bt=0,Gt.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){Gt.lineStart=Gt.lineEnd=Gt.point=d3_noop,Ot+=m(Bt/2)}},Yt={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},Vt={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){Vt.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){Vt.point=d3_geo_pathCentroidPoint,Vt.lineStart=d3_geo_pathCentroidLineStart,Vt.lineEnd=d3_geo_pathCentroidLineEnd}};a.geo.path=function(){function path(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),i&&i.valid||(i=n(r)),a.geo.stream(t,i)),r.result()}function reset(){return i=null,path}var t,e,n,r,i,o=4.5;return path.area=function(t){return Ot=0,a.geo.stream(t,n(Gt)),Ot},path.centroid=function(t){return Ct=Et=Tt=Rt=Nt=At=zt=Lt=Pt=0,a.geo.stream(t,n(Vt)),Pt?[zt/Pt,Lt/Pt]:At?[Rt/At,Nt/At]:Tt?[Ct/Tt,Et/Tt]:[NaN,NaN]},path.bounds=function(t){return Ht=Ut=-(qt=jt=1/0),a.geo.stream(t,n(Yt)),[[qt,jt],[Ht,Ut]]},path.projection=function(e){return arguments.length?(n=(t=e)?e.stream||d3_geo_pathProjectStream(e):d3_identity,reset()):t},path.context=function(t){return arguments.length?(r=null==(e=t)?new d3_geo_pathBuffer:new d3_geo_pathContext(t),"function"!=typeof o&&r.pointRadius(o),reset()):e},path.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),path):o},path.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(t){return{stream:function(e){var n=new d3_geo_transform(e);for(var r in t)n[r]=t[r];return n}}},d3_geo_transform.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=d3_geo_projection,a.geo.projectionMutator=d3_geo_projectionMutator,(a.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,a.geo.rotation=function(t){function forward(e){return e=t(e[0]*q,e[1]*q),e[0]*=j,e[1]*=j,e}return t=d3_geo_rotation(t[0]%360*q,t[1]*q,t.length>2?t[2]*q:0),forward.invert=function(e){return e=t.invert(e[0]*q,e[1]*q),e[0]*=j,e[1]*=j,e},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,a.geo.circle=function(){function circle(){var t="function"==typeof n?n.apply(this,arguments):n,r=d3_geo_rotation(-t[0]*q,-t[1]*q,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=j,t[1]*=j}}),{type:"Polygon",coordinates:[i]}}var t,e,n=[0,0],r=6;return circle.origin=function(t){return arguments.length?(n=t,circle):n},circle.angle=function(n){return arguments.length?(e=d3_geo_circleInterpolate((t=+n)*q,r*q),circle):t},circle.precision=function(n){return arguments.length?(e=d3_geo_circleInterpolate(t*q,(r=+n)*q),circle):r},circle.angle(90)},a.geo.distance=function(t,e){var n,r=(e[0]-t[0])*q,i=t[1]*q,a=e[1]*q,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),c=Math.cos(i),u=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},a.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return a.range(Math.ceil(r/g)*g,n,g).map(d).concat(a.range(Math.ceil(l/_)*_,s,_).map(h)).concat(a.range(Math.ceil(e/f)*f,t,f).filter(function(t){return m(t%g)>P}).map(c)).concat(a.range(Math.ceil(o/p)*p,i,p).filter(function(t){return m(t%_)>P}).map(u))}var t,e,n,r,i,o,s,l,c,u,d,h,f=10,p=f,g=90,_=360,v=2.5;return graticule.lines=function(){return lines().map(function(t){return{type:"LineString",coordinates:t}})},graticule.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(h(s).slice(1),d(n).reverse().slice(1),h(l).reverse().slice(1))]}},graticule.extent=function(t){return arguments.length?graticule.majorExtent(t).minorExtent(t):graticule.minorExtent()},graticule.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),l>s&&(t=l,l=s,s=t),graticule.precision(v)):[[r,l],[n,s]]},graticule.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),graticule.precision(v)):[[e,o],[t,i]]},graticule.step=function(t){return arguments.length?graticule.majorStep(t).minorStep(t):graticule.minorStep()},graticule.majorStep=function(t){return arguments.length?(g=+t[0],_=+t[1],graticule):[g,_]},graticule.minorStep=function(t){return arguments.length?(f=+t[0],p=+t[1],graticule):[f,p]},graticule.precision=function(a){return arguments.length?(v=+a,c=d3_geo_graticuleX(o,i,90),u=d3_geo_graticuleY(e,t,v),d=d3_geo_graticuleX(l,s,90),h=d3_geo_graticuleY(r,n,v),graticule):v},graticule.majorExtent([[-180,-90+P],[180,90-P]]).minorExtent([[-180,-80-P],[180,80+P]])},a.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}var t,e,n=d3_source,r=d3_target;return greatArc.distance=function(){return a.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},greatArc.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,greatArc):n},greatArc.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,greatArc):r},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},a.geo.interpolate=function(t,e){return d3_geo_interpolate(t[0]*q,t[1]*q,e[0]*q,e[1]*q)},a.geo.length=function(t){return Wt=0,a.geo.stream(t,Xt),Wt};var Wt,Xt={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},$t=d3_geo_azimuthal(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(a.geo.azimuthalEqualArea=function(){return d3_geo_projection($t)}).raw=$t;var Zt=d3_geo_azimuthal(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},d3_identity);(a.geo.azimuthalEquidistant=function(){return d3_geo_projection(Zt)}).raw=Zt,(a.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(a.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var Jt=d3_geo_azimuthal(function(t){return 1/t},Math.atan);(a.geo.gnomonic=function(){return d3_geo_projection(Jt)}).raw=Jt,d3_geo_mercator.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-B]},(a.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var Kt=d3_geo_azimuthal(function(){return 1},Math.asin);(a.geo.orthographic=function(){return d3_geo_projection(Kt)}).raw=Kt;var Qt=d3_geo_azimuthal(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(a.geo.stereographic=function(){return d3_geo_projection(Qt)}).raw=Qt,d3_geo_transverseMercator.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-B]},(a.geo.transverseMercator=function(){var t=d3_geo_mercatorProjection(d3_geo_transverseMercator),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=d3_geo_transverseMercator,a.geom={},a.geom.hull=function(t){function hull(t){if(t.length<3)return[];var r,i=d3_functor(e),a=d3_functor(n),o=t.length,s=[],l=[];for(r=0;r<o;r++)s.push([+i.call(this,t[r],r),+a.call(this,t[r],r),r]);for(s.sort(d3_geom_hullOrder),r=0;r<o;r++)l.push([s[r][0],-s[r][1]]);var c=d3_geom_hullUpper(s),u=d3_geom_hullUpper(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],f=[];for(r=c.length-1;r>=0;--r)f.push(t[s[c[r]][2]]);for(r=+d;r<u.length-h;++r)f.push(t[s[u[r]][2]]);return f}var e=d3_geom_pointX,n=d3_geom_pointY;return arguments.length?hull(t):(hull.x=function(t){return arguments.length?(e=t,hull):e},hull.y=function(t){return arguments.length?(n=t,hull):n},hull)},a.geom.polygon=function(t){return w(t,te),t};var te=a.geom.polygon.prototype=[];te.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},te.centroid=function(t){var e,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},te.clip=function(t){for(var e,n,r,i,a,o,s=d3_geom_polygonClosed(t),l=-1,c=this.length-d3_geom_polygonClosed(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,i=this[l],a=e[(r=e.length-s)-1],n=-1;++n<r;)o=e[n],d3_geom_polygonInside(o,u,i)?(d3_geom_polygonInside(a,u,i)||t.push(d3_geom_polygonIntersect(a,o,u,i)),t.push(o)):d3_geom_polygonInside(a,u,i)&&t.push(d3_geom_polygonIntersect(a,o,u,i)),a=o;s&&t.push(t[0]),u=i}return t};var ee,ne,re,ie,ae,oe=[],se=[];d3_geom_voronoiCell.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(d3_geom_voronoiHalfEdgeOrder),e.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=d3_geom_voronoiRedBlackFirst(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(d3_geom_voronoiRedBlackRotateLeft(this,n),t=n,n=t.U),n.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateRight(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(d3_geom_voronoiRedBlackRotateRight(this,n),t=n,n=t.U),n.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?d3_geom_voronoiRedBlackFirst(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,d3_geom_voronoiRedBlackRotateRight(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateRight(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},a.geom.voronoi=function(t){function voronoi(t){var e=new Array(t.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return d3_geom_voronoi(sites(t),a).cells.forEach(function(a,s){var l=a.edges,c=a.site,u=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=n&&c.x<=i&&c.y>=r&&c.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[];u.point=t[s]}),e}function sites(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/P)*P,y:Math.round(i(t,e)/P)*P,i:e}})}var e=d3_geom_pointX,n=d3_geom_pointY,r=e,i=n,a=le;return t?voronoi(t):(voronoi.links=function(t){return d3_geom_voronoi(sites(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},voronoi.triangles=function(t){var e=[];return d3_geom_voronoi(sites(t)).cells.forEach(function(n,r){for(var i,a,o=n.site,s=n.edges.sort(d3_geom_voronoiHalfEdgeOrder),l=-1,c=s.length,u=s[c-1].edge,d=u.l===o?u.r:u.l;++l<c;)i=u,a=d,u=s[l].edge,d=u.l===o?u.r:u.l,r<a.i&&r<d.i&&d3_geom_voronoiTriangleArea(o,a,d)<0&&e.push([t[r],t[a.i],t[d.i]])}),e},voronoi.x=function(t){return arguments.length?(r=d3_functor(e=t),voronoi):e},voronoi.y=function(t){return arguments.length?(i=d3_functor(n=t),voronoi):n},voronoi.clipExtent=function(t){return arguments.length?(a=null==t?le:t,voronoi):a===le?null:a},voronoi.size=function(t){return arguments.length?voronoi.clipExtent(t&&[[0,0],t]):a===le?null:a&&a[1]},voronoi)};var le=[[-1e6,-1e6],[1e6,1e6]];a.geom.delaunay=function(t){return a.geom.voronoi().triangles(t)},a.geom.quadtree=function(t,e,n,r,i){function quadtree(t){function insert(t,e,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(m(l-n)+m(c-r)<.01)insertChild(t,e,n,r,i,a,o,s);else{var u=t.point;t.x=t.y=t.point=null,insertChild(t,u,l,c,i,a,o,s),insertChild(t,e,n,r,i,a,o,s)}else t.x=n,t.y=r,t.point=e}else insertChild(t,e,n,r,i,a,o,s)}function insertChild(t,e,n,r,i,a,o,s){var l=.5*(i+o),c=.5*(a+s),u=n>=l,d=r>=c,h=d<<1|u;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=d3_geom_quadtreeNode()),u?i=l:o=l,d?a=c:s=c,insert(t,e,n,r,i,a,o,s)}var l,c,u,d,h,f,p,g,_,v=d3_functor(o),y=d3_functor(s);if(null!=e)f=e,p=n,g=r,_=i;else if(g=_=-(f=p=1/0),c=[],u=[],h=t.length,a)for(d=0;d<h;++d)l=t[d],l.x<f&&(f=l.x),l.y<p&&(p=l.y),l.x>g&&(g=l.x),l.y>_&&(_=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<h;++d){var b=+v(l=t[d],d),x=+y(l,d);b<f&&(f=b),
x<p&&(p=x),b>g&&(g=b),x>_&&(_=x),c.push(b),u.push(x)}var w=g-f,k=_-p;w>k?_=p+w:g=f+k;var M=d3_geom_quadtreeNode();if(M.add=function(t){insert(M,t,+v(t,++d),+y(t,d),f,p,g,_)},M.visit=function(t){d3_geom_quadtreeVisit(t,M,f,p,g,_)},M.find=function(t){return d3_geom_quadtreeFind(M,t[0],t[1],f,p,g,_)},d=-1,null==e){for(;++d<h;)insert(M,t[d],c[d],u[d],f,p,g,_);--d}else t.forEach(M.add);return c=u=t=l=null,M}var a,o=d3_geom_pointX,s=d3_geom_pointY;return(a=arguments.length)?(o=d3_geom_quadtreeCompatX,s=d3_geom_quadtreeCompatY,3===a&&(i=n,r=e,n=e=0),quadtree(t)):(quadtree.x=function(t){return arguments.length?(o=t,quadtree):o},quadtree.y=function(t){return arguments.length?(s=t,quadtree):s},quadtree.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),quadtree):null==e?null:[[e,n],[r,i]]},quadtree.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),quadtree):null==e?null:[r-e,i-n]},quadtree)},a.interpolateRgb=d3_interpolateRgb,a.interpolateObject=d3_interpolateObject,a.interpolateNumber=d3_interpolateNumber,a.interpolateString=d3_interpolateString;var ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ue=new RegExp(ce.source,"g");a.interpolate=d3_interpolate,a.interpolators=[function(t,e){var n=typeof e;return("string"===n?nt.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?d3_interpolateRgb:d3_interpolateString:e instanceof d3_color?d3_interpolateRgb:Array.isArray(e)?d3_interpolateArray:"object"===n&&isNaN(e)?d3_interpolateObject:d3_interpolateNumber)(t,e)}],a.interpolateArray=d3_interpolateArray;var de=function(){return d3_identity},he=a.map({linear:de,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),fe=a.map({"in":d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(t){return d3_ease_reflect(d3_ease_reverse(t))}});a.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=he.get(n)||de,r=fe.get(r)||d3_identity,d3_ease_clamp(r(n.apply(null,o.call(arguments,1))))},a.interpolateHcl=d3_interpolateHcl,a.interpolateHsl=d3_interpolateHsl,a.interpolateLab=d3_interpolateLab,a.interpolateRound=d3_interpolateRound,a.transform=function(t){var e=l.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new d3_transform(n?n.matrix:pe)})(t)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pe={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=d3_interpolateTransform,a.layout={},a.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(d3_layout_bundlePath(t[n]));return e}},a.layout.chord=function(){function relayout(){var l,u,d,h,f,p={},g=[],_=a.range(r),m=[];for(t=[],e=[],l=0,h=-1;++h<r;){for(u=0,f=-1;++f<r;)u+=n[h][f];g.push(u),m.push(a.range(r)),l+=u}for(i&&_.sort(function(t,e){return i(g[t],g[e])}),o&&m.forEach(function(t,e){t.sort(function(t,r){return o(n[e][t],n[e][r])})}),l=(I-c*r)/l,u=0,h=-1;++h<r;){for(d=u,f=-1;++f<r;){var v=_[h],y=m[v][f],b=n[v][y],x=u,w=u+=b*l;p[v+"-"+y]={index:v,subindex:y,startAngle:x,endAngle:w,value:b}}e[v]={index:v,startAngle:d,endAngle:u,value:g[v]},u+=c}for(h=-1;++h<r;)for(f=h-1;++f<r;){var k=p[h+"-"+f],M=p[f+"-"+h];(k.value||M.value)&&t.push(k.value<M.value?{source:M,target:k}:{source:k,target:M})}s&&resort()}function resort(){t.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var t,e,n,r,i,o,s,l={},c=0;return l.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,l):n},l.padding=function(n){return arguments.length?(c=n,t=e=null,l):c},l.sortGroups=function(n){return arguments.length?(i=n,t=e=null,l):i},l.sortSubgroups=function(e){return arguments.length?(o=e,t=null,l):o},l.sortChords=function(e){return arguments.length?(s=e,t&&resort(),l):s},l.chords=function(){return t||relayout(),t},l.groups=function(){return e||relayout(),e},l},a.layout.force=function(){function repulse(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-n,l=a*a+o*o;if(s*s/_<l){if(l<p){var c=e.charge/l;t.px-=a*c,t.py-=o*c}return!0}if(e.point&&l&&l<p){var c=e.pointCharge/l;t.px-=a*c,t.py-=o*c}}return!e.charge}}function dragmove(t){t.px=a.event.x,t.py=a.event.y,s.resume()}var t,e,n,r,i,o,s={},l=a.dispatch("start","tick","end"),c=[1,1],u=.9,d=ge,h=_e,f=-30,p=me,g=.1,_=.64,m=[],v=[];return s.tick=function(){if((n*=.99)<.005)return t=null,l.end({type:"end",alpha:n=0}),!0;var e,s,d,h,p,_,y,b,x,w=m.length,k=v.length;for(s=0;s<k;++s)d=v[s],h=d.source,p=d.target,b=p.x-h.x,x=p.y-h.y,(_=b*b+x*x)&&(_=n*i[s]*((_=Math.sqrt(_))-r[s])/_,b*=_,x*=_,p.x-=b*(y=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=x*y,h.x+=b*(y=1-y),h.y+=x*y);if((y=n*g)&&(b=c[0]/2,x=c[1]/2,s=-1,y))for(;++s<w;)d=m[s],d.x+=(b-d.x)*y,d.y+=(x-d.y)*y;if(f)for(d3_layout_forceAccumulate(e=a.geom.quadtree(m),n,o),s=-1;++s<w;)(d=m[s]).fixed||e.visit(repulse(d));for(s=-1;++s<w;)d=m[s],d.fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:n})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(v=t,s):v},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(_=t*t,s):Math.sqrt(_)},s.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:n=0})):e>0&&(l.start({type:"start",alpha:n=e}),t=d3_timer(s.tick)),s):n},s.start=function(){function position(n,r){if(!e){for(e=new Array(a),c=0;c<a;++c)e[c]=[];for(c=0;c<l;++c){var i=v[c];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var o,s=e[t],c=-1,u=s.length;++c<u;)if(!isNaN(o=s[c][n]))return o;return Math.random()*r}var t,e,n,a=m.length,l=v.length,u=c[0],p=c[1];for(t=0;t<a;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<l;++t)n=v[t],"number"==typeof n.source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<a;++t)n=m[t],isNaN(n.x)&&(n.x=position("x",u)),isNaN(n.y)&&(n.y=position("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof d)for(t=0;t<l;++t)r[t]=+d.call(this,v[t],t);else for(t=0;t<l;++t)r[t]=d;if(i=[],"function"==typeof h)for(t=0;t<l;++t)i[t]=+h.call(this,v[t],t);else for(t=0;t<l;++t)i[t]=h;if(o=[],"function"==typeof f)for(t=0;t<a;++t)o[t]=+f.call(this,m[t],t);else for(t=0;t<a;++t)o[t]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return e||(e=a.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),arguments.length?void this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(e):e},a.rebind(s,l,"on")};var ge=20,_e=1,me=1/0;a.layout.hierarchy=function(){function hierarchy(r){var i,a=[r],o=[];for(r.depth=0;null!=(i=a.pop());)if(o.push(i),(l=e.call(hierarchy,i,i.depth))&&(s=l.length)){for(var s,l,c;--s>=0;)a.push(c=l[s]),c.parent=i,c.depth=i.depth+1;n&&(i.value=0),i.children=l}else n&&(i.value=+n.call(hierarchy,i,i.depth)||0),delete i.children;return d3_layout_hierarchyVisitAfter(r,function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)}),o}var t=d3_layout_hierarchySort,e=d3_layout_hierarchyChildren,n=d3_layout_hierarchyValue;return hierarchy.sort=function(e){return arguments.length?(t=e,hierarchy):t},hierarchy.children=function(t){return arguments.length?(e=t,hierarchy):e},hierarchy.value=function(t){return arguments.length?(n=t,hierarchy):n},hierarchy.revalue=function(t){return n&&(d3_layout_hierarchyVisitBefore(t,function(t){t.children&&(t.value=0)}),d3_layout_hierarchyVisitAfter(t,function(t){var e;t.children||(t.value=+n.call(hierarchy,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},hierarchy},a.layout.partition=function(){function position(t,e,n,r){var i=t.children;if(t.x=e,t.y=t.depth*r,t.dx=n,t.dy=r,i&&(a=i.length)){var a,o,s,l=-1;for(n=t.value?n/t.value:0;++l<a;)position(o=i[l],e,s=o.value*n,r),e+=s}}function depth(t){var e=t.children,n=0;if(e&&(r=e.length))for(var r,i=-1;++i<r;)n=Math.max(n,depth(e[i]));return 1+n}function partition(n,r){var i=t.call(this,n,r);return position(i[0],0,e[0],e[1]/depth(i[0])),i}var t=a.layout.hierarchy(),e=[1,1];return partition.size=function(t){return arguments.length?(e=t,partition):e},d3_layout_hierarchyRebind(partition,t)},a.layout.pie=function(){function pie(o){var s,l=o.length,c=o.map(function(e,n){return+t.call(pie,e,n)}),u=+("function"==typeof n?n.apply(this,arguments):n),d=("function"==typeof r?r.apply(this,arguments):r)-u,h=Math.min(Math.abs(d)/l,+("function"==typeof i?i.apply(this,arguments):i)),f=h*(d<0?-1:1),p=a.sum(c),g=p?(d-l*f)/p:0,_=a.range(l),m=[];return null!=e&&_.sort(e===ve?function(t,e){return c[e]-c[t]}:function(t,n){return e(o[t],o[n])}),_.forEach(function(t){m[t]={data:o[t],value:s=c[t],startAngle:u,endAngle:u+=s*g+f,padAngle:h}}),m}var t=Number,e=ve,n=0,r=I,i=0;return pie.value=function(e){return arguments.length?(t=e,pie):t},pie.sort=function(t){return arguments.length?(e=t,pie):e},pie.startAngle=function(t){return arguments.length?(n=t,pie):n},pie.endAngle=function(t){return arguments.length?(r=t,pie):r},pie.padAngle=function(t){return arguments.length?(i=t,pie):i},pie};var ve={};a.layout.stack=function(){function stack(s,l){if(!(h=s.length))return s;var c=s.map(function(e,n){return t.call(stack,e,n)}),u=c.map(function(t){return t.map(function(t,e){return[i.call(stack,t,e),o.call(stack,t,e)]})}),d=e.call(stack,u,l);c=a.permute(c,d),u=a.permute(u,d);var h,f,p,g,_=n.call(stack,u,l),m=c[0].length;for(p=0;p<m;++p)for(r.call(stack,c[0][p],g=_[p],u[0][p][1]),f=1;f<h;++f)r.call(stack,c[f][p],g+=u[f-1][p][1],u[f][p][1]);return s}var t=d3_identity,e=d3_layout_stackOrderDefault,n=d3_layout_stackOffsetZero,r=d3_layout_stackOut,i=d3_layout_stackX,o=d3_layout_stackY;return stack.values=function(e){return arguments.length?(t=e,stack):t},stack.order=function(t){return arguments.length?(e="function"==typeof t?t:ye.get(t)||d3_layout_stackOrderDefault,stack):e},stack.offset=function(t){return arguments.length?(n="function"==typeof t?t:be.get(t)||d3_layout_stackOffsetZero,stack):n},stack.x=function(t){return arguments.length?(i=t,stack):i},stack.y=function(t){return arguments.length?(o=t,stack):o},stack.out=function(t){return arguments.length?(r=t,stack):r},stack};var ye=a.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(d3_layout_stackMaxIndex),o=t.map(d3_layout_stackReduceSum),s=a.range(r).sort(function(t,e){return i[t]-i[e]}),l=0,c=0,u=[],d=[];for(e=0;e<r;++e)n=s[e],l<c?(l+=o[n],u.push(n)):(c+=o[n],d.push(n));return d.reverse().concat(u)},reverse:function(t){return a.range(t.length).reverse()},"default":d3_layout_stackOrderDefault}),be=a.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,r,i,a,o,s,l,c,u=t.length,d=t[0],h=d.length,f=[];for(f[0]=l=c=0,n=1;n<h;++n){for(e=0,i=0;e<u;++e)i+=t[e][n][1];for(e=0,a=0,s=d[n][0]-d[n-1][0];e<u;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;a+=o*t[e][n][1]}f[n]=l-=i?a/i*s:0,l<c&&(c=l)}for(n=0;n<h;++n)f[n]-=c;return f},expand:function(t){var e,n,r,i=t.length,a=t[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:d3_layout_stackOffsetZero});a.layout.histogram=function(){function histogram(i,o){for(var s,l,c=[],u=i.map(e,this),d=n.call(this,u,o),h=r.call(this,d,u,o),o=-1,f=u.length,p=h.length-1,g=t?1:1/f;++o<p;)s=c[o]=[],s.dx=h[o+1]-(s.x=h[o]),s.y=0;if(p>0)for(o=-1;++o<f;)l=u[o],l>=d[0]&&l<=d[1]&&(s=c[a.bisect(h,l,1,p)-1],s.y+=g,s.push(i[o]));return c}var t=!0,e=Number,n=d3_layout_histogramRange,r=d3_layout_histogramBinSturges;return histogram.value=function(t){return arguments.length?(e=t,histogram):e},histogram.range=function(t){return arguments.length?(n=d3_functor(t),histogram):n},histogram.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return d3_layout_histogramBinFixed(e,t)}:d3_functor(t),histogram):r},histogram.frequency=function(e){return arguments.length?(t=!!e,histogram):t},histogram},a.layout.pack=function(){function pack(i,a){var o=e.call(this,i,a),s=o[0],l=r[0],c=r[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,d3_layout_hierarchyVisitAfter(s,function(t){t.r=+u(t.value)}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),n){var d=n*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;d3_layout_hierarchyVisitAfter(s,function(t){t.r+=d}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(s,function(t){t.r-=d})}return d3_layout_packTransform(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),o}var t,e=a.layout.hierarchy().sort(d3_layout_packSort),n=0,r=[1,1];return pack.size=function(t){return arguments.length?(r=t,pack):r},pack.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,pack):t},pack.padding=function(t){return arguments.length?(n=+t,pack):n},d3_layout_hierarchyRebind(pack,e)},a.layout.tree=function(){function tree(i,a){var o=t.call(this,i,a),s=o[0],l=wrapTree(s);if(d3_layout_hierarchyVisitAfter(l,firstWalk),l.parent.m=-l.z,d3_layout_hierarchyVisitBefore(l,secondWalk),r)d3_layout_hierarchyVisitBefore(s,sizeNode);else{var c=s,u=s,d=s;d3_layout_hierarchyVisitBefore(s,function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>d.depth&&(d=t)});var h=e(c,u)/2-c.x,f=n[0]/(u.x+e(u,c)/2+h),p=n[1]/(d.depth||1);d3_layout_hierarchyVisitBefore(s,function(t){t.x=(t.x+h)*f,t.y=t.depth*p})}return o}function wrapTree(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,a=e.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function firstWalk(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){d3_layout_treeShift(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=apportion(t,i,t.parent.A||r[0])}function secondWalk(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function apportion(t,n,r){if(n){for(var i,a=t,o=t,s=n,l=a.parent.children[0],c=a.m,u=o.m,d=s.m,h=l.m;s=d3_layout_treeRight(s),a=d3_layout_treeLeft(a),s&&a;)l=d3_layout_treeLeft(l),o=d3_layout_treeRight(o),o.a=t,i=s.z+d-a.z-c+e(s._,a._),i>0&&(d3_layout_treeMove(d3_layout_treeAncestor(s,t,r),t,i),c+=i,u+=i),d+=s.m,c+=a.m,h+=l.m,u+=o.m;s&&!d3_layout_treeRight(o)&&(o.t=s,o.m+=d-u),a&&!d3_layout_treeLeft(l)&&(l.t=a,l.m+=c-h,r=t)}return r}function sizeNode(t){t.x*=n[0],t.y=t.depth*n[1]}var t=a.layout.hierarchy().sort(null).value(null),e=d3_layout_treeSeparation,n=[1,1],r=null;return tree.separation=function(t){return arguments.length?(e=t,tree):e},tree.size=function(t){return arguments.length?(r=null==(n=t)?sizeNode:null,tree):r?null:n},tree.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:sizeNode,tree):r?n:null},d3_layout_hierarchyRebind(tree,t)},a.layout.cluster=function(){function cluster(i,a){var o,s=t.call(this,i,a),l=s[0],c=0;d3_layout_hierarchyVisitAfter(l,function(t){var n=t.children;n&&n.length?(t.x=d3_layout_clusterX(n),t.y=d3_layout_clusterY(n)):(t.x=o?c+=e(t,o):0,t.y=0,o=t)});var u=d3_layout_clusterLeft(l),d=d3_layout_clusterRight(l),h=u.x-e(u,d)/2,f=d.x+e(d,u)/2;return d3_layout_hierarchyVisitAfter(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-h)/(f-h)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),s}var t=a.layout.hierarchy().sort(null).value(null),e=d3_layout_treeSeparation,n=[1,1],r=!1;return cluster.separation=function(t){return arguments.length?(e=t,cluster):e},cluster.size=function(t){return arguments.length?(r=null==(n=t),cluster):r?null:n},cluster.nodeSize=function(t){return arguments.length?(r=null!=(n=t),cluster):r?n:null},d3_layout_hierarchyRebind(cluster,t)},a.layout.treemap=function(){function scale(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function squarify(t){var e=t.children;if(e&&e.length){var n,r,i,a=o(t),s=[],c=e.slice(),u=1/0,d="slice"===l?a.dx:"dice"===l?a.dy:"slice-dice"===l?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(scale(c,a.dx*a.dy/t.value),s.area=0;(i=c.length)>0;)s.push(n=c[i-1]),s.area+=n.area,"squarify"!==l||(r=worst(s,d))<=u?(c.pop(),u=r):(s.area-=s.pop().area,position(s,d,a,!1),d=Math.min(a.dx,a.dy),s.length=s.area=0,u=1/0);s.length&&(position(s,d,a,!0),s.length=s.area=0),e.forEach(squarify)}}function stickify(t){var e=t.children;if(e&&e.length){var n,r=o(t),i=e.slice(),a=[];for(scale(i,r.dx*r.dy/t.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(position(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);e.forEach(stickify)}}function worst(t,e){for(var n,r=t.area,i=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*c/r,r/(e*a*c)):1/0}function position(t,e,r,i){var a,o=-1,s=t.length,l=r.x,c=r.y,u=e?n(t.area/e):0;if(e==r.dx){for((i||u>r.dy)&&(u=r.dy);++o<s;)a=t[o],a.x=l,a.y=c,a.dy=u,l+=a.dx=Math.min(r.x+r.dx-l,u?n(a.area/u):0);a.z=!0,a.dx+=r.x+r.dx-l,r.y+=u,r.dy-=u}else{for((i||u>r.dx)&&(u=r.dx);++o<s;)a=t[o],a.x=l,a.y=c,a.dx=u,c+=a.dy=Math.min(r.y+r.dy-c,u?n(a.area/u):0);a.z=!1,a.dy+=r.y+r.dy-c,r.x+=u,r.dx-=u}}function treemap(n){var i=t||e(n),a=i[0];return a.x=a.y=0,a.value?(a.dx=r[0],a.dy=r[1]):a.dx=a.dy=0,t&&e.revalue(a),scale([a],a.dx*a.dy/a.value),(t?stickify:squarify)(a),s&&(t=i),i}var t,e=a.layout.hierarchy(),n=Math.round,r=[1,1],i=null,o=d3_layout_treemapPadNull,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));return treemap.size=function(t){return arguments.length?(r=t,treemap):r},treemap.padding=function(t){function padFunction(e){var n=t.call(treemap,e,e.depth);return null==n?d3_layout_treemapPadNull(e):d3_layout_treemapPad(e,"number"==typeof n?[n,n,n,n]:n)}function padConstant(e){return d3_layout_treemapPad(e,t)}if(!arguments.length)return i;var e;return o=null==(i=t)?d3_layout_treemapPadNull:"function"==(e=typeof t)?padFunction:"number"===e?(t=[t,t,t,t],padConstant):padConstant,treemap},treemap.round=function(t){return arguments.length?(n=t?Math.round:Number,treemap):n!=Number},treemap.sticky=function(e){return arguments.length?(s=e,t=null,treemap):s},treemap.ratio=function(t){return arguments.length?(c=t,treemap):c},treemap.mode=function(t){return arguments.length?(l=t+"",treemap):l},d3_layout_hierarchyRebind(treemap,e)},a.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=a.random.normal.apply(a,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=a.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},a.scale={};var xe={floor:d3_identity,ceil:d3_identity};a.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var we={s:1,g:1,p:1,r:1,e:1};a.scale.log=function(){return d3_scale_log(a.scale.linear().domain([0,1]),10,!0,[1,10])};var ke=a.format(".0e"),Me={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};a.scale.pow=function(){return d3_scale_pow(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(Se)},a.scale.category20=function(){return a.scale.ordinal().range(Ce)},a.scale.category20b=function(){return a.scale.ordinal().range(Ee)},a.scale.category20c=function(){return a.scale.ordinal().range(Te)};var Se=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),Ce=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),Ee=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),Te=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);a.scale.quantile=function(){return d3_scale_quantile([],[])},a.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},a.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},a.scale.identity=function(){return d3_scale_identity([0,1])},a.svg={},a.svg.arc=function(){function arc(){var s=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-B,u=a.apply(this,arguments)-B,d=Math.abs(u-c),h=c>u?0:1;if(l<s&&(f=l,l=s,s=f),d>=O)return circleSegment(l,h)+(s?circleSegment(s,1-h):"")+"Z";var f,p,g,_,m,v,y,b,x,w,k,M,S=0,C=0,E=[];if((_=(+o.apply(this,arguments)||0)/2)&&(g=r===Re?Math.sqrt(s*s+l*l):+r.apply(this,arguments),h||(C*=-1),l&&(C=d3_asin(g/l*Math.sin(_))),s&&(S=d3_asin(g/s*Math.sin(_)))),l){m=l*Math.cos(c+C),v=l*Math.sin(c+C),y=l*Math.cos(u-C),b=l*Math.sin(u-C);var T=Math.abs(u-c-2*C)<=F?0:1;if(C&&d3_svg_arcSweep(m,v,y,b)===h^T){var R=(c+u)/2;m=l*Math.cos(R),v=l*Math.sin(R),y=b=null}}else m=v=0;if(s){x=s*Math.cos(u-S),w=s*Math.sin(u-S),k=s*Math.cos(c+S),M=s*Math.sin(c+S);var N=Math.abs(c-u+2*S)<=F?0:1;if(S&&d3_svg_arcSweep(x,w,k,M)===1-h^N){var A=(c+u)/2;x=s*Math.cos(A),w=s*Math.sin(A),k=M=null}}else x=w=0;if(d>P&&(f=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){p=s<l^h?0:1;var z=f,L=f;if(d<F){var D=null==k?[x,w]:null==y?[m,v]:d3_geom_polygonIntersect([m,v],[k,M],[y,b],[x,w]),I=m-D[0],q=v-D[1],j=y-D[0],H=b-D[1],U=1/Math.sin(Math.acos((I*j+q*H)/(Math.sqrt(I*I+q*q)*Math.sqrt(j*j+H*H)))/2),G=Math.sqrt(D[0]*D[0]+D[1]*D[1]);L=Math.min(f,(s-G)/(U-1)),z=Math.min(f,(l-G)/(U+1))}if(null!=y){var Y=d3_svg_arcCornerTangents(null==k?[x,w]:[k,M],[m,v],l,z,h),V=d3_svg_arcCornerTangents([y,b],[x,w],l,z,h);f===z?E.push("M",Y[0],"A",z,",",z," 0 0,",p," ",Y[1],"A",l,",",l," 0 ",1-h^d3_svg_arcSweep(Y[1][0],Y[1][1],V[1][0],V[1][1]),",",h," ",V[1],"A",z,",",z," 0 0,",p," ",V[0]):E.push("M",Y[0],"A",z,",",z," 0 1,",p," ",V[0])}else E.push("M",m,",",v);if(null!=k){var W=d3_svg_arcCornerTangents([m,v],[k,M],s,-L,h),X=d3_svg_arcCornerTangents([x,w],null==y?[m,v]:[y,b],s,-L,h);f===L?E.push("L",X[0],"A",L,",",L," 0 0,",p," ",X[1],"A",s,",",s," 0 ",h^d3_svg_arcSweep(X[1][0],X[1][1],W[1][0],W[1][1]),",",1-h," ",W[1],"A",L,",",L," 0 0,",p," ",W[0]):E.push("L",X[0],"A",L,",",L," 0 0,",p," ",W[0])}else E.push("L",x,",",w)}else E.push("M",m,",",v),null!=y&&E.push("A",l,",",l," 0 ",T,",",h," ",y,",",b),E.push("L",x,",",w),null!=k&&E.push("A",s,",",s," 0 ",N,",",1-h," ",k,",",M);return E.push("Z"),E.join("")}function circleSegment(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var t=d3_svg_arcInnerRadius,e=d3_svg_arcOuterRadius,n=d3_zero,r=Re,i=d3_svg_arcStartAngle,a=d3_svg_arcEndAngle,o=d3_svg_arcPadAngle;return arc.innerRadius=function(e){return arguments.length?(t=d3_functor(e),arc):t},arc.outerRadius=function(t){return arguments.length?(e=d3_functor(t),arc):e},arc.cornerRadius=function(t){return arguments.length?(n=d3_functor(t),arc):n},arc.padRadius=function(t){return arguments.length?(r=t==Re?Re:d3_functor(t),arc):r},arc.startAngle=function(t){return arguments.length?(i=d3_functor(t),arc):i},arc.endAngle=function(t){return arguments.length?(a=d3_functor(t),arc):a},arc.padAngle=function(t){return arguments.length?(o=d3_functor(t),arc):o},arc.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-B;return[Math.cos(r)*n,Math.sin(r)*n]},arc};var Re="auto";a.svg.line=function(){return d3_svg_line(d3_identity)};var Ne=a.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});Ne.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ae=[0,2/3,1/3,0],ze=[0,1/3,2/3,0],Le=[0,1/6,2/3,1/6];a.svg.line.radial=function(){var t=d3_svg_line(d3_svg_lineRadial);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,a.svg.area=function(){return d3_svg_area(d3_identity)},a.svg.area.radial=function(){var t=d3_svg_area(d3_svg_lineRadial);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},a.svg.chord=function(){function chord(n,r){var i=subgroup(this,t,n,r),a=subgroup(this,e,n,r);return"M"+i.p0+arc(i.r,i.p1,i.a1-i.a0)+(equals(i,a)?curve(i.r,i.p1,i.r,i.p0):curve(i.r,i.p1,a.r,a.p0)+arc(a.r,a.p1,a.a1-a.a0)+curve(a.r,a.p1,i.r,i.p0))+"Z"}function subgroup(t,e,a,o){var s=e.call(t,a,o),l=n.call(t,s,o),c=r.call(t,s,o)-B,u=i.call(t,s,o)-B;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function equals(t,e){return t.a0==e.a0&&t.a1==e.a1}function arc(t,e,n){return"A"+t+","+t+" 0 "+ +(n>F)+",1 "+e}function curve(t,e,n,r){return"Q 0,0 "+r}var t=d3_source,e=d3_target,n=d3_svg_chordRadius,r=d3_svg_arcStartAngle,i=d3_svg_arcEndAngle;return chord.radius=function(t){return arguments.length?(n=d3_functor(t),chord):n},chord.source=function(e){return arguments.length?(t=d3_functor(e),chord):t},chord.target=function(t){return arguments.length?(e=d3_functor(t),chord):e},chord.startAngle=function(t){return arguments.length?(r=d3_functor(t),chord):r},chord.endAngle=function(t){return arguments.length?(i=d3_functor(t),chord):i},chord},a.svg.diagonal=function(){function diagonal(r,i){var a=t.call(this,r,i),o=e.call(this,r,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=d3_source,e=d3_target,n=d3_svg_diagonalProjection;return diagonal.source=function(e){return arguments.length?(t=d3_functor(e),diagonal):t},diagonal.target=function(t){return arguments.length?(e=d3_functor(t),diagonal):e},diagonal.projection=function(t){return arguments.length?(n=t,diagonal):n},diagonal},a.svg.diagonal.radial=function(){var t=a.svg.diagonal(),e=d3_svg_diagonalProjection,n=t.projection;return t.projection=function(t){return arguments.length?n(d3_svg_diagonalRadialProjection(e=t)):e},t},a.svg.symbol=function(){function symbol(n,r){return(Pe.get(t.call(this,n,r))||d3_svg_symbolCircle)(e.call(this,n,r))}var t=d3_svg_symbolType,e=d3_svg_symbolSize;return symbol.type=function(e){return arguments.length?(t=d3_functor(e),symbol):t},symbol.size=function(t){return arguments.length?(e=d3_functor(t),symbol):e},symbol};var Pe=a.map({circle:d3_svg_symbolCircle,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Fe)),n=e*Fe;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/De),n=e*De/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/De),n=e*De/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});a.svg.symbolTypes=Pe.keys();var De=Math.sqrt(3),Fe=Math.tan(30*q);C.transition=function(t){for(var e,n,r=Ie||++je,i=d3_transitionNamespace(t),a=[],o=Oe||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&d3_transitionNode(n,u,i,r,o),e.push(n)}return d3_transition(a,i,r)},C.interrupt=function(t){return this.each(null==t?Be:d3_selection_interruptNS(d3_transitionNamespace(t)))};var Ie,Oe,Be=d3_selection_interruptNS(d3_transitionNamespace()),qe=[],je=0;qe.call=C.call,qe.empty=C.empty,qe.node=C.node,qe.size=C.size,a.transition=function(t,e){return t&&t.transition?Ie?t.transition(e):t:a.selection().transition(t)},a.transition.prototype=qe,qe.select=function(t){var e,n,r,i=this.id,a=this.namespace,o=[];t=d3_selection_selector(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=t.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),d3_transitionNode(n,u,a,i,r[a][i]),e.push(n)):e.push(null)}return d3_transition(o,a,i)},qe.selectAll=function(t){var e,n,r,i,a,o=this.id,s=this.namespace,l=[];t=d3_selection_selectorAll(t);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,f=d.length;++h<f;)if(r=d[h]){a=r[s][o],n=t.call(r,r.__data__,h,c),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&d3_transitionNode(i,p,s,o,a),e.push(i)}return d3_transition(l,s,o)},qe.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=d3_selection_filter(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]);for(var n=this[a],s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return d3_transition(i,this.namespace,this.id)},qe.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):d3_selection_each(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},qe.attr=function(t,e){function attrNull(){this.removeAttribute(r)}function attrNullNS(){this.removeAttributeNS(r.space,r.local)}function attrTween(t){return null==t?attrNull:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function attrTweenNS(t){return null==t?attrNullNS:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?d3_interpolateTransform:d3_interpolate,r=a.ns.qualify(t);return d3_transition_tween(this,"attr."+t,e,r.local?attrTweenNS:attrTween)},qe.attrTween=function(t,e){function attrTween(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}}function attrTweenNS(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}var n=a.ns.qualify(t);return this.tween("attr."+t,n.local?attrTweenNS:attrTween)},qe.style=function(t,e,n){function styleNull(){this.style.removeProperty(t)}function styleString(e){
return null==e?styleNull:(e+="",function(){var r,i=d3_window(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=d3_interpolate(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return d3_transition_tween(this,"style."+t,e,styleString)},qe.styleTween=function(t,e,n){function styleTween(r,i){var a=e.call(this,r,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,styleTween)},qe.text=function(t){return d3_transition_tween(this,"text",t,d3_transition_text)},qe.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},qe.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=a.ease.apply(a,arguments)),d3_selection_each(this,function(r){r[n][e].ease=t}))},qe.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:d3_selection_each(this,"function"==typeof t?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},qe.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:d3_selection_each(this,"function"==typeof t?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},qe.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Oe,o=Ie;try{Ie=n,d3_selection_each(this,function(e,i,a){Oe=e[r][n],t.call(e,e.__data__,i,a)})}finally{Oe=i,Ie=o}}else d3_selection_each(this,function(i){var o=i[r][n];(o.event||(o.event=a.dispatch("start","end","interrupt"))).on(t,e)});return this},qe.transition=function(){for(var t,e,n,r,i=this.id,a=++je,o=this.namespace,s=[],l=0,c=this.length;l<c;l++){s.push(t=[]);for(var e=this[l],u=0,d=e.length;u<d;u++)(n=e[u])&&(r=n[o][i],d3_transitionNode(n,u,o,a,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return d3_transition(s,o,a)},a.svg.axis=function(){function axis(s){s.each(function(){var s,u=a.select(this),d=this.__chart__||e,h=this.__chart__=e.copy(),f=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,p=null==t?h.tickFormat?h.tickFormat.apply(h,l):d3_identity:t,g=u.selectAll(".tick").data(f,h),_=g.enter().insert("g",".domain").attr("class","tick").style("opacity",P),m=a.transition(g.exit()).style("opacity",P).remove(),v=a.transition(g.order()).style("opacity",1),y=Math.max(r,0)+o,b=d3_scaleRange(h),x=u.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),a.transition(x));_.append("line"),_.append("text");var k,M,S,C,E=_.select("line"),T=v.select("line"),R=g.select("text").text(p),N=_.select("text"),A=v.select("text"),z="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=d3_svg_axisX,k="x",S="y",M="x2",C="y2",R.attr("dy",z<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+z*i+"V0H"+b[1]+"V"+z*i)):(s=d3_svg_axisY,k="y",S="x",M="y2",C="x2",R.attr("dy",".32em").style("text-anchor",z<0?"end":"start"),w.attr("d","M"+z*i+","+b[0]+"H0V"+b[1]+"H"+z*i)),E.attr(C,z*r),N.attr(S,z*y),T.attr(M,0).attr(C,z*r),A.attr(k,0).attr(S,z*y),h.rangeBand){var L=h,D=L.rangeBand()/2;d=h=function(t){return L(t)+D}}else d.rangeBand?d=h:m.call(s,h,d);_.call(s,d,h),v.call(s,h,h)})}var t,e=a.scale.linear(),n=He,r=6,i=6,o=3,l=[10],c=null;return axis.scale=function(t){return arguments.length?(e=t,axis):e},axis.orient=function(t){return arguments.length?(n=t in Ue?t+"":He,axis):n},axis.ticks=function(){return arguments.length?(l=s(arguments),axis):l},axis.tickValues=function(t){return arguments.length?(c=t,axis):c},axis.tickFormat=function(e){return arguments.length?(t=e,axis):t},axis.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],axis):r},axis.innerTickSize=function(t){return arguments.length?(r=+t,axis):r},axis.outerTickSize=function(t){return arguments.length?(i=+t,axis):i},axis.tickPadding=function(t){return arguments.length?(o=+t,axis):o},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var He="bottom",Ue={top:1,right:1,bottom:1,left:1};a.svg.brush=function(){function brush(t){t.each(function(){var t=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(u,d3_identity);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ge[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",brush.empty()?"none":null);var o,s=a.transition(t),l=a.transition(e);r&&(o=d3_scaleRange(r),l.attr("x",o[0]).attr("width",o[1]-o[0]),redrawX(s)),i&&(o=d3_scaleRange(i),l.attr("y",o[0]).attr("height",o[1]-o[0]),redrawY(s)),redraw(s)})}function redraw(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+o[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"})}function redrawX(t){t.select(".extent").attr("x",o[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function redrawY(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function brushstart(){function keydown(){32==a.event.keyCode&&(y||(u=null,x[0]-=o[1],x[1]-=s[1],y=2),d3_eventPreventDefault())}function keyup(){32==a.event.keyCode&&2==y&&(x[0]+=o[1],x[1]+=s[1],y=0,d3_eventPreventDefault())}function brushmove(){var t=a.mouse(h),e=!1;d&&(t[0]+=d[0],t[1]+=d[1]),y||(a.event.altKey?(u||(u=[(o[0]+o[1])/2,(s[0]+s[1])/2]),x[0]=o[+(t[0]<u[0])],x[1]=s[+(t[1]<u[1])]):u=null),m&&move1(t,r,0)&&(redrawX(g),e=!0),v&&move1(t,i,1)&&(redrawY(g),e=!0),e&&(redraw(g),p({type:"brush",mode:y?"move":"resize"}))}function move1(n,r,i){var a,d,h=d3_scaleRange(r),f=h[0],p=h[1],g=x[i],_=i?s:o,m=_[1]-_[0];if(y&&(f-=g,p-=m+g),a=(i?c:l)?Math.max(f,Math.min(p,n[i])):n[i],y?d=(a+=g)+m:(u&&(g=Math.max(f,Math.min(p,2*u[i]-a))),g<a?(d=a,a=g):d=g),_[0]!=a||_[1]!=d)return i?e=null:t=null,_[0]=a,_[1]=d,!0}function brushend(){brushmove(),g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),a.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),b(),p({type:"brushend"})}var u,d,h=this,f=a.select(a.event.target),p=n.of(h,arguments),g=a.select(h),_=f.datum(),m=!/^(n|s)$/.test(_)&&r,v=!/^(e|w)$/.test(_)&&i,y=f.classed("extent"),b=d3_event_dragSuppress(h),x=a.mouse(h),w=a.select(d3_window(h)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(a.event.changedTouches?w.on("touchmove.brush",brushmove).on("touchend.brush",brushend):w.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),g.interrupt().selectAll("*").interrupt(),y)x[0]=o[0]-x[0],x[1]=s[0]-x[1];else if(_){var k=+/w$/.test(_),M=+/^n/.test(_);d=[o[1-k]-x[0],s[1-M]-x[1]],x[0]=o[k],x[1]=s[M]}else a.event.altKey&&(u=x.slice());g.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",f.style("cursor")),p({type:"brushstart"}),brushmove()}var t,e,n=d3_eventDispatch(brush,"brushstart","brush","brushend"),r=null,i=null,o=[0,0],s=[0,0],l=!0,c=!0,u=Ye[0];return brush.event=function(r){r.each(function(){var r=n.of(this,arguments),i={x:o,y:s,i:t,j:e},l=this.__chart__||i;this.__chart__=i,Ie?a.select(this).transition().each("start.brush",function(){t=l.i,e=l.j,o=l.x,s=l.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=d3_interpolateArray(o,i.x),a=d3_interpolateArray(s,i.y);return t=e=null,function(t){o=i.x=n(t),s=i.y=a(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},brush.x=function(t){return arguments.length?(r=t,u=Ye[!r<<1|!i],brush):r},brush.y=function(t){return arguments.length?(i=t,u=Ye[!r<<1|!i],brush):i},brush.clamp=function(t){return arguments.length?(r&&i?(l=!!t[0],c=!!t[1]):r?l=!!t:i&&(c=!!t),brush):r&&i?[l,c]:r?l:i?c:null},brush.extent=function(n){var a,l,c,u,d;return arguments.length?(r&&(a=n[0],l=n[1],i&&(a=a[0],l=l[0]),t=[a,l],r.invert&&(a=r(a),l=r(l)),l<a&&(d=a,a=l,l=d),a==o[0]&&l==o[1]||(o=[a,l])),i&&(c=n[0],u=n[1],r&&(c=c[1],u=u[1]),e=[c,u],i.invert&&(c=i(c),u=i(u)),u<c&&(d=c,c=u,u=d),c==s[0]&&u==s[1]||(s=[c,u])),brush):(r&&(t?(a=t[0],l=t[1]):(a=o[0],l=o[1],r.invert&&(a=r.invert(a),l=r.invert(l)),l<a&&(d=a,a=l,l=d))),i&&(e?(c=e[0],u=e[1]):(c=s[0],u=s[1],i.invert&&(c=i.invert(c),u=i.invert(u)),u<c&&(d=c,c=u,u=d))),r&&i?[[a,c],[l,u]]:r?[a,l]:i&&[c,u])},brush.clear=function(){return brush.empty()||(o=[0,0],s=[0,0],t=e=null),brush},brush.empty=function(){return!!r&&o[0]==o[1]||!!i&&s[0]==s[1]},a.rebind(brush,n,"on")};var Ge={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ye=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ve=dt.format=mt.timeFormat,We=Ve.utc,Xe=We("%Y-%m-%dT%H:%M:%S.%LZ");Ve.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:Xe,d3_time_formatIsoNative.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},d3_time_formatIsoNative.toString=Xe.toString,dt.second=d3_time_interval(function(t){return new ht(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),dt.seconds=dt.second.range,dt.seconds.utc=dt.second.utc.range,dt.minute=d3_time_interval(function(t){return new ht(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),dt.minutes=dt.minute.range,dt.minutes.utc=dt.minute.utc.range,dt.hour=d3_time_interval(function(t){var e=t.getTimezoneOffset()/60;return new ht(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),dt.hours=dt.hour.range,dt.hours.utc=dt.hour.utc.range,dt.month=d3_time_interval(function(t){return t=dt.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),dt.months=dt.month.range,dt.months.utc=dt.month.utc.range;var $e=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ze=[[dt.second,1],[dt.second,5],[dt.second,15],[dt.second,30],[dt.minute,1],[dt.minute,5],[dt.minute,15],[dt.minute,30],[dt.hour,1],[dt.hour,3],[dt.hour,6],[dt.hour,12],[dt.day,1],[dt.day,2],[dt.week,1],[dt.month,1],[dt.month,3],[dt.year,1]],Je=Ve.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",d3_true]]),Ke={range:function(t,e,n){return a.range(Math.ceil(t/n)*n,+e,n).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};Ze.year=dt.year,dt.scale=function(){return d3_time_scale(a.scale.linear(),Ze,Je)};var Qe=Ze.map(function(t){return[t[0].utc,t[1]]}),tn=We.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",d3_true]]);Qe.year=dt.year.utc,dt.scale.utc=function(){return d3_time_scale(a.scale.linear(),Qe,tn)},a.text=d3_xhrType(function(t){return t.responseText}),a.json=function(t,e){return d3_xhr(t,"application/json",d3_json,e)},a.html=function(t,e){return d3_xhr(t,"text/html",d3_html,e)},a.xml=d3_xhrType(function(t){return t.responseXML}),this.d3=a,r=a,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}()},688:function(t,e,n){"use strict";(function(t){var r=n(0),i=function(){function Widget(e){this.$el=t(e.nativeElement),t.fn.widgster.Constructor.DEFAULTS.bodySelector=".widget-body",t(document).on("close.widgster",function(e){var n=t(e.target).closest('.content > .row > [class*="col-"]:not(.widget-container)');n.find(".widget").not(e.target).length||n.remove()})}return Widget.prototype.ngOnInit=function(){this.$el.widgster()},Widget=__decorate([r.Directive({selector:"[widget]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ElementRef&&r.ElementRef)&&e||Object])],Widget);var e}();e.Widget=i}).call(e,n(43))},689:function(t,e,n){"use strict";var r=n(0),i=n(74),a=n(688),o=function(){function WidgetModule(){}return WidgetModule=__decorate([r.NgModule({imports:[i.CommonModule],declarations:[a.Widget],exports:[a.Widget]}),__metadata("design:paramtypes",[])],WidgetModule)}();e.WidgetModule=o},691:function(t,e,n){"use strict";var r=n(0);n(687);var i=function(){function D3Module(){}return D3Module=__decorate([r.NgModule({}),__metadata("design:paramtypes",[])],D3Module)}();e.D3Module=i},693:function(t,e,n){"use strict";(function(t,r){var i=n(0),a=function(){function RickshawChart(e){this.$el=t(e.nativeElement)}return RickshawChart.prototype.render=function(){var e=this,n=new r.Graph({element:this.$el[0],height:this.height,renderer:this.renderer||"area",series:this.series}),i=function(){var r=t.extend({height:e.height},e.configureProps);n.configure(r),n.render(),e.$el.find("svg").css({height:e.height,width:"100%"})};t(window).on("sn:resize",i),i();new r.Graph.HoverDetail({graph:n,xFormatter:function(t){return new Date(1e3*t).toString()}});this.realtime&&setInterval(function(){e.random.removeData(e.seriesData),e.random.addData(e.seriesData),n.update()},1e3)},RickshawChart.prototype.ngOnInit=function(){this.render()},__decorate([i.Input(),__metadata("design:type",String)],RickshawChart.prototype,"height",void 0),__decorate([i.Input(),__metadata("design:type",Object)],RickshawChart.prototype,"series",void 0),__decorate([i.Input(),__metadata("design:type",Object)],RickshawChart.prototype,"seriesData",void 0),__decorate([i.Input(),__metadata("design:type",Object)],RickshawChart.prototype,"random",void 0),__decorate([i.Input(),__metadata("design:type",Object)],RickshawChart.prototype,"configureProps",void 0),__decorate([i.Input(),__metadata("design:type",Boolean)],RickshawChart.prototype,"realtime",void 0),__decorate([i.Input(),__metadata("design:type",String)],RickshawChart.prototype,"renderer",void 0),RickshawChart=__decorate([i.Directive({selector:"[rickshaw-chart]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ElementRef&&i.ElementRef)&&e||Object])],RickshawChart);var e}();e.RickshawChart=a}).call(e,n(43),n(686))},694:function(t,e,n){"use strict";var r=n(0),i=n(691);n(686);var a=n(693),o=function(){function RickshawChartModule(){}return RickshawChartModule=__decorate([r.NgModule({imports:[i.D3Module],declarations:[a.RickshawChart],exports:[a.RickshawChart]}),__metadata("design:paramtypes",[])],RickshawChartModule)}();e.RickshawChartModule=o},695:function(t,e){"use strict";var n=function(){function ServiceUrl(){this.baseUrl="http://13.234.59.147:4000/"}return ServiceUrl.prototype.getUrl=function(){return this.baseUrl},ServiceUrl}();e.ServiceUrl=n},696:function(t,e,n){"use strict";var r=n(0),i=n(156);n(242);var a=n(695),o=function(){function TransactionService(t){this.http=t,this.urlService=new a.ServiceUrl}return TransactionService.prototype.getProfitStatisticsByTime=function(t){var e=JSON.stringify({filterTime:t}),n=new i.Headers({"Content-Type":"application/json"}),r=new i.RequestOptions({method:"post",headers:n});return this.http.post(this.urlService.baseUrl+"merchant/getProfitStatisticsByTime",e,r).map(function(t){return t.json()})},TransactionService.prototype.getTransactionStatisticsByTimeRoute=function(t){var e=JSON.stringify({filterTime:t}),n=new i.Headers({"Content-Type":"application/json"}),r=new i.RequestOptions({method:"post",headers:n});return this.http.post(this.urlService.baseUrl+"merchant/getTransactionStatisticsByTimeRoute",e,r).map(function(t){return t.json()})},TransactionService.prototype.getTransactionData=function(t){var e=JSON.stringify({transactionId:t}),n=new i.Headers({"Content-Type":"application/json"}),r=new i.RequestOptions({method:"post",headers:n});return this.http.post(this.urlService.baseUrl+"merchant/getTransactionData",e,r).map(function(t){return t.json()})},TransactionService.prototype.getProfitConfiguration=function(t,e){var n=JSON.stringify({merchantProfit:t,bitpointProfit:e}),r=new i.Headers({"Content-Type":"application/json"}),a=new i.RequestOptions({method:"post",headers:r});return this.http.post(this.urlService.baseUrl+"adminConfiguration/addProfitConfiguration",n,a).map(function(t){return t.json()})},TransactionService.prototype.getTransactionDetailsById=function(t){var e=JSON.stringify({merchantId:t}),n=new i.Headers({"Content-Type":"application/json"}),r=new i.RequestOptions({method:"post",headers:n});return this.http.post(this.urlService.baseUrl+"merchant/getTransactionsByMerchantId",e,r).map(function(t){return t.json()})},TransactionService=__decorate([r.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object])],TransactionService);var t}();e.TransactionService=o},701:function(t,e){t.exports='.rickshaw_graph .detail {\n\tpointer-events: none;\n\tposition: absolute;\n\ttop: 0;\n\tz-index: 2;\n\tbackground: rgba(0, 0, 0, 0.1);\n\tbottom: 0;\n\twidth: 1px;\n\ttransition: opacity 0.25s linear;\n\t-moz-transition: opacity 0.25s linear;\n\t-o-transition: opacity 0.25s linear;\n\t-webkit-transition: opacity 0.25s linear;\n}\n.rickshaw_graph .detail.inactive {\n\topacity: 0;\n}\n.rickshaw_graph .detail .item.active {\n\topacity: 1;\n}\n.rickshaw_graph .detail .x_label {\n\tfont-family: Arial, sans-serif;\n\tborder-radius: 3px;\n\tpadding: 6px;\n\topacity: 0.5;\n\tborder: 1px solid #e0e0e0;\n\tfont-size: 12px;\n\tposition: absolute;\n\tbackground: white;\n\twhite-space: nowrap;\n}\n.rickshaw_graph .detail .x_label.left {\n\tleft: 0;\n}\n.rickshaw_graph .detail .x_label.right {\n\tright: 0;\n}\n.rickshaw_graph .detail .item {\n\tposition: absolute;\n\tz-index: 2;\n\tborder-radius: 3px;\n\tpadding: 0.25em;\n\tfont-size: 12px;\n\tfont-family: Arial, sans-serif;\n\topacity: 0;\n\tbackground: rgba(0, 0, 0, 0.4);\n\tcolor: white;\n\tborder: 1px solid rgba(0, 0, 0, 0.4);\n\tmargin-left: 1em;\n\tmargin-right: 1em;\n\tmargin-top: -1em;\n\twhite-space: nowrap;\n}\n.rickshaw_graph .detail .item.left {\n\tleft: 0;\n}\n.rickshaw_graph .detail .item.right {\n\tright: 0;\n}\n.rickshaw_graph .detail .item.active {\n\topacity: 1;\n\tbackground: rgba(0, 0, 0, 0.8);\n}\n.rickshaw_graph .detail .item:after {\n\tposition: absolute;\n\tdisplay: block;\n\twidth: 0;\n\theight: 0;\n\n\tcontent: "";\n\n\tborder: 5px solid transparent;\n}\n.rickshaw_graph .detail .item.left:after {\n\ttop: 1em;\n\tleft: -5px;\n\tmargin-top: -5px;\n\tborder-right-color: rgba(0, 0, 0, 0.8);\n\tborder-left-width: 0;\n}\n.rickshaw_graph .detail .item.right:after {\n\ttop: 1em;\n\tright: -5px;\n\tmargin-top: -5px;\n\tborder-left-color: rgba(0, 0, 0, 0.8);\n\tborder-right-width: 0;\n}\n.rickshaw_graph .detail .dot {\n\twidth: 4px;\n\theight: 4px;\n\tmargin-left: -3px;\n\tmargin-top: -3.5px;\n\tborder-radius: 5px;\n\tposition: absolute;\n\tbox-shadow: 0 0 2px rgba(0, 0, 0, 0.6);\n\tbox-sizing: content-box;\n\t-moz-box-sizing: content-box;\n\tbackground: white;\n\tborder-width: 2px;\n\tborder-style: solid;\n\tdisplay: none;\n\tbackground-clip: padding-box;\n}\n.rickshaw_graph .detail .dot.active {\n\tdisplay: block;\n}\n/* graph */\n\n.rickshaw_graph {\n\tposition: relative;\n}\n.rickshaw_graph svg {\n\tdisplay: block;\t\n\toverflow: hidden;\n}\n\n/* ticks */\n\n.rickshaw_graph .x_tick {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\twidth: 0px;\n\tborder-left: 1px dotted rgba(0, 0, 0, 0.2);\n\tpointer-events: none;\n}\n.rickshaw_graph .x_tick .title {\n\tposition: absolute;\n\tfont-size: 12px;\n\tfont-family: Arial, sans-serif;\n\topacity: 0.5;\n\twhite-space: nowrap;\n\tmargin-left: 3px;\n\tbottom: 1px;\n}\n\n/* annotations */\n\n.rickshaw_annotation_timeline {\n\theight: 1px;\n\tborder-top: 1px solid #e0e0e0;\n\tmargin-top: 10px;\n\tposition: relative;\n}\n.rickshaw_annotation_timeline .annotation {\n\tposition: absolute;\n\theight: 6px;\n\twidth: 6px;\n\tmargin-left: -2px;\n\ttop: -3px;\n\tborder-radius: 5px;\n\tbackground-color: rgba(0, 0, 0, 0.25);\n}\n.rickshaw_graph .annotation_line {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: -6px;\n\twidth: 0px;\n\tborder-left: 2px solid rgba(0, 0, 0, 0.3);\n\tdisplay: none;\n}\n.rickshaw_graph .annotation_line.active {\n\tdisplay: block;\n}\n\n.rickshaw_graph .annotation_range {\n        background: rgba(0, 0, 0, 0.1);\n        display: none;\n        position: absolute;\n        top: 0;\n        bottom: -6px;\n}\n.rickshaw_graph .annotation_range.active {\n        display: block;\n}\n.rickshaw_graph .annotation_range.active.offscreen {\n        display: none;\n}\n\n.rickshaw_annotation_timeline .annotation .content {\n\tbackground: white;\n\tcolor: black;\n\topacity: 0.9;\n\tpadding: 5px 5px;\n\tbox-shadow: 0 0 2px rgba(0, 0, 0, 0.8);\n\tborder-radius: 3px;\n\tposition: relative;\n\tz-index: 20;\n\tfont-size: 12px;\n\tpadding: 6px 8px 8px;\n\ttop: 18px;\n\tleft: -11px;\n\twidth: 160px;\n\tdisplay: none;\n\tcursor: pointer;\n}\n.rickshaw_annotation_timeline .annotation .content:before {\n\tcontent: "\\25B2";\n\tposition: absolute;\n\ttop: -11px;\n\tcolor: white;\n\ttext-shadow: 0 -1px 1px rgba(0, 0, 0, 0.8);\n}\n.rickshaw_annotation_timeline .annotation.active,\n.rickshaw_annotation_timeline .annotation:hover {\n\tbackground-color: rgba(0, 0, 0, 0.8);\n\tcursor: none;\n}\n.rickshaw_annotation_timeline .annotation .content:hover {\n\tz-index: 50;\n}\n.rickshaw_annotation_timeline .annotation.active .content {\n\tdisplay: block;\n}\n.rickshaw_annotation_timeline .annotation:hover .content {\n\tdisplay: block;\n\tz-index: 50;\n}\n.rickshaw_graph .y_axis,\n.rickshaw_graph  .x_axis_d3 {\n\tfill: none;\n}\n.rickshaw_graph .y_ticks .tick line,\n.rickshaw_graph .x_ticks_d3 .tick {\n\tstroke: rgba(0, 0, 0, 0.16);\n\tstroke-width: 2px;\n\tshape-rendering: crisp-edges;\n\tpointer-events: none;\n}\n.rickshaw_graph .y_grid .tick,\n.rickshaw_graph .x_grid_d3 .tick {\n\tz-index: -1;\n\tstroke: rgba(0, 0, 0, 0.20);\n\tstroke-width: 1px;\n\tstroke-dasharray: 1 1;\n}\n.rickshaw_graph .y_grid .tick[data-y-value="0"] {\n\tstroke-dasharray: 1 0;\n}\n.rickshaw_graph .y_grid path,\n.rickshaw_graph .x_grid_d3 path  {\n\tfill: none;\n\tstroke: none;\n}\n.rickshaw_graph .y_ticks path,\n.rickshaw_graph .x_ticks_d3 path {\n\tfill: none;\n\tstroke: #808080;\n}\n.rickshaw_graph .y_ticks text,\n.rickshaw_graph .x_ticks_d3 text {\n\topacity: 0.5;\n\tfont-size: 12px;\n\tpointer-events: none;\n}\n.rickshaw_graph .x_tick.glow .title,\n.rickshaw_graph .y_ticks.glow text {\n\tfill: black;\n\tcolor: black;\n\ttext-shadow: \n\t\t-1px 1px 0 rgba(255, 255, 255, 0.1),\n\t\t1px -1px 0 rgba(255, 255, 255, 0.1),\n\t\t1px 1px 0 rgba(255, 255, 255, 0.1),\n\t\t0px 1px 0 rgba(255, 255, 255, 0.1),\n\t\t0px -1px 0 rgba(255, 255, 255, 0.1),\n\t\t1px 0px 0 rgba(255, 255, 255, 0.1),\n\t\t-1px 0px 0 rgba(255, 255, 255, 0.1),\n\t\t-1px -1px 0 rgba(255, 255, 255, 0.1);\n}\n.rickshaw_graph .x_tick.inverse .title,\n.rickshaw_graph .y_ticks.inverse text {\n\tfill: white;\n\tcolor: white;\n\ttext-shadow: \n\t\t-1px 1px 0 rgba(0, 0, 0, 0.8),\n\t\t1px -1px 0 rgba(0, 0, 0, 0.8),\n\t\t1px 1px 0 rgba(0, 0, 0, 0.8),\n\t\t0px 1px 0 rgba(0, 0, 0, 0.8),\n\t\t0px -1px 0 rgba(0, 0, 0, 0.8),\n\t\t1px 0px 0 rgba(0, 0, 0, 0.8),\n\t\t-1px 0px 0 rgba(0, 0, 0, 0.8),\n\t\t-1px -1px 0 rgba(0, 0, 0, 0.8);\n}\n.rickshaw_legend {\n\tfont-family: Arial;\n\tfont-size: 12px;\n\tcolor: white;\n\tbackground: #404040;\n\tdisplay: inline-block;\n\tpadding: 12px 5px; \n\tborder-radius: 2px;\n\tposition: relative;\n}\n.rickshaw_legend:hover {\n\tz-index: 10;\n}\n.rickshaw_legend .swatch {\n\twidth: 10px;\n\theight: 10px;\n\tborder: 1px solid rgba(0, 0, 0, 0.2);\n}\n.rickshaw_legend .line {\n\tclear: both;\n\tline-height: 140%;\n\tpadding-right: 15px;\n}\n.rickshaw_legend .line .swatch {\n\tdisplay: inline-block;\n\tmargin-right: 3px;\n\tborder-radius: 2px;\n}\n.rickshaw_legend .label {\n\tmargin: 0;\n\twhite-space: nowrap;\n\tdisplay: inline;\n\tfont-size: inherit;\n\tbackground-color: transparent;\n\tcolor: inherit;\n\tfont-weight: normal;\n\tline-height: normal;\n\tpadding: 0px;\n\ttext-shadow: none;\n}\n.rickshaw_legend .action:hover {\n\topacity: 0.6;\n}\n.rickshaw_legend .action {\n\tmargin-right: 0.2em;\n\tfont-size: 10px;\n\topacity: 0.2;\n\tcursor: pointer;\n\tfont-size: 14px;\n}\n.rickshaw_legend .line.disabled {\n\topacity: 0.4;\n}\n.rickshaw_legend ul {\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n\tmargin: 2px;\n\tcursor: pointer;\n}\n.rickshaw_legend li {\n\tpadding: 0 0 0 2px;\n\tmin-width: 80px;\n\twhite-space: nowrap;\n}\n.rickshaw_legend li:hover {\n\tbackground: rgba(255, 255, 255, 0.08);\n\tborder-radius: 3px;\n}\n.rickshaw_legend li:active {\n\tbackground: rgba(255, 255, 255, 0.2);\n\tborder-radius: 3px;\n}\n'},702:function(t,e,n){"use strict";(function(t){var r=n(0),i=function(){function AnimateNumber(e){this.$el=t(e.nativeElement)}return AnimateNumber.prototype.ngOnInit=function(){this.$el.animateNumber({number:this.$el.text().replace(/ /gi,""),numberStep:t.animateNumber.numberStepFactories.separator(" "),easing:"easeInQuad"},1e3)},AnimateNumber=__decorate([r.Directive({selector:"[number-animate]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ElementRef&&r.ElementRef)&&e||Object])],AnimateNumber);var e}();e.AnimateNumber=i}).call(e,n(43))},703:function(t,e,n){"use strict";(function(t){var r=n(0),i=function(){function CheckAll(e){this.$el=t(e.nativeElement)}return CheckAll.prototype.ngOnInit=function(){var e=this.$el;e.on("click",function(){e.closest("table").find("input[type=checkbox]").not(this).prop("checked",t(this).prop("checked"))})},CheckAll=__decorate([r.Directive({selector:"[check-all]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ElementRef&&r.ElementRef)&&e||Object])],CheckAll);var e}();e.CheckAll=i}).call(e,n(43))},704:function(t,e,n){"use strict";(function(t){var r=n(0),i=function(){function ProgressAnimate(e){this.$el=t(e.nativeElement)}return ProgressAnimate.prototype.ngOnInit=function(){var t=this.$el.data("width"),e=this.$el;e.css("opacity",0),setTimeout(function(){e.css({transition:"none",width:0,opacity:1}),setTimeout(function(){e.css("transition","").css("width",t)})})},ProgressAnimate=__decorate([r.Directive({selector:"[progress-animate]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ElementRef&&r.ElementRef)&&e||Object])],ProgressAnimate);var e}();e.ProgressAnimate=i}).call(e,n(43))},705:function(t,e,n){"use strict";var r=n(74),i=n(0),a=n(702),o=n(703),s=n(704),l=function(){function UtilsModule(){}return UtilsModule=__decorate([i.NgModule({declarations:[a.AnimateNumber,o.CheckAll,s.ProgressAnimate],exports:[a.AnimateNumber,o.CheckAll,s.ProgressAnimate],imports:[r.CommonModule]}),__metadata("design:paramtypes",[])],UtilsModule)}();e.UtilsModule=l},722:function(t,e,n){(function(t){!function(t){t.fn.calendar=function(e){var n=t.extend({},t.fn.calendar.defaults,e);return this.each(function(){function showCalendar(){r=t('<table class="daysmonth table table">'),list_week();var n=new Date,i=f.val();if(""!=i&&validateDate(i)){var s=i.split("/");2==s[2].length&&("0"==s[2].charAt(0)&&(s[2]=s[2].substring(1)),s[2]=parseInt(s[2]),s[2]<50&&(s[2]+=2e3)),n=new Date(s[2],s[1]-1,s[0])}var l=n.getMonth(),c=n.getFullYear();showDaysOfMonth(l,c);var u=t('<td><i class="icon-arrow-right"></i></td>');u.click(function(t){t.stopPropagation(),t.preventDefault(),l=(l+1)%12,0==l&&c++,change_month(l,c)});var d=t('<td><i class="icon-arrow-left"></i></td>');d.click(function(t){t.stopPropagation(),t.preventDefault(),l-=1,l==-1&&(c--,l=11),change_month(l,c)}),t(".icon-arrow-left").css("cursor","pointer"),t(".icon-arrow-right").css("cursor","pointer");var h=t('<table class="table header"><tr></tr></table>'),p=t('<td colspan=5 class="year span6"></td>');h.append(d),h.append(p),h.append(u),p.append(a),e=t('<div class="calendar" id="'+o+'" ></div>'),e.prepend(h),e.append(r),f.append(e),check_events(l,c)}function change_month(t,e){r.empty(),list_week(),showDaysOfMonth(t,e),check_events(t,e)}function list_week(){if(0!=c){var e=t('<tr class="week_days" >'),n="";t(i).each(function(t,e){n+="<td",0==t&&(n+=' class="first"'),6==t&&(n+=' class="last"'),n+=">"+e+"</td>"}),n+="</tr>",e.append(n),r.append(e)}}function showDaysOfMonth(t,e){a.text(l[t]+" "+e);for(var n=1,i=calculateWeekday(1,t,e),s=lastDay(t,e),c=t+1,u="",d=0;d<7;d++){if(d<i){var h="";0==d&&(h+="<tr>"),h+='<td class="invalid',0==d&&(h+=" first"),h+='"></td>'}else{var h="";0==d&&(h+="<tr>"),h+='<td id="'+o+"_"+n+"_"+c+"_"+e+'" ',0==d&&(h+=' class="first"'),6==d&&(h+=' class="last"'),h+="><a>"+n+"</a></span>",6==d&&(h+="</tr>"),n++}u+=h}for(var f=1;n<=s;){var h="";f%7==1&&(h+="<tr>"),h+='<td id="'+o+"_"+n+"_"+c+"_"+e+'" ',f%7==1&&(h+=' class="first"'),f%7==0&&(h+=' class="last"'),h+="><a>"+n+"</a></td>",f%7==0&&(h+="</tr>"),n++,f++,u+=h}if(f--,f%7!=0){h="";for(var d=f%7+1;d<=7;d++){var h="";h+='<td class="invalid',7==d&&(h+=" last"),h+='"></td>',7==d&&(h+="</tr>"),u+=h}}r.append(u)}function calculateWeekday(t,e,n){var r=new Date(n,e,t),i=r.getDay();return i}function checkdate(t,e,n){return t>0&&t<13&&n>0&&n<32768&&e>0&&e<=new Date(n,t,0).getDate()}function lastDay(t,e){for(var n=28;checkdate(t+1,n+1,e);)n++;return n}function validateDate(t){var e=t.split("/");return 3==e.length&&checkdate(e[1],e[0],e[2])}function check_events(e,n){0!=h?t.ajax({type:h.type,url:h.url,data:{month:e+1,year:n},dataType:"json"}).done(function(r){s=[],t.each(r,function(t,e){s.push(r[t])}),markEvents(e,n)}):markEvents(e,n)}function markEvents(e,n){for(var r=e+1,i=0;i<s.length;i++)s[i][0].split("/")[1]==r&&s[i][0].split("/")[2]==n&&(t("#"+o+"_"+s[i][0].replace(/\//g,"_")).addClass("event"),t("#"+o+"_"+s[i][0].replace(/\//g,"_")+" a").attr("data-original-title",s[i][1]),s[i][3]&&t("#"+o+"_"+s[i][0].replace(/\//g,"_")).css("background",s[i][3]),""==s[i][2]||"#"==s[i][2]?""!=s[i][4]?(t("#"+o+"_"+s[i][0].replace(/\//g,"_")+" a").attr("data-trigger","manual"),t("#"+o+"_"+s[i][0].replace(/\//g,"_")+" a").addClass("manual_popover")):t("#"+o+"_"+s[i][0].replace(/\//g,"_")+" a").attr("href","javascript:false;"):t("#"+o+"_"+s[i][0].replace(/\//g,"_")+" a").attr("href",s[i][2]),s[i][4]?(t("#"+o+"_"+s[i][0].replace(/\//g,"_")).addClass("event_popover"),t("#"+o+"_"+s[i][0].replace(/\//g,"_")+" a").attr("rel","popover"),t("#"+o+"_"+s[i][0].replace(/\//g,"_")+" a").attr("data-content",s[i][4])):(t("#"+o+"_"+s[i][0].replace(/\//g,"_")).addClass("event_tooltip"),t("#"+o+"_"+s[i][0].replace(/\//g,"_")+" a").attr("rel","tooltip")));t("#"+o+" .event_tooltip a").tooltip(d),t("#"+o+" .event_popover a").popover(u),t(".manual_popover").click(function(){t(this).popover("toggle")})}var e,r,i,a=t('<div class="visualmonthyear"></div>'),o="cal_"+Math.floor(99999*Math.random()).toString(36),s=n.events;
i="undefined"!=typeof n.days?n.days:["S","M","T","W","T","F","S"];var l;l="undefined"!=typeof n.months?n.months:["January","February","March","April","May","June","July","August","September","October","November","December"];var c;c="undefined"==typeof n.show_days||n.show_days;var u;u="undefined"!=n.popover_options?n.popover_options:{placement:"top"};var d;d="undefined"!=typeof n.tooltip_options?n.tooltip_options:{placement:"top"};var h;h="undefined"!=typeof n.req_ajax&&n.req_ajax;var f=t(this);showCalendar()}),this}}(t)}).call(e,n(43))},729:function(t,e,n){(function(t){!function(t){var e=function(t){return t.split("").reverse().join("")},n={numberStep:function(e,n){var r=Math.floor(e),i=t(n.elem);i.text(r)}},r=function(t){var e=t.elem;if(e.nodeType&&e.parentNode){var r=e._animateNumberSetter;r||(r=n.numberStep),r(t.now,t)}};t.Tween&&t.Tween.propHooks?t.Tween.propHooks.number={set:r}:t.fx.step.number=r;var i=function(t,e){for(var n,r,i,a=t.split("").reverse(),o=[],s=0,l=Math.ceil(t.length/e);s<l;s++){for(n="",i=0;i<e&&(r=s*e+i,r!==t.length);i++)n+=a[r];o.push(n)}return o},a=function(t){var n=t.length-1,r=e(t[n]);return t[n]=e(parseInt(r,10).toString()),t};t.animateNumber={numberStepFactories:{append:function(e){return function(n,r){var i=Math.floor(n),a=t(r.elem);a.prop("number",n).text(i+e)}},separator:function(n,r,o){return n=n||" ",r=r||3,o=o||"",function(s,l){var c=Math.floor(s),u=c.toString(),d=t(l.elem);if(u.length>r){var h=i(u,r);u=a(h).join(n),u=e(u)}d.prop("number",s).text(u+o)}}}},t.fn.animateNumber=function(){for(var e=arguments[0],r=t.extend({},n,e),i=t(this),a=[r],o=1,s=arguments.length;o<s;o++)a.push(arguments[o]);if(e.numberStep){var l=this.each(function(){this._animateNumberSetter=e.numberStep}),c=r.complete;r.complete=function(){l.each(function(){delete this._animateNumberSetter}),c&&c.apply(this,arguments)}}return i.animate.apply(i,a)}}(t)}).call(e,n(43))},992:function(t,e,n){"use strict";(function(t){var r=n(0),i=function(){function BootstrapCalendar(e){this.$el=t(e.nativeElement)}return BootstrapCalendar.prototype.render=function(){function restyleCalendar(){i.find(".event").each(function(){var e=t(this),n=t("<span></span>");n.css("background-color",e.css("background-color")).appendTo(e.find("a")),e.css("background-color","")})}var e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["S","M","T","W","T","F","S"],r=this.events,i=this.$el;i.calendar({months:e,days:n,events:r,popover_options:{placement:"top",html:!0}}),i.find(".icon-arrow-left").addClass("fa fa-arrow-left"),i.find(".icon-arrow-right").addClass("fa fa-arrow-right"),i.find(".icon-arrow-left, .icon-arrow-right").parent().on("click",restyleCalendar),restyleCalendar()},BootstrapCalendar.prototype.ngOnInit=function(){this.render()},__decorate([r.Input(),__metadata("design:type",Object)],BootstrapCalendar.prototype,"events",void 0),BootstrapCalendar=__decorate([r.Directive({selector:"[bootstrap-calendar]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ElementRef&&r.ElementRef)&&e||Object])],BootstrapCalendar);var e}();e.BootstrapCalendar=i}).call(e,n(43))},993:function(t,e,n){"use strict";(function(t){var r=n(0),i=n(405),a=function(){function GeoLocationsWidget(e,n){this.$el=t(n.nativeElement),this.config=e.getConfig();var r;this.mapData={map:{name:"usa_states",defaultArea:{attrsHover:{fill:"#242424",animDuration:100},tooltip:{content:function(){return"<strong>"+r+"</strong>"}},eventHandlers:{mouseover:function(t,e){r=e}}},defaultPlot:{size:17,attrs:{fill:this.config.settings.colors["brand-warning"],stroke:"#fff","stroke-width":0,"stroke-linejoin":"round"},attrsHover:{"stroke-width":1,animDuration:100}},zoom:{enabled:!0,step:.75,mousewheel:!1}},plots:{ny:{latitude:40.717079,longitude:-74.00116,tooltip:{content:"New York"}},on:{latitude:33.145235,longitude:-83.811834,size:18,tooltip:{content:"Oconee National Forest"}},sf:{latitude:37.792032,longitude:-122.394613,size:12,tooltip:{content:"San Francisco"}},la:{latitude:26.93508,longitude:-80.851766,size:26,tooltip:{content:"Lake Okeechobee"}},gc:{latitude:36.331308,longitude:-83.33605,size:10,tooltip:{content:"Grainger County"}},cc:{latitude:36.269356,longitude:-76.587477,size:22,tooltip:{content:"Chowan County"}},ll:{latitude:30.700644,longitude:-95.145249,tooltip:{content:"Lake Livingston"}},tc:{latitude:34.546708,longitude:-90.211471,size:14,tooltip:{content:"Tunica County"}},lc:{latitude:32.628599,longitude:-103.675115,tooltip:{content:"Lea County"}},uc:{latitude:40.456692,longitude:-83.522688,size:11,tooltip:{content:"Union County"}},lm:{latitude:33.84463,longitude:-118.157483,tooltip:{content:"Lakewood Mutual"}}}}}return GeoLocationsWidget.prototype.ngOnInit=function(){this.$el.mapael(this.mapData)},GeoLocationsWidget=__decorate([r.Directive({selector:"[geo-locations-widget]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.AppConfig&&i.AppConfig)&&e||Object,"function"==typeof(n="undefined"!=typeof r.ElementRef&&r.ElementRef)&&n||Object])],GeoLocationsWidget);var e,n}();e.GeoLocationsWidget=a}).call(e,n(43))},994:function(t,e,n){"use strict";(function(t){var r=n(0),i=function(){function MarketStatsWidget(){this.seriesData=[[],[]],this.random=new t.Fixtures.RandomData(30);for(var e=0;e<30;e++)this.random.addData(this.seriesData);this.series=[{color:"#F7653F",data:this.seriesData[0],name:"Uploads"},{color:"#F7D9C5",data:this.seriesData[1],name:"Downloads"}]}return MarketStatsWidget=__decorate([r.Component({selector:"[market-stats-widget]",template:'<div class="chart-overflow-bottom" rickshaw-chart [series]="series" [height]="100" [seriesData]="seriesData" [random]="random" [realtime]="true"></div>',encapsulation:r.ViewEncapsulation.None,styles:[n(701)]}),__metadata("design:paramtypes",[])],MarketStatsWidget)}();e.MarketStatsWidget=i}).call(e,n(686))},995:function(t,e,n){"use strict";(function(t){var r=n(0),i=n(405),a=n(696),o=n(107),s=function(){function Opening(t,e,n){this.TransactionService=e,this.router=n,this.showTransactionDetails=!1,this.errorDiv=!1,this.config=t.getConfig()}return Opening.prototype.getTransactionId=function(){var e=this;this.transactionId=t.trim(this.transactionId),void 0==this.transactionId||0==this.transactionId.length?this.errorDiv=!0:(this.errorDiv=!1,this.TransactionService.getTransactionData(this.transactionId).subscribe(function(n){console.log(n),200==n.code?(e.transaction=n.data,e.block_hash=n.data.block_hash,e.block_height=n.data.block_height,e.block_time=n.data.block_time,e.confirmations=n.data.confirmations,e.contains_dust=n.data.contains_dust,e.estimated_change=n.data.estimated_change,e.estimated_change_address=n.data.estimated_change_address,e.estimated_value=n.data.estimated_value,e.first_seen_at=n.data.first_seen_at,e.hash=n.data.hash,e.high_priority=n.data.high_priority,e.is_coinbase=n.data.is_coinbase,e.is_double_spend=n.data.is_double_spend,e.last_seen_at=n.data.last_seen_at,e.lock_time_block_height=n.data.lock_time_block_height,e.lock_time_timestamp=n.data.lock_time_timestamp,e.size=n.data.size,e.total_fee=n.data.total_fee,e.total_input_value=n.data.total_input_value,e.total_output_value=n.data.total_output_value,e.unconfirmed_inputs=n.data.unconfirmed_inputs,e.showTransactionDetails=!0,console.log(n.data.block_time)):(e.showTransactionDetails=!1,t('<div class="alert alert-danger wrongId">Wrong Transaction ID!</div>').insertAfter(".subscriptionBox"),setTimeout(function(){t(".wrongId").hide()},3e3))}))},Opening.prototype.rerouteToLogin=function(){this.router.navigate(["/login"])},Opening.prototype.ngOnInit=function(){var t=new Date;this.month=t.getMonth()+1,this.year=t.getFullYear()},Opening=__decorate([r.Component({selector:"opening",template:n(1082),styles:[n(1043)],encapsulation:r.ViewEncapsulation.None,providers:[a.TransactionService]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.AppConfig&&i.AppConfig)&&e||Object,"function"==typeof(s="undefined"!=typeof a.TransactionService&&a.TransactionService)&&s||Object,"function"==typeof(l="undefined"!=typeof o.Router&&o.Router)&&l||Object])],Opening);var e,s,l}();e.Opening=s}).call(e,n(43))}});